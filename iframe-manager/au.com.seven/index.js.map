{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-101dfd235c13c874.js","src/iframe-manager/au.com.seven/index.js","node_modules/@swc/helpers/esm/_define_property.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","node_modules/@swc/helpers/esm/_object_spread.js","src/iframe-manager/au.com.seven/helpers/seven-store.js","src/iframe-manager/au.com.seven/helpers/utils.js","src/iframe-manager/au.com.seven/package.json","src/iframe-manager/au.com.seven/helpers/MessengerLink.js","src/iframe-manager/au.com.seven/helpers/Messengers.js","src/iframe-manager/au.com.seven/helpers/Messenger.js","src/iframe-manager/provider-utils.js","src/iframe-manager/au.com.seven/seven-services/seven-api.js","node_modules/@swc/helpers/esm/_object_spread_props.js","src/iframe-manager/au.com.seven/seven-services/featureFlag-helper.js","src/iframe-manager/au.com.seven/seven-services/seven-auth.js","src/iframe-manager/au.com.seven/analytics/NewRelicAnalytics.js","src/iframe-manager/au.com.seven/analytics/SnowplowBridge.js","src/iframe-manager/au.com.seven/analytics/SnowplowClient.js","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker/dist/index.module.js","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker/src/api.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker/src/index.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/dist/index.module.js","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/helpers/storage.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/helpers/index.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/detectors.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/tracker/schemata.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/tracker/out_queue.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/proxies.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/tracker/id_cookie.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/helpers/browser_props.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/tracker/index.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/snowplow.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/browser-tracker-core/src/state.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/tracker-core/dist/index.module.js","src/iframe-manager/au.com.seven/node_modules/@snowplow/tracker-core/src/base64.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/tracker-core/src/payload.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/tracker-core/src/logger.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/tracker-core/src/contexts.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/tracker-core/src/core.ts","src/iframe-manager/au.com.seven/node_modules/@snowplow/tracker-core/src/index.ts","src/iframe-manager/au.com.seven/node_modules/tslib/tslib.es6.js","src/iframe-manager/au.com.seven/node_modules/uuid/index.js","src/iframe-manager/au.com.seven/node_modules/uuid/v1.js","src/iframe-manager/au.com.seven/node_modules/uuid/lib/rng-browser.js","src/iframe-manager/au.com.seven/node_modules/uuid/lib/bytesToUuid.js","src/iframe-manager/au.com.seven/node_modules/uuid/v4.js","src/iframe-manager/au.com.seven/node_modules/sha1/sha1.js","node_modules/@parcel/node-resolver-core/lib/_empty.js","src/iframe-manager/au.com.seven/node_modules/crypt/crypt.js","src/iframe-manager/au.com.seven/node_modules/charenc/charenc.js","src/iframe-manager/au.com.seven/analytics/MuxAnalytics.js","src/iframe-manager/au.com.seven/lib/mux-analytics.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"bebc91dccb5f5641\";module.bundle.HMR_BUNDLE_ID = \"7ef964a4a049ef66\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws;\n  try {\n    ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n  } catch (err) {\n    if (err.message) {\n      console.error(err.message);\n    }\n    ws = {};\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error(' [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  ws.onerror = function (e) {\n    if (e.message) {\n      console.error(e.message);\n    }\n  };\n  ws.onclose = function () {\n    console.warn('[parcel]  Connection to the HMR server was lost');\n  };\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel]  Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n           ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div> ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div> <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","import { Store } from \"./helpers/seven-store\";\nimport { MessengerLink } from \"./helpers/MessengerLink\";\nimport { Messengers } from \"./helpers/Messengers\";\nimport { NetworkConnectionType } from \"./helpers/utils\";\nimport { ErrorTypes, MLEError } from \"../provider-utils\";\nimport {\n    getAndStoreConfig,\n    getAndStoreRegion,\n    getSevenPlaybackData,\n} from \"./seven-services/seven-api\";\nimport {\n    getAndStoreUserInfo,\n    tryPerformTokenRefresh,\n} from \"./seven-services/seven-auth\";\nimport NewRelicAnalytics from \"./analytics/NewRelicAnalytics\";\nimport SnowplowBridge from \"./analytics/SnowplowBridge\";\nimport MuxAnalytics from \"./analytics/MuxAnalytics\";\n\nexport default class SevenProvider {\n    config;\n    messengerLink;\n    videoElement;\n\n    constructor(config) {\n        this.config = config;\n    }\n\n    /**\n     * @typedef {import('../../app/get-asset').GetAssetRequest} GetAssetRequest\n     * @typedef {import('../../app/get-asset').GetAssetResponse} GetAssetResponse\n     */\n    /**\n     * @param {GetAssetRequest} args requested asset and device information\n     * @returns {GetAssetResponse} streams for the requested asset\n     */\n    async getAsset({\n        authToken,\n        glassAssetLocator,\n        glassContentOptions,\n        deviceInfo,\n    }) {\n        const start = performance.now();\n        let gracenoteId = getFileName(glassAssetLocator.pathname);\n        const provider = glassAssetLocator.searchParams.get(\"provider\");\n        let providerId = glassAssetLocator.searchParams.get(\"providerid\");\n\n        const {\n            glassConfigure: {\n                brand: deviceBrand,\n                osVersion: deviceOSVersion,\n                model: deviceModel,\n            },\n            uuid: deviceId,\n        } = deviceInfo;\n        const { connectionType: networkConnectionType } = glassContentOptions;\n\n        try {\n            const sevenAuthData = JSON.parse(atob(authToken));\n            const { refresh_token } = sevenAuthData;\n            if (!refresh_token) throw new Error();\n            Store.Auth.refresh_token = refresh_token;\n        } catch (e) {\n            throw new MLEError(\n                \"Could not parse Seven auth data\",\n                ErrorTypes.GENERIC\n            );\n        }\n\n        console.info(\"[acc] SEVEN received startup data\", {\n            glassAssetLocator,\n            authToken,\n            glassAssetLocatorParsed: {\n                provider,\n                providerId,\n            },\n            glassContentOptions,\n            deviceInfo,\n        });\n\n        let channelId;\n        try {\n            const channelInfo = JSON.parse(providerId);\n            if (!channelInfo.channelId) {\n                throw new Error();\n            }\n            channelId = channelInfo.channelId;\n        } catch (err) {\n            throw new MLEError(\n                \"Could not parse Seven channelID\",\n                ErrorTypes.CHANNEL_MAP\n            );\n        }\n\n        console.info(\n            `[acc] Accedo version ${Store.appVersion}, parent app version ${deviceInfo.appVersion}, player version ${deviceInfo.playerVersion}`\n        );\n\n        Store.deviceId = deviceId;\n        Store.deviceBrand = deviceBrand;\n        Store.devicePlatform = \"SoIP\"; // hardcode till firebolt is sunsetted\n        Store.deviceModel = \"Xi1\"; // hardcode till firebolt is sunsetted\n        Store.deviceFirmwareVersion = deviceOSVersion;\n        Store.appIsRunning = true;\n        if (networkConnectionType.toLowerCase() === \"ethernet\") {\n            Store.deviceNetworkConnection = NetworkConnectionType.LAN;\n        } else if (networkConnectionType.toLowerCase() === \"wifi\") {\n            Store.deviceNetworkConnection = NetworkConnectionType.WIFI;\n        }\n\n        // Expect subpromises to throw their own MLEErrors\n        await getAndStoreConfig();\n        await Promise.all([getAndStoreRegion(), tryPerformTokenRefresh()]);\n        await getAndStoreUserInfo();\n        const sourceInfo = await getSevenPlaybackData(channelId);\n\n        console.log(\n            `[acc] passing back url ${sourceInfo.sourceUrl} after ${\n                (performance.now() - start) / 1000\n            }s`\n        );\n        return {\n            aampInitConfigOverrides: {\n                setLicenseCaching: false,\n                ...this.config?.aampInitConfigRemoteOverrides,\n            },\n            streams: [\n                {\n                    url: sourceInfo.sourceUrl,\n                    drmConfig: sourceInfo.drmLicenseUrl\n                        ? {\n                              [Store.preferredDrmSystem]:\n                                  sourceInfo.drmLicenseUrl,\n                              preferredKeysystem: Store.preferredDrmSystem,\n                          }\n                        : undefined,\n                    requestHeaders: sourceInfo.requestHeaders,\n                },\n            ],\n        };\n    }\n\n    monitoringSetup(videoElement) {\n        console.log(\"[acc] call monitoringSetup\");\n        if (!this.messengerLink) {\n            this.messengerLink = new MessengerLink(Messengers);\n        }\n        this.videoElement = videoElement;\n        this.messengerLink.unlinkVideoElementListeners(this.videoElement);\n        this.messengerLink.linkVideoElementListeners(this.videoElement);\n\n        // expect modules to destroy themselves when appTeardown$ fires\n        SnowplowBridge.init();\n        MuxAnalytics.init();\n        NewRelicAnalytics.init();\n    }\n\n    monitoringTeardown() {\n        console.log(\"[acc] call monitoringTeardown\");\n        if (this.messengerLink && this.videoElement) {\n            this.messengerLink.unlinkVideoElementListeners(this.videoElement);\n        }\n        Messengers.appTeardown$.send();\n        Object.keys(Messengers).forEach((key) => Messengers[key].reset());\n        Store.appIsRunning = false;\n    }\n}\n\nfunction getFileName(url) {\n    if (url) {\n        return url.substring(url.lastIndexOf(\"/\") + 1, url.lastIndexOf(\".\"));\n    }\n\n    return \"\";\n}\n","export function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else obj[key] = value;\n\n    return obj;\n}\nexport { _define_property as _ };\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","import { _define_property } from \"./_define_property.js\";\n\nexport function _object_spread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(\n                Object.getOwnPropertySymbols(source).filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                })\n            );\n        }\n\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n\n    return target;\n}\nexport { _object_spread as _ };\n","import { NetworkConnectionType, generateUUID } from \"./utils\";\nimport { generateUUID } from \"../helpers/utils\";\nimport packageJson from \"../package.json\";\n\nconst adIdKey = \"au.com.seven_MLE_AD_ID\";\nconst sevenStagingConfigKey = \"au.com.seven_USE_STAGING_CONFIG\";\n\n// run this in debugger to set staging config, then reload\n// localStorage.setItem(\"au.com.seven_USE_STAGING_CONFIG\", \"true\");\n\nconst useProdConfig = localStorage.getItem(sevenStagingConfigKey) !== \"true\";\n\nlet backupAdId = generateUUID();\nlet generateOztamSessionId = '';\n\nexport const Store = {\n    appVersion: packageJson.version,\n    deviceId: \"\",\n    deviceModel: \"\",\n    deviceBrand: \"\",\n    devicePlatform: \"\",\n    deviceMake: \"foxtelglass\",\n    deviceFirmwareVersion: \"\",\n    appIsRunning: true,\n    preferredDrmSystem: \"com.widevine.alpha\",\n    useProdConfig,\n    Api: {\n        configBase: useProdConfig\n            ? \"https://config.swm.digital\"\n            : \"https://config-staging.inferno.digital\",\n        regSource: \"7plus\",\n        platformId: \"foxtel\",\n        platformVersion: \"6.0.0\",\n        apiVersion: \"4.8\",\n        apiKey: useProdConfig\n            ? \"CJSy6SIdYbDiD4YYnLLC1C7rcLWS4tlmtQlRDIoi9tUcf\"\n            : \"Dh4H9pKXnCi07UzmbLnvWHbAG57jxqCMeogzNJbpSDp\", // staging\n    },\n    deviceNetworkConnection: NetworkConnectionType.UNKNOWN,\n    AppConfig: null,\n    RegionData: {\n        regionKey: \"<empty>\",\n        marketKey: \"<empty>\",\n        postcode: \"<empty>\",\n        ipAddress: \"<empty>\",\n        userMarket: \"<empty>\",\n        isLocationVerified: false\n    },\n    UserInfo: {\n        email: \"<empty>\",\n        firstname: \"<empty>\",\n        lastname: \"<empty>\",\n        subject: \"<empty>\",\n    },\n    Auth: {\n        access_token: \"\",\n        expires_in: -1,\n        refresh_token: \"\",\n    },\n    getOzTamId: () => {\n       return generateOztamSessionId;\n    },\n\n    setOzTamId: (sessionId) => {\n        if(!sessionId) {\n            sessionId = generateUUID();\n        }\n\n        generateOztamSessionId = sessionId;\n    },\n    getAdId: () => {\n        if (!localStorage) {\n            return backupAdId;\n        }\n        let storedId = localStorage.getItem(adIdKey);\n        if (storedId) {\n            return storedId;\n        }\n\n        localStorage.setItem(adIdKey, backupAdId);\n        return backupAdId;\n    },\n    // AFL feature flags\n    isAflGeoEnabled: true,\n    isUpdatedAuth2ApiEnabled: true,\n    isLocationApiEnabled: true,\n    isPlaybackLocationVerificationEnabled: true,\n};\n","export class NetworkConnectionType {\n    static WIFI = \"WIFI\";\n    static LAN = \"LAN\";\n    static UNKNOWN = \"Unknown\";\n}\n\nexport class PlayerStates {\n    static Playing = \"Playing\";\n    static Paused = \"Paused\";\n    static Buffering = \"Buffering\";\n    static Seeking = \"Seeking\";\n    static Initialising = \"Initialising\";\n}\n\nexport class OztamEventType {\n    static LOAD = \"LOAD\";\n    static BEGIN = \"BEGIN\";\n    static PROGRESS = \"PROGRESS\";\n    static COMPLETE = \"COMPLETE\";\n    static AD_BEGIN = \"AD_BEGIN\";\n    static AD_COMPLETE = \"AD_COMPLETE\";\n}\n\n// https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid\nexport const generateUUID = () => {\n    // Public Domain/MIT\n    let d = new Date().getTime(); //Timestamp\n    let d2 =\n        (typeof performance !== \"undefined\" &&\n            performance.now &&\n            performance.now() * 1000) ||\n        0; //Time in microseconds since page-load or 0 if unsupported\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n        /[xy]/g,\n        function (c) {\n            let r = Math.random() * 16; //random number between 0 and 16\n            if (d > 0) {\n                //Use timestamp until depleted\n                r = (d + r) % 16 | 0;\n                d = Math.floor(d / 16);\n            } else {\n                //Use microseconds since page-load if supported\n                r = (d2 + r) % 16 | 0;\n                d2 = Math.floor(d2 / 16);\n            }\n            return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n        }\n    );\n};\n\nexport class AsyncFunctionQueue {\n    _functionQueue = [];\n    _functionRunningInProgress = false;\n\n    pushFunction(fn) {\n        this._functionQueue.push(fn);\n        this._tryStartQueueProcessing();\n    }\n\n    _tryStartQueueProcessing = async () => {\n        if (this._functionRunningInProgress || !this._functionQueue.length)\n            return;\n\n        this._functionRunningInProgress = true;\n        await this._functionQueue.shift()();\n        this._functionRunningInProgress = false;\n        this._tryStartQueueProcessing();\n    };\n}\n","{\n  \"name\": \"au.com.seven\",\n  \"version\": \"1.0.49\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@snowplow/browser-tracker\": \"^3.14.0\"\n  }\n}\n","import { PlayerStates } from \"./utils\";\n\nexport class MessengerLink {\n    Messengers;\n    videoElement;\n    constructor(Messengers) {\n        this.Messengers = Messengers;\n    }\n\n    // player events\n    onBitrateChange = (bitrateObj) => {\n        this.Messengers.bitrateChange$.send(bitrateObj.detail.bitRate);\n    };\n    onTimeUpdate = () =>\n        this.Messengers.timeUpdate$.send(this.videoElement.currentTime);\n    onId3Metadata = (id3Obj) => {\n        this.Messengers.id3Metadata$.send(id3Obj);\n\n        // TODO remove after AAMP does their testing\n        let rawTag = \"\";\n        id3Obj.detail?.data?.forEach((charCode) => {\n            const char = String.fromCharCode(charCode);\n            rawTag += char;\n        });\n        rawTag = rawTag.replace(/[^a-zA-z0-9.:]/g, \"\");\n        console.debug(\n            `[acc] %%% ID3 Event emitted, timestamp ${(\n                id3Obj.detail?.presentationTime / 1000\n            ).toFixed(2)} ${rawTag}`\n        );\n    };\n    onManifestTimedMetadata = (metadataObj) =>\n        this.Messengers.timedMetadata$.send(metadataObj);\n    onError = () => this.Messengers.playerError$.send(this.videoElement.error);\n    onAppHidden = (detailObj) =>\n        this.Messengers.appHiddenWithoutAudio$.send(detailObj.detail.blocked);\n\n    // player states\n    onInitialising = () =>\n        this.Messengers.playerState$.send(PlayerStates.Initialising);\n    onPlaying = () => this.Messengers.playerState$.send(PlayerStates.Playing);\n    onPause = () => this.Messengers.playerState$.send(PlayerStates.Paused);\n    onWaiting = () => this.Messengers.playerState$.send(PlayerStates.Buffering);\n    onSeeking = () => this.Messengers.playerState$.send(PlayerStates.Seeking);\n\n    linkVideoElementListeners = (videoElement) => {\n        videoElement.addEventListener(\"timeupdate\", this.onTimeUpdate);\n        videoElement.addEventListener(\"bitrateChanged\", this.onBitrateChange);\n        videoElement.addEventListener(\"id3Metadata\", this.onId3Metadata);\n        videoElement.addEventListener(\n            \"timedMetadata\",\n            this.onManifestTimedMetadata\n        );\n        videoElement.addEventListener(\"error\", this.onError);\n        videoElement.addEventListener(\"blocked\", this.onAppHidden);\n\n        videoElement.addEventListener(\"loadedmetadata\", this.onInitialising);\n        videoElement.addEventListener(\"playing\", this.onPlaying);\n        videoElement.addEventListener(\"pause\", this.onPause);\n        videoElement.addEventListener(\"waiting\", this.onWaiting);\n        videoElement.addEventListener(\"seeking\", this.onSeeking);\n        this.videoElement = videoElement;\n    };\n\n    unlinkVideoElementListeners = (videoElement) => {\n        videoElement.removeEventListener(\"timeupdate\", this.onTimeUpdate);\n        videoElement.removeEventListener(\n            \"bitrateChanged\",\n            this.onBitrateChange\n        );\n        videoElement.removeEventListener(\"id3Metadata\", this.onId3Metadata);\n        videoElement.removeEventListener(\n            \"timedMetadata\",\n            this.onManifestTimedMetadata\n        );\n        videoElement.removeEventListener(\"error\", this.onError);\n        videoElement.removeEventListener(\"blocked\", this.onAppHidden);\n\n        videoElement.removeEventListener(\"loadedmetadata\", this.onInitialising);\n        videoElement.removeEventListener(\"playing\", this.onPlaying);\n        videoElement.removeEventListener(\"pause\", this.onPause);\n        videoElement.removeEventListener(\"waiting\", this.onWaiting);\n        videoElement.removeEventListener(\"seeking\", this.onSeeking);\n        this.videoElement = null;\n    };\n}\n","import { Messenger } from \"./Messenger\";\nimport { generateUUID, PlayerStates } from \"./utils\";\n\nclass MessengersClass {\n    // SEVEN specific\n    streamReady$ = new Messenger(null);\n    playbackData$ = new Messenger(null);\n\n    // player\n    playerState$ = new Messenger(PlayerStates.Initialising);\n    timeUpdate$ = new Messenger(0);\n    bitrateChange$ = new Messenger(0);\n    id3Metadata$ = new Messenger(null);\n    playerError$ = new Messenger(null);\n    timedMetadata$ = new Messenger(null);\n    appHiddenWithoutAudio$ = new Messenger(false);\n\n    // ads\n    currentAd$ = new Messenger(null);\n\n    // other\n    appTeardown$ = new Messenger(undefined);\n    oztamSessionId$ = new Messenger(generateUUID());\n}\n\nexport const Messengers = new MessengersClass();\n","class Receiver {\n    teardownFunctions = [];\n\n    constructor(action) {\n        this.action = action;\n    }\n\n    addTeardown = (teardownFn) => {\n        this.teardownFunctions.push(teardownFn);\n    };\n\n    callAction = (value) => this.action(value);\n\n    unlisten = () => {\n        this.teardownFunctions.forEach((teardownFn) => teardownFn());\n        this.teardownFunctions = [];\n    };\n}\n\nclass PartialMessenger {\n    receivers = [];\n\n    constructor(messengerLink = undefined) {\n        this.messengerLink = messengerLink;\n    }\n\n    addReceiver(receiverAction, immediatelySendData = false) {\n        const newReceiver = new Receiver(receiverAction);\n\n        if (this.messengerLink) {\n            const linkTeardownFunction = this.messengerLink(\n                newReceiver,\n                immediatelySendData\n            );\n            newReceiver.addTeardown(linkTeardownFunction);\n        }\n\n        newReceiver.addTeardown(() => {\n            this.receivers = this.receivers.filter(\n                (receiver) => receiver !== newReceiver\n            );\n        });\n\n        this.receivers.push(newReceiver);\n        return newReceiver;\n    }\n\n    pipe(...fns) {\n        const aggregateOfAll = (source) =>\n            fns.reduce(\n                (observableSoFar, operatorFunction) =>\n                    operatorFunction(observableSoFar),\n                source\n            );\n        return aggregateOfAll(this);\n    }\n}\n\nexport class Messenger extends PartialMessenger {\n    initialValue;\n    state;\n\n    constructor(state) {\n        super(undefined);\n        this.initialValue = state;\n        this.state = state;\n    }\n\n    addReceiver = (receiverAction, immediatelySendData = false) => {\n        const newReceiver = super.addReceiver(receiverAction);\n        if (immediatelySendData) {\n            newReceiver.callAction(this.state);\n        }\n        return newReceiver;\n    };\n\n    send = (data) => {\n        this.state = data;\n        this.receivers.forEach((receiver) => {\n            receiver.callAction(data);\n        });\n    };\n\n    reset = () => {\n        this.send(this.initialValue);\n    };\n\n    getCurrentValue = () => this.state;\n}\n","export class ErrorTypes {\n    static GENERIC = 'GENERIC';\n    static AUTH = 'AUTH';\n    static PROVIDER = 'PROVIDER';\n    static CHANNEL_MAP = 'CHANNEL_MAP';\n}\n\nexport class MLEError extends Error {\n    type;\n    status;\n\n    constructor(message, type, status) {\n        super(message);\n        this.message = message;\n        this.type = type;\n        this.status = status;\n    }\n\n    getDetail() {\n        return null;\n    }\n\n    getMediaFailedPayload() {\n        return {\n            error: {\n                major: 20000,\n                minor: 110, // MIPA-100\n                desc: `${this.type}|${this.message}|${this.status}`,\n            },\n        };\n    }\n}\n\nexport const setTokenInDeviceStorage = async (\n    storageKey,\n    encodedTokenString\n) => {\n    // eslint-disable-next-line no-console\n    console.log(`Updating token for ${storageKey}`);\n    return await fetch(`http://localhost:9005/as/system/token/${storageKey}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            token: encodedTokenString,\n        }),\n    });\n};\n","import { Messengers } from \"../helpers/Messengers\";\nimport { Store } from \"../helpers/seven-store\";\nimport { ErrorTypes, MLEError, setTokenInDeviceStorage } from \"../../provider-utils\";\nimport { \n    getLivePlaybackSourceMockHelper, \n    shouldHandleLocationOrWrongChannelError, \n} from \"./featureFlag-helper\"\nimport { generateUUID } from \"../helpers/utils\";\n\nconst LIVE_STREAM_TYPE = \"application/vnd.apple.mpegurl\";\n\nconst proxyUrl = \"https://au-proxy.apac.ninja/seven-proxy\";\n\nconst isUpdatedAuth2ApiEnabled = Store.isUpdatedAuth2ApiEnabled\nconst isAflGeoEnabled = Store.isAflGeoEnabled\n\nexport const makeSevenAPIRequest = async (url, fetchInit = undefined) => {\n    const newFetchInit = {\n        ...fetchInit,\n        headers: {\n            ...fetchInit?.headers,\n        },\n    };\n\n    if (!Store.useProdConfig) {\n        newFetchInit.headers[\"Target-URL\"] = encodeURI(url);\n        return await fetch(proxyUrl, newFetchInit);\n    }\n\n    return await fetch(url, newFetchInit);\n};\n\nexport const makeSevenPlaybackAPIRequest = async (url, fetchInit = {}) => {\n    const newFetchInit = {\n        ...fetchInit,\n        headers: {\n            ...fetchInit.headers,\n        },\n    };\n\n    try {\n        // Use proxy URL if not in production config\n        const response = await (Store.useProdConfig \n            ? fetch(url, newFetchInit) \n            : fetch(proxyUrl, { ...newFetchInit, headers: { ...newFetchInit.headers, \"Target-URL\": encodeURI(url) } })\n        );\n\n        if (!response.ok) {\n            const error = await getErrorResponse(response);\n            console.warn('API request not ok:', JSON.stringify(error));\n            return { error: response.status, errorJson: error };\n        }\n\n        return await response.json();\n    } catch (e) {\n        console.error('Fetch error:', e);\n        return { error: 'Fetch error', details: e.message };\n    }\n};\n\nconst getErrorResponse = async (response) => {\n    try {\n        return await response.json();\n    } catch (e) {\n        console.warn('Failed to parse error response as JSON:', e);\n        return { error: 'Unknown error' }; // Fallback in case parsing fails\n    }\n};\n\n\nconst buildVideoUrl = (skeletonUrl, options) => {\n    const { isDrmEnabled, isDrmMockingEnabled } = options || {};\n    // @TODO change advertId to use PSID id once Samsung confirmed\n    Store.setOzTamId(generateUUID());\n\n    const deviceId = Store.deviceId;\n    const postcode = Store.RegionData.postcode;\n    const deliveryId = \"ssaibeacon\";\n    let videoUrl = skeletonUrl\n        .replace(\"{ppId}\", \"\")\n        .replace(\"{deliveryId}\", deliveryId)\n        .replace(\"[advertid]\", deviceId)\n        .replace(\"[postcode]\", postcode)\n        .replace(\"[deviceId]\", deviceId);\n\n    const ozidParam = `${skeletonUrl.indexOf(\"?\") >= 0 ? \"&\" : \"?\"}ozid=`;\n    videoUrl += ozidParam + Store.getOzTamId();\n\n    if (isDrmMockingEnabled) {\n        videoUrl = getLivePlaybackSourceMockHelper(videoUrl)\n    }\n\n    // Append DRM params to video service request.\n    if (isDrmEnabled) {\n        videoUrl += `&cp.containerFormat=ts|cmaf&cp.drmSystems=widevine&cp.encryptionType=cenc&cp.drmAuth=true`;\n    }\n\n    return videoUrl;\n};\n\nexport const getSevenPlaybackData = async (channelCode) => {\n    const apiBaseUrl = Store.AppConfig.endpoints.BASE_URL;\n    const sevenChannelUrl = `${apiBaseUrl}player/live/${channelCode}?platform-id=${Store.Api.platformId}&market-id=${Store.RegionData.marketKey}&api-version=${Store.Api.apiVersion}&signedUp=True&platform-version=${Store.Api.platformId}`;\n\n    let skeletonUrl;\n    try {\n        const channelRequest = await makeSevenAPIRequest(sevenChannelUrl);\n\n        if (!channelRequest.ok) {\n            throw channelRequest;\n        }\n\n        const channelResponse = await channelRequest.json();\n        const videoData = channelResponse.videoPlayer;\n\n        if (!videoData)\n            throw new Error(\"No matching video in channel response\");\n\n        if (videoData.videoUrl) {\n            skeletonUrl = videoData.videoUrl;\n            Messengers.streamReady$.send(videoData);\n        } else {\n            throw new Error(\"Channel videoUrl not found\");\n        }\n    } catch (err) {\n        if (err.status === 404) {\n            throw new MLEError(\n                `Could not find channel with code ${channelCode} on 7Plus API`,\n                ErrorTypes.CHANNEL_MAP,\n                err.status\n            );\n        }\n        throw new MLEError(err.message, ErrorTypes.PROVIDER, err.status);\n    }\n\n    const { LIVE_DRM_ENABLED, LIVE_DRM_MOCKING_ENABLED } = Store.AppConfig.config;\n    const isDrmEnabled = LIVE_DRM_ENABLED ?? false;\n    const isDrmMockingEnabled = LIVE_DRM_MOCKING_ENABLED ?? false;\n    const videoUrl = buildVideoUrl(skeletonUrl, { isDrmEnabled, isDrmMockingEnabled });\n\n    try {\n        const playbackResponse = await makeSevenPlaybackAPIRequest(videoUrl, {\n            headers: { Authorization: \"Bearer \" + Store.Auth.access_token },\n        });\n\n        if (playbackResponse?.error) {\n            throw playbackResponse;\n        }\n\n        let matchingSource;\n        if (isDrmEnabled && playbackResponse?.media?.stream_type_drm) {\n            matchingSource = playbackResponse.media.sources.find(\n                (channel) => channel.encryption_type === \"cenc\"\n            );\n        } else {\n            matchingSource = playbackResponse.media.sources.find(\n                (channel) => channel.type === LIVE_STREAM_TYPE\n            );\n        }\n        if (!matchingSource) {\n            throw new Error(\"Could not find matching live object\");\n        }\n\n        Messengers.playbackData$.send({ matchingSource, playbackResponse });\n        const licenseAuthorizationToken =\n            matchingSource[\"key_systems\"]?.authorization?.token;\n        const licenseRequestHeaders = [\n            {\n                key: \"Authorization\",\n                value: `Bearer ${licenseAuthorizationToken}`,\n                isLicenseRequest: true,\n            },\n            {\n                key: \"Content-Type\",\n                value: \"application/octet-stream\",\n                isLicenseRequest: true,\n            },\n        ];\n        return {\n            sourceUrl: matchingSource.src,\n            drmLicenseUrl:\n                matchingSource[\"key_systems\"]?.[Store.preferredDrmSystem]\n                    ?.license_url,\n            ...(licenseAuthorizationToken && {\n                requestHeaders: licenseRequestHeaders,\n            }),\n        };\n    } catch (err) {\n        // check for AFL location verification error\n        if (shouldHandleLocationOrWrongChannelError(err)) {\n            // need to set geoRestricted Flag to true and naviate to sign in page\n            setTokenInDeviceStorage(\n                \"au.com.seven\",\n                btoa(\n                    JSON.stringify({\n                        refresh_token: Store.Auth.refresh_token,\n                        access_token: Store.Auth.access_token,\n                        geoRestricted: true\n                    })\n                )\n            );\n            throw new MLEError(\n                \"Could not play the 7Plus video geo hard block\",\n                ErrorTypes.AUTH,\n                err.status\n            );\n        } else {\n            console.error('errs:' + err)\n            throw new MLEError(err.message, ErrorTypes.PROVIDER, err.status);\n        }\n    }\n};\n\nexport const getAndStoreRegion = async () => {\n    let regionUrl;\n    const isLocationApiEnabled = Store.isLocationApiEnabled\n\n    if (isLocationApiEnabled) {\n        regionUrl = Store.AppConfig.endpoints.LOCATION_URL;\n    } else {\n        regionUrl = Store.AppConfig.endpoints.GEO_LOCATION_URL;\n    }\n\n    regionUrl = regionUrl.replace('{deviceId}', Store.deviceId)\n    const regionRequest = await makeSevenAPIRequest(regionUrl);\n    let regionResponse;\n\n    if (!regionRequest.ok) {\n        regionResponse = isLocationApiEnabled ? {\n            market_id: Number(Store?.getAppConfig()?.config.DEFAULT_REGION) || -1,\n            postcode: '',\n            suburb: '',\n            user_market: '',\n            verified: false\n        } : {\n            _id: Number(Store.AppConfig.config.DEFAULT_REGION),\n            postcode: '',\n            place_name: '',\n            ip_address: ''\n        };\n    } else {\n        regionResponse = await regionRequest.json();\n    }\n\n    if (isLocationApiEnabled) {\n        Store.RegionData = {\n            regionKey: regionResponse.suburb,\n            marketKey: regionResponse.market_id.toString(),\n            postcode: regionResponse.postcode,\n            userMarket: regionResponse.user_market,\n            isLocationVerified: regionResponse.verified\n        };\n    } else {\n        Store.RegionData = {\n            regionKey: regionResponse.place_name,\n            marketKey: regionResponse._id.toString(),\n            postcode: regionResponse.postcode,\n            ipAddress: regionResponse.ip_address,\n        };\n    }\n   \n};\n\nexport const getAndStoreConfig = async () => {\n    let jsonVersion = isAflGeoEnabled && isUpdatedAuth2ApiEnabled ? '1.0' : '0.3'\n    const getConfigUrl = `${Store.Api.configBase}/${Store.Api.platformId}/${jsonVersion}.json?version=${Store.Api.platformVersion}`;\n    const configRequest = await makeSevenAPIRequest(getConfigUrl);\n\n    if (!configRequest.ok) {\n        throw new MLEError(\n            \"App config request failed\",\n            ErrorTypes.PROVIDER,\n            configRequest.status\n        );\n    }\n    const configResponse = await configRequest.json();\n    Store.AppConfig = configResponse;\n};\n","function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n}\nexport function _object_spread_props(target, source) {\n    source = source != null ? source : {};\n\n    if (Object.getOwnPropertyDescriptors) Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n\n    return target;\n}\nexport { _object_spread_props as _ };\n","import { Store } from \"../helpers/seven-store\";\n\nexport const StorageTypes = {\n  IsContentRestricted: 'djp.contentrestricted',\n  LiveDrmExpiryDuration: 'djp.duration',\n  MockMarketId: 'djp.marketid',\n  MockRestrictionPrompt: 'djp.contentstarttime',\n};\n\nexport const getLocalStorageItem = (key) => localStorage.getItem(key);\n\nexport const setLocalStorageItem = (key, value) => {\n  localStorage.setItem(key, value);\n};\n\nexport const removeLocalStorageItem = (key) => {\n  localStorage.removeItem(key);\n};\n\nexport const getLivePlaybackSourceMockHelper = (videoUrl) => {\n  const isLiveDrmMockingEnabled =\n    Store.AppConfig && Store.AppConfig.config\n      ? Store.AppConfig.config.LIVE_DRM_ENABLED\n      : false;\n\n  if (!isLiveDrmMockingEnabled) {\n    return videoUrl;\n  }\n\n  let modifiedVideoUrl = videoUrl;\n  const { IsContentRestricted, LiveDrmExpiryDuration, MockMarketId, MockRestrictionPrompt } = StorageTypes;\n  const geoMockingLocalStorageKeys = [\n    IsContentRestricted,\n    LiveDrmExpiryDuration,\n    MockMarketId,\n    MockRestrictionPrompt,\n  ];\n\n  geoMockingLocalStorageKeys.forEach((localStorageKey) => {\n    const paramValue = getLocalStorageItem(localStorageKey);\n\n    if (paramValue) {\n      modifiedVideoUrl += `&${localStorageKey}=${paramValue}`;\n    }\n  });\n\n  return modifiedVideoUrl;\n};\n\nexport const shouldHandleLocationOrWrongChannelError = (error) => {\n  const isFeatureEnabled =\n    Store.isAflGeoEnabled && Store.isPlaybackLocationVerificationEnabled;\n\n  const errorMessage = ['location_verification_required', 'channel_not_in_market'].includes(\n    error?.errorJson?.error\n  )\n  return (\n    isFeatureEnabled &&\n    errorMessage &&\n    error?.error === 403\n  );\n};\n\n","import { Messengers } from \"../helpers/Messengers\";\nimport { Store } from \"../helpers/seven-store\";\nimport {\n    ErrorTypes,\n    MLEError,\n    setTokenInDeviceStorage,\n} from \"../../provider-utils\";\nimport { makeSevenAPIRequest } from \"./seven-api\";\n\nexport const tryPerformTokenRefresh = async (retry_count) => {\n    const refreshToken = Store.Auth.refresh_token;\n\n    var url = `${Store.AppConfig.endpoints.signIn.TOKEN}?platform-id=${Store.Api.platformId}&platform-version=${Store.Api.platformVersion}`;\n    var postBody = `PlatformId=${Store.Api.platformId}&RegSource=${Store.Api.regSource}&refreshToken=${refreshToken}`;\n\n    try {\n        const newTokenRequest = await makeSevenAPIRequest(url, {\n            method: \"POST\",\n            body: postBody,\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n                \"x-swm-apikey\": Store.Api.apiKey, // include api key on auth2 endpoint requests only\n            },\n        });\n\n        if (!newTokenRequest.ok) {\n            throw newTokenRequest;\n        }\n\n        const newTokenResponse = await newTokenRequest.json();\n        Store.Auth = newTokenResponse;\n        setupRefreshTimer(newTokenResponse);\n        // set in sky storage, no need to await or catch errors\n        setTokenInDeviceStorage(\n            \"au.com.seven\",\n            btoa(\n                JSON.stringify({\n                    refresh_token: Store.Auth.refresh_token,\n                    access_token: Store.Auth.access_token,\n                    expires_in: newTokenResponse.expires_in,\n                    token_type: newTokenResponse.token_type,\n                })\n            )\n        );\n    } catch (err) {\n        console.warn(\"[acc] error refreshing seven auth\", err);\n        if (retry_count <= 2) {\n            return await tryPerformTokenRefresh(retry_count + 1);\n        } else {\n            // geoRestricted flag set to false for sign in flow\n            setTokenInDeviceStorage(\n                \"au.com.seven\",\n                btoa(JSON.stringify({\n                    \"geoRestricted\": false\n                })) \n            );\n            throw new MLEError(\n                \"Could not perform 7Plus Auth refresh\",\n                ErrorTypes.AUTH,\n                err.status\n            );\n        }\n    }\n};\n\nlet refreshTimeout;\nconst setupRefreshTimer = () => {\n    refreshTimeout = setTimeout(async () => {\n        console.log(\"[acc] 7Plus refreshing token...\");\n        await tryPerformTokenRefresh();\n    }, Store.Auth.expires_in * 1000);\n};\n\nMessengers.appTeardown$.addReceiver(() => {\n    if (refreshTimeout) clearInterval(refreshTimeout);\n});\n\nexport const getAndStoreUserInfo = async () => {\n    const userInfoBaseUrl = Store.AppConfig.endpoints?.signIn?.USERINFO;\n    if (!userInfoBaseUrl) {\n        throw new MLEError(\"No user info url in config\", ErrorTypes.PROVIDER);\n    }\n\n    const userInfoUrl = `${userInfoBaseUrl}?platform-id=${Store.Api.platformId}&platform-version=${Store.Api.platformVersion}`;\n    const postBody = `PlatformId=${Store.Api.platformId}&RegSource=${Store.Api.regSource}`;\n\n    try {\n        const userInfoRequest = await makeSevenAPIRequest(userInfoUrl, {\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n                \"x-swm-apikey\": Store.Api.apiKey, // include api key on auth2 endpoint requests only\n                Authorization: \"Bearer \" + Store.Auth.access_token,\n            },\n            method: \"POST\",\n            body: postBody,\n        });\n        if (!userInfoRequest.ok) {\n            throw userInfoRequest;\n        }\n\n        const userInfo = await userInfoRequest.json();\n        if (!userInfo.subject) {\n            throw new MLEError(\n                \"No gigyaID found in user info response\",\n                ErrorTypes.PROVIDER\n            );\n        }\n        Store.UserInfo = userInfo;\n    } catch (err) {\n        console.log(err);\n        throw err;\n    }\n};\n","import { Messengers } from \"../helpers/Messengers\";\nimport { Store } from \"../helpers/seven-store\";\n\nclass NewRelicBridge {\n    newRelicIframeId = \"au-com-seven_NewRelic\";\n\n    listeners = [];\n\n    init = async () => {\n        this.loadNewRelicLibrary();\n        this.addEventListeners();\n    };\n\n    addEventListeners = () => {\n        this.listeners = [\n            ...this.listeners,\n            Messengers.appTeardown$.addReceiver(this.onAppTeardown),\n        ];\n    };\n\n    removeEventListeners = () => {\n        this.listeners.forEach((receiver) => receiver.unlisten());\n        this.listeners = [];\n    };\n\n    loadNewRelicLibrary = () => {\n        if (document.getElementById(this.newRelicIframeId)) return;\n\n        try {\n            // load newrelic in separate iframe, we do not want to add Seven analytics for the entirety of\n            // MLE by putting it in the parent index.html, nor can we append it in the child iframe because it\n            // depends on the document onLoad function. So we add a grandchild iframe\n            // https://accedobroadband.jira.com/browse/FOXTEL-521?focusedCommentId=1712867\n            const iframe = document.createElement(\"iframe\");\n            iframe.setAttribute(\"id\", this.newRelicIframeId);\n            const iframeSource = Store.useProdConfig\n                ? \"au.com.seven_NewRelic-Iframe-prod.html\"\n                : \"au.com.seven_NewRelic-Iframe-staging.html\";\n            iframe.setAttribute(\"src\", iframeSource);\n\n            document.body.appendChild(iframe);\n            console.log(\"[acc] Loaded newrelic iframe\");\n        } catch (e) {\n            console.warn(\"[acc] Error loading new relic library\", e);\n        }\n    };\n\n    unloadNewRelicLibrary = () => {\n        const iframe = document.getElementById(this.newRelicIframeId);\n        if (!iframe) {\n            console.warn(\"No newrelic iframe found to unload\");\n            return;\n        }\n\n        console.log(\"[acc] unloading newrelic iframe...\");\n        iframe.setAttribute(\"src\", \"\");\n        iframe.remove();\n    };\n\n    onAppTeardown = () => {\n        this.unloadNewRelicLibrary();\n        this.removeEventListeners();\n    };\n}\nexport default new NewRelicBridge();\n","import { SnowplowClient } from \"./SnowplowClient\";\nimport { Messengers } from \"../helpers/Messengers\";\nimport { PlayerStates, generateUUID } from \"../helpers/utils\";\nimport { Store } from \"../helpers/seven-store\";\n\nconst SESSION_UPDATER_TIMER_SECONDS = 10 * 60;\n\nclass SnowplowBridge {\n    client = null;\n\n    snowplowLoadFired = false;\n    currentAd = null;\n    playerState = PlayerStates.Stopped;\n    adBreakOngoing = false;\n    channelData = null;\n    playingSource = null;\n\n    isAppHiddenFromView = false;\n\n    listeners = [];\n\n    sessionRefreshHandler = null;\n    justRegeneratedSessionId = false;\n    hasStartedTrackingProgressDuringAppLaunch = false;\n\n\n    init = () => {\n        if (!this.client) {\n            this.client = new SnowplowClient();\n        }\n        this.client.track(\"APPLICATION.LAUNCH\");\n        this.removeEventListeners(); // in case monitoringTeardown isn't called\n        this.addEventListeners();\n    };\n\n    addEventListeners = () => {\n        this.listeners = [\n            ...this.listeners,\n            Messengers.streamReady$.addReceiver(\n                this.onChannelDataReceived,\n                true\n            ),\n            Messengers.playbackData$.addReceiver(\n                this.onPlaybackDataReceived,\n                true\n            ),\n            Messengers.timeUpdate$.addReceiver(this.onTimeUpdate),\n            Messengers.currentAd$.addReceiver(this.onAdChange),\n            Messengers.playerState$.addReceiver(this.onPlayerStateChange),\n            Messengers.playerError$.addReceiver(this.onPlayerErrored),\n            Messengers.appHiddenWithoutAudio$.addReceiver(this.onAppHidden),\n            Messengers.appTeardown$.addReceiver(this.onAppTeardown),\n            Messengers.oztamSessionId$.addReceiver(this.onSessionIdChange),\n        ];\n    };\n\n    removeEventListeners = () => {\n        this.listeners.forEach((receiver) => receiver.unlisten());\n        this.listeners = [];\n    };\n\n    onChannelDataReceived = (channelData) => {\n        if (channelData) {\n            this.channelData = channelData;\n        }\n    };\n\n    onPlaybackDataReceived = (playbackInfo) => {\n        this.playingSource = playbackInfo.matchingSource;\n    };\n\n    onSessionIdChange = () => {\n        Store.setOzTamId();\n        this.sendStreamBeginSequence();\n    };\n\n    sendStreamBeginSequence = () => {\n        this.client?.track(\"UX.SCREEN_ENTER\", { screenName: \"PLAYER\" });\n        this.client?.track(\"PLAYER.LIVE_LOAD\", {\n            mediaId: this.channelData?.analytics.mediaId,\n            url: this.playingSource?.src,\n        });\n        this.client?.track(\"PLAYER.LIVE_START\", {\n            playerChannelName: this.channelData?.analytics.channelName,\n        });\n        this.client?.track(\"PLAYER.LIVE_PLAY\");\n    };\n\n    onTimeUpdate = (time) => {\n        if (!this.sessionStarted) {\n            this.sessionStarted = true;\n        }\n        this.client.updatePlayerTime(time);\n    };\n\n    clearSessionUpdater = () => {\n        if (this.sessionRefreshHandler) {\n            console.log(\"[acc] oztam clear updater...\");\n            clearTimeout(this.sessionRefreshHandler);\n            this.sessionRefreshHandler = null;\n            this.hasStartedTrackingProgressDuringAppLaunch = true;\n        }\n    };\n    \n    setupSessionUpdater = () => {\n        this.clearSessionUpdater();\n        console.log(\"[acc] oztam setting up updater...\");\n        this.sessionRefreshHandler = window.setTimeout(() => {\n            // should be cleared if we are unpaused or setting pro\n            console.log(\"[acc] oztam updater updating Session ID!!\");\n\n            Store.setOzTamId();\n            this.justRegeneratedSessionId = true;\n            this.sessionStarted = false;\n\n            // // set this flag so we send out another load event\n            // // with updated session id\n            // // in case we are hidden and transition to foreground\n            this.hasStartedTrackingProgressDuringAppLaunch = true;\n        }, SESSION_UPDATER_TIMER_SECONDS * 1000);\n    };\n\n\n    onPlayerStateChange = (playerState) => {\n        const previousState = this.playerState;\n        this.playerState = playerState;\n\n        if (this.isAppHiddenFromView) return;\n\n        if (\n            playerState === PlayerStates.Playing &&\n            previousState !== PlayerStates.Playing\n        ) {\n            if (!this.currentAd && this.snowplowLoadFired && this.sessionStarted) {\n                // Resume playing content after pause, seek etc\n                this.client?.track(\"PLAYER.RESUME\");\n                this.clearSessionUpdater();\n            }\n            if (!this.snowplowLoadFired || this.justRegeneratedSessionId) {\n                this.sendStreamBeginSequence();\n\n                this.snowplowLoadFired = true;\n            }\n        }\n        // Log progress from last interval to when stream was paused\n        // or seeked, buffering\n        if (\n            playerState !== PlayerStates.Playing &&\n            previousState === PlayerStates.Playing &&\n            !this.currentAd && this.sessionStarted\n        ) {\n            console.log(\"[acc] oztam no longer playing - paused\");\n            this.client?.track(\"PLAYER.PAUSED\");\n            this.setupSessionUpdater();\n        }\n    };\n\n    getCurrentTime = () => Math.round(new Date().getTime() / 1000);\n\n    onAdChange = (currentAd) => {\n        this.currentAd = currentAd;\n\n        if (this.isAppHiddenFromView) return;\n\n        if (!this.adBreakOngoing && this.currentAd !== null) {\n            this.client?.track(\"PLAYER.LIVE_ADBEGIN\");\n            this.adBreakOngoing = true;\n        } else if (this.adBreakOngoing && this.currentAd) {\n            this.client?.track(\"PLAYER.LIVE_ADCOMPLETE\");\n            this.client?.track(\"PLAYER.LIVE_ADBEGIN\");\n        } else if (this.adBreakOngoing && this.currentAd == null) {\n            this.client?.track(\"PLAYER.LIVE_ADCOMPLETE\");\n            this.adBreakOngoing = false;\n        }\n    };\n\n    onAppHidden = (isHidden) => {\n        if (this.isAppHiddenFromView === isHidden) return;\n        this.isAppHiddenFromView = isHidden;\n        console.log(\"[acc] change hidden state in oztam\", isHidden);\n\n        if (this.isAppHiddenFromView) {\n            if (this.snowplowLoadFired) {\n                this.client?.track(\"PLAYER.PAUSED\");\n                if (\n                    this.sessionStarted ||\n                    !this.hasStartedTrackingProgressDuringAppLaunch\n                ) {\n                    this.setupSessionUpdater();\n                }\n            }\n        } else {\n            // change to foreground\n            if (this.snowplowLoadFired) {\n                this.client?.track(\"PLAYER.RESUME\");\n            } else if (this.playerState === PlayerStates.Playing) {\n                this.sendStreamBeginSequence();\n                this.snowplowLoadFired = true;\n            }\n        }\n\n    };\n\n    onPlayerErrored = (errorType) => {\n        if (this.snowplowLoadFired) {\n            this.client?.track(\"PLAYER.STOP\");\n        }\n    };\n\n    onAppTeardown = () => {\n        if (this.snowplowLoadFired) {\n            this.client?.track(\"PLAYER.STOP\");\n        }\n        this.client?.onAppTeardown();\n        this.removeEventListeners();\n        \n        this.sessionStarted = false;\n        this.justRegeneratedSessionId = false;\n        this.hasStartedTrackingProgressDuringAppLaunch = false;\n\n        this.currentAd = null;\n        this.snowplowLoadFired = null;\n        this.isAppHiddenFromView = false;\n        this.playerState = PlayerStates.Stopped;\n        this.adBreakOngoing = false;\n        this.channelData = null;\n        this.playingSource = null;\n    };\n}\n\nexport default new SnowplowBridge();\n","import { newTracker, trackStructEvent } from \"@snowplow/browser-tracker\";\n\nimport { Store } from \"../helpers/seven-store\";\n\nexport const EVENTS = {\n    APPLICATION: {\n        LAUNCH: \"application.launch\",\n    },\n\n    UX: {\n        SCREEN_ENTER: \"ux.screen.enter\",\n    },\n\n    PLAYER: {\n        AD_STATICIMP: \"player.ad.staticimp\",\n        LIVE_LOAD: \"player.load.live\",\n        LIVE_START: \"player.start.live\",\n        LIVE_PLAY: \"player.play.live\",\n        LIVE_PROGRESS: \"player.progress.live\",\n        PAUSED: \"player.paused\",\n        RESUME: \"player.resume\",\n        LIVE_ADBEGIN: \"player.adbegin.live\",\n        LIVE_ADCOPLETE: \"player.adcomplete.live\",\n        STOP: \"player.stop\",\n    },\n};\n\nconst UX_SCREENS = {\n    PLAYER: {\n        name: \"Player\",\n        path: \"/player\",\n    },\n};\n\nconst getUnstructEventObject = (enrichedEvent) => ({\n    schema: \"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\",\n    data: {\n        schema: \"iglu:com.infernosp/player/jsonschema/1-0-0\",\n        data: enrichedEvent,\n    },\n});\n\nexport class SnowplowClient {\n    initialized = false;\n    isVideoPlaying = false;\n    progressStartEvents = [\"RESUME\", \"LIVE_PLAY\"];\n    progressHaltEvents = [\"STOP\", \"PAUSED\"];\n    progressInterval = null;\n    PROGRESS_HEARTBEAT_INTERVAL = 54; // In seconds\n    newSessionId = \"\";\n    analytics_version = \"2.1.0\";\n\n    currentVideo = {\n        sessionId: \"\",\n        mediaId: \"\",\n        contentLength: 0,\n        url: \"\",\n        type: \"\",\n        playerChannelName: \"\",\n    };\n\n    currentTime = -1;\n    lastTime = -1;\n\n    playerCurrentTime = -1;\n    lastPlayerCurrentTime = -1;\n\n    constructor() {\n        if (!this.initialized) {\n            newTracker(\"7plus\", Store.AppConfig.endpoints.SNOWPLOW_URL, {\n                appId: \"7plus\",\n                platform: \"tv\",\n            });\n\n            console.debug(\"[acc] Snowplow Analytics: configured\");\n        }\n\n        this.initialized = true;\n    }\n\n    getBaseParams = (event_) => {\n        const event = event_ || {};\n        // really just oztam vendor version\n        const platformString =\n            Store.deviceBrand.toLowerCase() === \"soip-pck\" ? \"Puck\" : \"TV\";\n        event.device_platform = `foxtel`; // FOXTEL-593\n        event.device_type = \"tv\";\n        event.device_model = platformString;\n        event.device_os = \"Foxtel\";\n        event.device_os_version = Store.deviceModel; // FOXTEL-595\n        event.device_postcode = Number(Store.RegionData?.postcode);\n        event.device_connection_type = Store.deviceNetworkConnection;\n        event.app_access = \"tv\";\n        event.app_id = \"foxtel\";\n        event.app_name = \"7plus-linear\";\n        event.app_version = Store.appVersion;\n        event.device_id = Store.deviceId;\n        // set advertising_id to undefined to match the 7 rebuild app which passes undefined.\n        // If set to an actual ad id value\n        // then Snowplow picks it up as the device ID and oztam fails cert. \\_()_/\n        event.advertising_id = undefined; // Store.getAdId();\n        event.device_screen_width = 1920;\n        event.device_screen_height = 1080;\n\n        console.debug(\"[acc] snowplow event\", event);\n\n        return event;\n    };\n\n    getApplicationEvent = (eventName) => {\n        const eventList = {\n            \"application.install\": 1,\n            \"application.upgrade\": 2,\n            \"application.launch\": 3,\n            \"application.exit\": 4,\n            \"application.suspend\": 5,\n            \"application.resume\": 6,\n        };\n\n        return {\n            category: \"application\",\n            action: eventName,\n            property: this.analytics_version,\n            value: eventList[eventName],\n            context: this.getContext({\n                application_plugin: \"native\",\n                event_group: \"application\",\n                event_id: eventList[eventName],\n                event_name: eventName,\n            }),\n        };\n    };\n\n    getPlayerParams = (event_, opts, eventName) => {\n        const event = event_;\n        event.user_id = Store.UserInfo.subject;\n\n        event.player_video_session_id = this.currentVideo.sessionId;\n        event.player_screen_width = this.deviceInfo?.screenWidth;\n        event.player_screen_height = this.deviceInfo?.screenHeight;\n        event.player_stream_quality = \"SD\";\n        event.stream_url = this.currentVideo.url;\n\n        console.log(\"mediaID:::\" + this.currentVideo.mediaId);\n\n        event.player_media_id = this.currentVideo.mediaId;\n        event.player_media_type = this.currentVideo.type;\n        event.player_from_position = this.lastTime;\n        event.player_to_position = this.currentTime;\n\n        if (event.player_from_position === -1) {\n            event.player_from_position = 0;\n        }\n\n        if (event.player_to_position === -1) {\n            event.player_to_position = 0;\n        }\n\n        // case where we go to screensaver and get no events except time stops updating\n        // we cannot rely on clock times here so have to fake a partial progress\n        const diffInClockTimes =\n            event.player_to_position - event.player_from_position;\n        const diffInPlayerTimes =\n            this.playerCurrentTime - this.lastPlayerCurrentTime;\n        // arbitrary 5 second difference to tell a large difference between player and clock times\n        if (diffInClockTimes - diffInPlayerTimes > 5) {\n            event.player_to_position =\n                event.player_from_position + diffInPlayerTimes;\n        }\n\n        if (eventName === \"LIVE_START\" || eventName === \"LIVE_PLAY\") {\n            event.player_channel_name = this.currentVideo.playerChannelName;\n        } else if (eventName === \"AD_STATICIMP\") {\n            event.ad_creative_id = opts.creativeId || \"\";\n            event.ad_lineitem_id = opts.lineitemId || \"\";\n            event.duration = opts.duration || \"\";\n        }\n\n        return event;\n    };\n\n    getUXParams = (event, opts, eventName) => {\n        const {\n            containerType,\n            containerValue,\n            description = \"\",\n            elementContainerIndex,\n            elementTag,\n            screenName,\n            screenPath,\n        } = opts;\n        const uxScreen = UX_SCREENS[screenName];\n        const localUxScreenName = uxScreen && uxScreen.name;\n        const localUxScreenPath = uxScreen && uxScreen.path;\n\n        // Add GigyaId as user_id\n        event.user_id = Store.UserInfo.subject;\n\n        event.adblocker_used = false;\n        event.screen_width = 1920;\n        event.screen_height = 1080;\n        event.screen_name = localUxScreenName || screenName;\n        event.screen_path = screenPath || localUxScreenPath;\n        event.ux_element_tag = elementTag;\n        event.ux_element_container_type = containerType;\n        event.ux_element_container_value = containerValue;\n        event.ux_element_container_index = elementContainerIndex;\n\n        // Update screen path\n        if (screenName === \"LIVE_PLAYER\") {\n            event.screen_name = event.screen_name.replace(\n                \"{{channel}}\",\n                description\n            );\n            event.screen_path = event.screen_path.replace(\n                \"{{channel}}\",\n                description\n            );\n        }\n\n        if (eventName === \"ux.screen.enter\") {\n            // ux.screen.enter events\n            event.referring_link = \"\"; // no deeplink URL/URI\n        }\n\n        return event;\n    };\n\n    getUXEvent = (eventName, opts) => {\n        const eventList = {\n            \"ux.screen.enter\": 701,\n        };\n        const uxParams = this.getUXParams(\n            {\n                event_group: \"ux\",\n                event_id: eventList[eventName],\n                event_name: eventName,\n            },\n            opts,\n            eventName\n        );\n\n        return {\n            category: \"ux\",\n            action: eventName,\n            event_id: eventList[eventName],\n            event_name: eventName,\n            property: this.analytics_version,\n            value: eventList[eventName],\n            context: this.getContext(uxParams),\n        };\n    };\n\n    getPlayerEvent = (eventName, opts) => {\n        const eventList = {\n            \"player.start.live\": 201,\n            \"player.play.live\": 202,\n            \"player.stop\": 203,\n            \"player.progress.live\": 206,\n            \"player.adbegin.live\": 213,\n            \"player.adcomplete.live\": 215,\n            \"player.load.live\": 216,\n            \"player.resume\": 225,\n            \"player.paused\": 226,\n            \"player.ad.staticimp\": 250,\n        };\n\n        if (eventName === \"LIVE_LOAD\") {\n            console.log(\"sessionId:::\" + opts.mediaId);\n\n            this.currentVideo.sessionId = Store.getOzTamId();\n            this.currentVideo.mediaId = opts.mediaId;\n            this.currentVideo.url = opts.url;\n            this.currentVideo.type = eventName.split(\"_\")[0].toUpperCase();\n            this.isVideoPlaying = false;\n            this.currentTime = -1;\n            this.lastTime = -1;\n        } else if (eventName === \"LIVE_START\") {\n            this.currentVideo.playerChannelName = opts.playerChannelName;\n        }\n\n        if (this.progressStartEvents.indexOf(eventName) > -1) {\n            clearInterval(this.progressInterval);\n\n            this.progressInterval = setInterval(() => {\n                this.trackProgress();\n            }, this.PROGRESS_HEARTBEAT_INTERVAL * 1000);\n\n            if (this.currentTime > -1) {\n                this.lastTime = this.currentTime;\n            } else {\n                this.lastTime = this.getCurrentTime();\n            }\n        } else if (\n            this.progressHaltEvents.indexOf(eventName) > -1 &&\n            this.progressInterval\n        ) {\n            this.trackProgress();\n            clearInterval(this.progressInterval);\n            this.progressInterval = null;\n        }\n\n        if (eventName === \"PAUSED\") {\n            this.isVideoPlaying = false;\n        } else if (eventName === \"RESUME\" || eventName === \"LIVE_PLAY\") {\n            this.isVideoPlaying = true;\n        }\n\n        const playerParams = this.getPlayerParams(\n            {\n                event_group: \"player\",\n                event_id: eventList[EVENTS.PLAYER[eventName]],\n                event_name: EVENTS.PLAYER[eventName],\n            },\n            opts,\n            eventName\n        );\n\n        return {\n            category: \"player\",\n            action: EVENTS.PLAYER[eventName],\n            property: this.analytics_version,\n            value: eventList[EVENTS.PLAYER[eventName]],\n            context: this.getContext(playerParams),\n        };\n    };\n\n    getEvent = (eventType, eventName, opts) => {\n        const event = EVENTS[eventType][eventName];\n\n        switch (eventType) {\n            case \"APPLICATION\":\n                return this.getApplicationEvent(event);\n            case \"PLAYER\":\n                return this.getPlayerEvent(eventName, opts);\n            case \"UX\":\n                return this.getUXEvent(event, opts);\n            default:\n                return null;\n        }\n    };\n\n    getCurrentTime = () => Math.round(new Date().getTime() / 1000);\n\n    updatePlayerTime = (playerTime) => {\n        this.playerCurrentTime = Math.round(playerTime);\n        if (this.lastPlayerCurrentTime < 0) {\n            this.lastPlayerCurrentTime = this.playerCurrentTime;\n        }\n    };\n\n    setSessionID = (sessionId) => {\n        this.newSessionId = sessionId;\n    };\n\n    getContext = (event) => {\n        const enrichedEvent = this.getBaseParams(event);\n        if (enrichedEvent === null) {\n            throw new Error(\"baseSeedMethod must return event!\");\n        }\n\n        // Setting up basic timestamps & version\n        const dateTimeNow = new Date();\n        enrichedEvent.device_timestamp = Number(dateTimeNow);\n        enrichedEvent.device_timezone_offset = Math.abs(\n            dateTimeNow.getTimezoneOffset()\n        );\n        enrichedEvent.analytics_version = this.analytics_version;\n        this.newSessionId = Store.getOzTamId()\n\n        enrichedEvent.app_session_id = this.newSessionId;\n        const payload = getUnstructEventObject(enrichedEvent);\n\n        return [payload];\n    };\n\n    trackProgress = () => {\n        this.currentTime = this.getCurrentTime();\n\n        if (this.lastPlayerCurrentTime !== this.playerCurrentTime) {\n            this.track(`PLAYER.${this.currentVideo.type}_PROGRESS`);\n        }\n        this.lastTime = this.currentTime;\n        this.lastPlayerCurrentTime = this.playerCurrentTime;\n    };\n\n    getSessionId = (hasLoadFired) => {\n        if (hasLoadFired) {\n            return this.currentVideo.sessionId;\n        }\n\n        this.newSessionId = Store.getOzTamId();\n        return this.newSessionId;\n    };\n\n    track = (event_, opts_) => {\n        const event = event_.split(\".\");\n        const opts = { ...opts_, gigyaId: Store.UserInfo.subject };\n\n        if (event.length !== 2) {\n            return;\n        }\n\n        const eventType = event[0];\n        const eventName = event[1];\n\n        if (EVENTS[eventType]?.[eventName]) {\n            if (\n                (eventName === \"PAUSE\" && !this.isVideoPlaying) ||\n                (eventName === \"RESUME\" && this.isVideoPlaying) ||\n                (eventName === \"LIVE_PROGRESS\" && !this.isVideoPlaying)\n            ) {\n                return;\n            }\n\n            const event = this.getEvent(eventType, eventName, opts);\n            trackStructEvent(event);\n        }\n    };\n\n    onAppTeardown = () => {\n        this.trackProgress();\n        if (this.progressInterval) {\n            clearInterval(this.progressInterval);\n            this.progressInterval = null;\n        }\n\n        this.isVideoPlaying = false;\n        this.newSessionId = \"\";\n\n        this.currentVideo = {\n            sessionId: \"\",\n            mediaId: \"\",\n            contentLength: 0,\n            url: \"\",\n            type: \"\",\n            playerChannelName: \"\",\n        };\n\n        this.currentTime = -1;\n        this.lastTime = -1;\n        this.playerCurrentTime = -1;\n        this.lastPlayerCurrentTime = -1;\n    };\n}\n",null,"/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport {\n  dispatchToTrackers,\n  ActivityTrackingConfiguration,\n  ActivityTrackingConfigurationCallback,\n  ActivityCallback,\n  ActivityCallbackData,\n  BrowserPlugin,\n  BrowserPluginConfiguration,\n  BuiltInContexts,\n  DisableAnonymousTrackingConfiguration,\n  EnableAnonymousTrackingConfiguration,\n  AnonymousTrackingOptions,\n  FlushBufferConfiguration,\n  PageViewEvent,\n  ClearUserDataConfiguration,\n} from '@snowplow/browser-tracker-core';\nimport {\n  buildSelfDescribingEvent,\n  buildStructEvent,\n  CommonEventProperties,\n  ConditionalContextProvider,\n  ContextPrimitive,\n  ContextGenerator,\n  FilterProvider,\n  RuleSetProvider,\n  SelfDescribingEvent,\n  SelfDescribingJson,\n  StructuredEvent,\n  ContextEvent,\n  ContextFilter,\n  RuleSet,\n} from '@snowplow/tracker-core';\n\nexport {\n  ActivityTrackingConfiguration,\n  ActivityTrackingConfigurationCallback,\n  ActivityCallback,\n  ActivityCallbackData,\n  BrowserPlugin,\n  BrowserPluginConfiguration,\n  BuiltInContexts,\n  FlushBufferConfiguration,\n  PageViewEvent,\n  EnableAnonymousTrackingConfiguration,\n  DisableAnonymousTrackingConfiguration,\n  AnonymousTrackingOptions,\n  ClearUserDataConfiguration,\n  ConditionalContextProvider,\n  ContextPrimitive,\n  SelfDescribingEvent,\n  SelfDescribingJson,\n  CommonEventProperties,\n  StructuredEvent,\n  ContextGenerator,\n  FilterProvider,\n  RuleSetProvider,\n  ContextEvent,\n  ContextFilter,\n  RuleSet,\n};\n\n/**\n * Expires current session and starts a new session.\n *\n * @param trackers - The tracker identifiers which will have their session refreshed\n */\nexport function newSession(trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.newSession();\n  });\n}\n\n/**\n * Override referrer\n *\n * @param url - Custom Referrer which will be used as override\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setReferrerUrl(url: string, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setReferrerUrl(url);\n  });\n}\n\n/**\n * Override url\n *\n * @param url - Custom URL which will be used as override\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setCustomUrl(url: string, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setCustomUrl(url);\n  });\n}\n\n/**\n * Override document.title\n *\n * @param title - Document title which will be used as override\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setDocumentTitle(title: string, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setDocumentTitle(title);\n  });\n}\n\n/**\n * Strip hash tag (or anchor) from URL\n *\n * @param enable - Whether to enable stripping of hash\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function discardHashTag(enable: boolean, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.discardHashTag(enable);\n  });\n}\n\n/**\n * Strip braces from URL\n *\n * @param enable - Whther to enable stripping of braces\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function discardBrace(enable: boolean, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.discardBrace(enable);\n  });\n}\n\n/**\n * Set first-party cookie path\n *\n * @param path - The path which will be used when setting cookies\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setCookiePath(path: string, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setCookiePath(path);\n  });\n}\n\n/**\n * Set visitor cookie timeout (in seconds)\n *\n * @param timeout - The timeout until cookies will expire\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setVisitorCookieTimeout(timeout: number, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setVisitorCookieTimeout(timeout);\n  });\n}\n\n/**\n * Enable querystring decoration for links pasing a filter\n *\n * @param crossDomainLinker - Function used to determine which links to decorate\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function crossDomainLinker(\n  crossDomainLinkerCriterion: (elt: HTMLAnchorElement | HTMLAreaElement) => boolean,\n  trackers?: Array<string>\n) {\n  dispatchToTrackers(trackers, (t) => {\n    t.crossDomainLinker(crossDomainLinkerCriterion);\n  });\n}\n\n/**\n * Enables page activity tracking (sends page pings to the Collector regularly).\n *\n * @param configuration - The activity tracking configuration\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function enableActivityTracking(configuration: ActivityTrackingConfiguration, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.enableActivityTracking(configuration);\n  });\n}\n\n/**\n * Enables page activity tracking (replaces collector ping with callback).\n *\n * @param configuration - The activity tracking callback configuration\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function enableActivityTrackingCallback(\n  configuration: ActivityTrackingConfiguration & ActivityTrackingConfigurationCallback,\n  trackers?: Array<string>\n) {\n  dispatchToTrackers(trackers, (t) => {\n    t.enableActivityTrackingCallback(configuration);\n  });\n}\n\n/**\n * Disables page activity tracking.\n *\n * @param trackers - The tracker identifiers the activity tracking will be disabled.\n */\nexport function disableActivityTracking(trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.disableActivityTracking();\n  });\n}\n\n/**\n * Disables page activity tracking callback.\n *\n * @param trackers - The tracker identifiers the activity tracking callback will be disabled.\n */\nexport function disableActivityTrackingCallback(trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.disableActivityTrackingCallback();\n  });\n}\n\n/**\n * Triggers the activityHandler manually to allow external user defined activity. i.e. While watching a video\n *\n * @param trackers - The tracker identifiers which will be updated\n */\nexport function updatePageActivity(trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.updatePageActivity();\n  });\n}\n\n/**\n * Sets the opt out cookie.\n *\n * @param name - of the opt out cookie\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setOptOutCookie(name?: string | null, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setOptOutCookie(name);\n  });\n}\n\n/**\n * Set the business-defined user ID for this user.\n *\n * @param userId - The business-defined user ID\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setUserId(userId?: string | null, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setUserId(userId);\n  });\n}\n\n/**\n * Set the business-defined user ID for this user using the location querystring.\n *\n * @param querystringField - Name of a querystring name-value pair\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setUserIdFromLocation(querystringField: string, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setUserIdFromLocation(querystringField);\n  });\n}\n\n/**\n * Set the business-defined user ID for this user using the referrer querystring.\n *\n * @param querystringField - Name of a querystring name-value pair\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setUserIdFromReferrer(querystringField: string, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setUserIdFromReferrer(querystringField);\n  });\n}\n\n/**\n * Set the business-defined user ID for this user to the value of a cookie.\n *\n * @param cookieName - Name of the cookie whose value will be assigned to businessUserId\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setUserIdFromCookie(cookieName: string, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setUserIdFromCookie(cookieName);\n  });\n}\n\n/**\n * Specify the Snowplow collector URL. Specific http or https to force it\n * or leave it off to match the website protocol.\n *\n * @param collectorUrl - The collector URL, with or without protocol\n * @param trackers - The tracker identifiers which will be configured\n */\nexport function setCollectorUrl(collectorUrl: string, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setCollectorUrl(collectorUrl);\n  });\n}\n\n/**\n * Set the buffer size\n * Can be useful if you want to stop batching requests to ensure events start\n * sending closer to event creation\n *\n * @param newBufferSize - The value with which to update the bufferSize to\n * @param trackers - The tracker identifiers which will be flushed\n */\nexport function setBufferSize(newBufferSize: number, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.setBufferSize(newBufferSize);\n  });\n}\n\n/**\n * Send all events in the outQueue\n * Only need to use this when sending events with a bufferSize of at least 2\n *\n * @param configuration - The configuration to use following flushing the buffer\n * @param trackers - The tracker identifiers which will be flushed\n */\nexport function flushBuffer(configuration?: FlushBufferConfiguration, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.flushBuffer(configuration);\n  });\n}\n\n/**\n * Track a visit to a web page\n *\n * @param event - The Page View Event properties\n * @param trackers - The tracker identifiers which the event will be sent to\n */\nexport function trackPageView(event?: PageViewEvent & CommonEventProperties, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.trackPageView(event);\n  });\n}\n\n/**\n * Track a structured event\n * A classic style of event tracking, allows for easier movement between analytics\n * systems. A loosely typed event, creating a Self Describing event is preferred, but\n * useful for interoperability.\n *\n * @param event - The Structured Event properties\n * @param trackers - The tracker identifiers which the event will be sent to\n */\nexport function trackStructEvent(event: StructuredEvent & CommonEventProperties, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.core.track(buildStructEvent(event), event.context, event.timestamp);\n  });\n}\n\n/**\n * Track a self-describing event happening on this page.\n * A custom event type, allowing for an event to be tracked using your own custom schema\n * and a data object which conforms to the supplied schema\n *\n * @param event - The event information\n * @param trackers - The tracker identifiers which the event will be sent to\n */\nexport function trackSelfDescribingEvent(event: SelfDescribingEvent & CommonEventProperties, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.core.track(buildSelfDescribingEvent({ event: event.event }), event.context, event.timestamp);\n  });\n}\n\n/**\n * All provided contexts will be sent with every event\n *\n * @param contexts - An array of contexts or conditional contexts\n * @param trackers - The tracker identifiers which the global contexts will be added to\n */\nexport function addGlobalContexts(\n  contexts: Array<ConditionalContextProvider | ContextPrimitive>,\n  trackers?: Array<string>\n) {\n  dispatchToTrackers(trackers, (t) => {\n    t.core.addGlobalContexts(contexts);\n  });\n}\n\n/**\n * All provided contexts will no longer be sent with every event\n *\n * @param contexts - An array of contexts or conditional contexts\n * @param trackers - The tracker identifiers which the global contexts will be remove from\n */\nexport function removeGlobalContexts(\n  contexts: Array<ConditionalContextProvider | ContextPrimitive>,\n  trackers?: Array<string>\n) {\n  dispatchToTrackers(trackers, (t) => {\n    t.core.removeGlobalContexts(contexts);\n  });\n}\n\n/**\n * Clear all global contexts that are sent with events\n *\n * @param trackers - The tracker identifiers which the global contexts will be cleared from\n */\nexport function clearGlobalContexts(trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.core.clearGlobalContexts();\n  });\n}\n\n/**\n * Stop regenerating `pageViewId` (available from `web_page` context)\n *\n * @param trackers - The tracker identifiers which the event will preserve their Page View Ids\n */\nexport function preservePageViewId(trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.preservePageViewId();\n  });\n}\n\n/**\n * Disables anonymous tracking if active (ie. tracker initialized with `anonymousTracking`)\n * For stateStorageStrategy override, uses supplied value first,\n * falls back to one defined in initial config, otherwise uses cookieAndLocalStorage.\n *\n * @param configuration - The configuration for disabling anonymous tracking\n * @param trackers - The tracker identifiers which the event will be sent to\n */\nexport function disableAnonymousTracking(\n  configuration?: DisableAnonymousTrackingConfiguration,\n  trackers?: Array<string>\n) {\n  dispatchToTrackers(trackers, (t) => {\n    t.disableAnonymousTracking(configuration);\n  });\n}\n\n/**\n * Enables anonymous tracking (ie. tracker initialized without `anonymousTracking`)\n *\n * @param configuration - The configuration for enabling anonymous tracking\n * @param trackers - The tracker identifiers which the event will be sent to\n */\nexport function enableAnonymousTracking(\n  configuration?: EnableAnonymousTrackingConfiguration,\n  trackers?: Array<string>\n) {\n  dispatchToTrackers(trackers, (t) => {\n    t.enableAnonymousTracking(configuration);\n  });\n}\n\n/**\n * Clears all cookies and local storage containing user and session identifiers\n *\n * @param trackers - The tracker identifiers which the event will be sent to\n */\nexport function clearUserData(configuration?: ClearUserDataConfiguration, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.clearUserData(configuration);\n  });\n}\n\n/**\n * Add a plugin into the plugin collection after trackers have already been initialised\n *\n * @param configuration - The plugin to add\n * @param trackers - The tracker identifiers which the plugin will be added to\n */\nexport function addPlugin(configuration: BrowserPluginConfiguration, trackers?: Array<string>) {\n  dispatchToTrackers(trackers, (t) => {\n    t.addPlugin(configuration);\n  });\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport {\n  createSharedState,\n  addTracker,\n  TrackerConfiguration,\n  BrowserTracker,\n  CookieSameSite,\n  Platform,\n  EventMethod,\n  StateStorageStrategy,\n  ClientSession,\n} from '@snowplow/browser-tracker-core';\nimport { version } from '@snowplow/tracker-core';\n\nconst state = typeof window !== 'undefined' ? createSharedState() : undefined;\n\n/**\n * Initialise a new tracker\n *\n * @param trackerId - The tracker id - also known as tracker namespace\n * @param endpoint - Collector endpoint in the form collector.mysite.com\n */\nexport function newTracker(trackerId: string, endpoint: string): BrowserTracker;\n/**\n * Initialise a new tracker\n *\n * @param trackerId - The tracker id - also known as tracker namespace\n * @param endpoint - Collector endpoint in the form collector.mysite.com\n * @param configuration - The initialisation options of the tracker\n */\nexport function newTracker(trackerId: string, endpoint: string, configuration: TrackerConfiguration): BrowserTracker;\n/**\n * Initialise a new tracker\n *\n * @param trackerId - The tracker id - also known as tracker namespace\n * @param endpoint - Collector endpoint in the form collector.mysite.com\n * @param configuration - The initialisation options of the tracker\n */\nexport function newTracker(trackerId: string, endpoint: string, configuration: TrackerConfiguration = {}) {\n  if (state) {\n    return addTracker(trackerId, trackerId, `js-${version}`, endpoint, state, configuration);\n  } else {\n    return undefined;\n  }\n}\n\nexport {\n  BrowserTracker,\n  TrackerConfiguration,\n  CookieSameSite,\n  Platform,\n  EventMethod,\n  StateStorageStrategy,\n  ClientSession,\n};\nexport { version };\nexport * from './api';\n",null,"/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n * Attempt to get a value from localStorage\n *\n * @param string - key\n * @returns string The value obtained from localStorage, or\n *                undefined if localStorage is inaccessible\n */\nexport function attemptGetLocalStorage(key: string) {\n  try {\n    const localStorageAlias = window.localStorage,\n      exp = localStorageAlias.getItem(key + '.expires');\n    if (exp === null || +exp > Date.now()) {\n      return localStorageAlias.getItem(key);\n    } else {\n      localStorageAlias.removeItem(key);\n      localStorageAlias.removeItem(key + '.expires');\n    }\n    return undefined;\n  } catch (e) {\n    return undefined;\n  }\n}\n\n/**\n * Attempt to write a value to localStorage\n *\n * @param string - key\n * @param string - value\n * @param number - ttl Time to live in seconds, defaults to 2 years from Date.now()\n * @returns boolean Whether the operation succeeded\n */\nexport function attemptWriteLocalStorage(key: string, value: string, ttl = 63072000) {\n  try {\n    const localStorageAlias = window.localStorage,\n      t = Date.now() + ttl * 1000;\n    localStorageAlias.setItem(`${key}.expires`, t.toString());\n    localStorageAlias.setItem(key, value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Attempt to delete a value from localStorage\n *\n * @param string - key\n * @returns boolean Whether the operation succeeded\n */\nexport function attemptDeleteLocalStorage(key: string) {\n  try {\n    const localStorageAlias = window.localStorage;\n    localStorageAlias.removeItem(key);\n    localStorageAlias.removeItem(key + '.expires');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Attempt to get a value from sessionStorage\n *\n * @param string - key\n * @returns string The value obtained from sessionStorage, or\n *                undefined if sessionStorage is inaccessible\n */\nexport function attemptGetSessionStorage(key: string) {\n  try {\n    return window.sessionStorage.getItem(key);\n  } catch (e) {\n    return undefined;\n  }\n}\n\n/**\n * Attempt to write a value to sessionStorage\n *\n * @param string - key\n * @param string - value\n * @returns boolean Whether the operation succeeded\n */\nexport function attemptWriteSessionStorage(key: string, value: string) {\n  try {\n    window.sessionStorage.setItem(key, value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nexport * from './storage';\n\ndeclare global {\n  interface EventTarget {\n    attachEvent?: (type: string, fn: EventListenerOrEventListenerObject) => void;\n  }\n}\n\n/**\n * The criteria which will be used to filter results to specific classes or elements\n */\nexport interface FilterCriterion<T> {\n  /** A collection of class names to include */\n  allowlist?: string[];\n  /** A collector of class names to exclude */\n  denylist?: string[];\n  /** A callback which returns a boolean as to whether the element should be included */\n  filter?: (elt: T) => boolean;\n}\n\n/**\n * Checks if an object is a string\n * @param str - The object to check\n */\nexport function isString(str: Object): str is string {\n  if (str && typeof str.valueOf() === 'string') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Checks if an object is an integer\n * @param int - The object to check\n */\nexport function isInteger(int: Object): int is number {\n  return (\n    (Number.isInteger && Number.isInteger(int)) || (typeof int === 'number' && isFinite(int) && Math.floor(int) === int)\n  );\n}\n\n/**\n * Checks if the input parameter is a function\n * @param func - The object to check\n */\nexport function isFunction(func: unknown) {\n  if (func && typeof func === 'function') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Cleans up the page title\n */\nexport function fixupTitle(title: string | { text: string }) {\n  if (!isString(title)) {\n    title = title.text || '';\n\n    var tmp = document.getElementsByTagName('title');\n    if (tmp && tmp[0] != null) {\n      title = tmp[0].text;\n    }\n  }\n  return title;\n}\n\n/**\n * Extract hostname from URL\n */\nexport function getHostName(url: string) {\n  // scheme : // [username [: password] @] hostname [: port] [/ [path] [? query] [# fragment]]\n  var e = new RegExp('^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)'),\n    matches = e.exec(url);\n\n  return matches ? matches[1] : url;\n}\n\n/**\n * Fix-up domain\n */\nexport function fixupDomain(domain: string) {\n  var dl = domain.length;\n\n  // remove trailing '.'\n  if (domain.charAt(--dl) === '.') {\n    domain = domain.slice(0, dl);\n  }\n  // remove leading '*'\n  if (domain.slice(0, 2) === '*.') {\n    domain = domain.slice(1);\n  }\n  return domain;\n}\n\n/**\n * Get page referrer. In the case of a single-page app,\n * if the URL changes without the page reloading, pass\n * in the old URL. It will be returned unless overriden\n * by a \"refer(r)er\" parameter in the querystring.\n *\n * @param string - oldLocation Optional.\n * @returns string The referrer\n */\nexport function getReferrer(oldLocation?: string) {\n  let windowAlias = window,\n    fromQs =\n      fromQuerystring('referrer', windowAlias.location.href) || fromQuerystring('referer', windowAlias.location.href);\n\n  // Short-circuit\n  if (fromQs) {\n    return fromQs;\n  }\n\n  // In the case of a single-page app, return the old URL\n  if (oldLocation) {\n    return oldLocation;\n  }\n\n  try {\n    if (windowAlias.top) {\n      return windowAlias.top.document.referrer;\n    } else if (windowAlias.parent) {\n      return windowAlias.parent.document.referrer;\n    }\n  } catch {}\n\n  return document.referrer;\n}\n\n/**\n * Cross-browser helper function to add event handler\n */\nexport function addEventListener(\n  element: HTMLElement | EventTarget,\n  eventType: string,\n  eventHandler: EventListenerOrEventListenerObject,\n  options?: boolean | AddEventListenerOptions\n) {\n  if (element.addEventListener) {\n    element.addEventListener(eventType, eventHandler, options);\n    return true;\n  }\n\n  // IE Support\n  if (element.attachEvent) {\n    return element.attachEvent('on' + eventType, eventHandler);\n  }\n  (element as any)['on' + eventType] = eventHandler;\n}\n\n/**\n * Return value from name-value pair in querystring\n */\nexport function fromQuerystring(field: string, url: string) {\n  var match = new RegExp('^[^#]*[?&]' + field + '=([^&#]*)').exec(url);\n  if (!match) {\n    return null;\n  }\n  return decodeURIComponent(match[1].replace(/\\+/g, ' '));\n}\n\n/**\n * Add a name-value pair to the querystring of a URL\n *\n * @param string - url URL to decorate\n * @param string - name Name of the querystring pair\n * @param string - value Value of the querystring pair\n */\nexport function decorateQuerystring(url: string, name: string, value: string) {\n  var initialQsParams = name + '=' + value;\n  var hashSplit = url.split('#');\n  var qsSplit = hashSplit[0].split('?');\n  var beforeQuerystring = qsSplit.shift();\n  // Necessary because a querystring may contain multiple question marks\n  var querystring = qsSplit.join('?');\n  if (!querystring) {\n    querystring = initialQsParams;\n  } else {\n    // Whether this is the first time the link has been decorated\n    var initialDecoration = true;\n    var qsFields = querystring.split('&');\n    for (var i = 0; i < qsFields.length; i++) {\n      if (qsFields[i].substr(0, name.length + 1) === name + '=') {\n        initialDecoration = false;\n        qsFields[i] = initialQsParams;\n        querystring = qsFields.join('&');\n        break;\n      }\n    }\n    if (initialDecoration) {\n      querystring = initialQsParams + '&' + querystring;\n    }\n  }\n  hashSplit[0] = beforeQuerystring + '?' + querystring;\n  return hashSplit.join('#');\n}\n\n/**\n * Finds the root domain\n */\nexport function findRootDomain(sameSite: string, secure: boolean) {\n  const windowLocationHostnameAlias = window.location.hostname,\n    cookiePrefix = '_sp_root_domain_test_',\n    cookieName = cookiePrefix + new Date().getTime(),\n    cookieValue = '_test_value_' + new Date().getTime();\n\n  const locationParts = windowLocationHostnameAlias.split('.');\n  for (let idx = locationParts.length - 2; idx >= 0; idx--) {\n    const currentDomain = locationParts.slice(idx).join('.');\n    cookie(cookieName, cookieValue, 0, '/', currentDomain, sameSite, secure);\n    if (cookie(cookieName) === cookieValue) {\n      // Clean up created cookie(s)\n      deleteCookie(cookieName, currentDomain, sameSite, secure);\n      const cookieNames = getCookiesWithPrefix(cookiePrefix);\n      for (let i = 0; i < cookieNames.length; i++) {\n        deleteCookie(cookieNames[i], currentDomain, sameSite, secure);\n      }\n\n      return currentDomain;\n    }\n  }\n\n  // Cookies cannot be read\n  return windowLocationHostnameAlias;\n}\n\n/**\n * Checks whether a value is present within an array\n *\n * @param val - The value to check for\n * @param array - The array to check within\n * @returns boolean Whether it exists\n */\nexport function isValueInArray<T>(val: T, array: T[]) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === val) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Deletes an arbitrary cookie by setting the expiration date to the past\n *\n * @param cookieName - The name of the cookie to delete\n * @param domainName - The domain the cookie is in\n */\nexport function deleteCookie(cookieName: string, domainName?: string, sameSite?: string, secure?: boolean) {\n  cookie(cookieName, '', -1, '/', domainName, sameSite, secure);\n}\n\n/**\n * Fetches the name of all cookies beginning with a certain prefix\n *\n * @param cookiePrefix - The prefix to check for\n * @returns array The cookies that begin with the prefix\n */\nexport function getCookiesWithPrefix(cookiePrefix: string) {\n  var cookies = document.cookie.split('; ');\n  var cookieNames = [];\n  for (var i = 0; i < cookies.length; i++) {\n    if (cookies[i].substring(0, cookiePrefix.length) === cookiePrefix) {\n      cookieNames.push(cookies[i]);\n    }\n  }\n  return cookieNames;\n}\n\n/**\n * Get and set the cookies associated with the current document in browser\n * This implementation always returns a string, returns the cookie value if only name is specified\n *\n * @param name - The cookie name (required)\n * @param value - The cookie value\n * @param ttl - The cookie Time To Live (seconds)\n * @param path - The cookies path\n * @param domain - The cookies domain\n * @param samesite - The cookies samesite attribute\n * @param secure - Boolean to specify if cookie should be secure\n * @returns string The cookies value\n */\nexport function cookie(\n  name: string,\n  value?: string,\n  ttl?: number,\n  path?: string,\n  domain?: string,\n  samesite?: string,\n  secure?: boolean\n) {\n  if (arguments.length > 1) {\n    return (document.cookie =\n      name +\n      '=' +\n      encodeURIComponent(value ?? '') +\n      (ttl ? '; Expires=' + new Date(+new Date() + ttl * 1000).toUTCString() : '') +\n      (path ? '; Path=' + path : '') +\n      (domain ? '; Domain=' + domain : '') +\n      (samesite ? '; SameSite=' + samesite : '') +\n      (secure ? '; Secure' : ''));\n  }\n\n  return decodeURIComponent((('; ' + document.cookie).split('; ' + name + '=')[1] || '').split(';')[0]);\n}\n\n/**\n * Parses an object and returns either the\n * integer or undefined.\n *\n * @param obj - The object to parse\n * @returns the result of the parse operation\n */\nexport function parseAndValidateInt(obj: unknown) {\n  var result = parseInt(obj as string);\n  return isNaN(result) ? undefined : result;\n}\n\n/**\n * Parses an object and returns either the\n * number or undefined.\n *\n * @param obj - The object to parse\n * @returns the result of the parse operation\n */\nexport function parseAndValidateFloat(obj: unknown) {\n  var result = parseFloat(obj as string);\n  return isNaN(result) ? undefined : result;\n}\n\n/**\n * Convert a criterion object to a filter function\n *\n * @param object - criterion Either {allowlist: [array of allowable strings]}\n *                             or {denylist: [array of allowable strings]}\n *                             or {filter: function (elt) {return whether to track the element}\n * @param boolean - byClass Whether to allowlist/denylist based on an element's classes (for forms)\n *                        or name attribute (for fields)\n */\nexport function getFilterByClass(criterion?: FilterCriterion<HTMLElement> | null): (elt: HTMLElement) => boolean {\n  // If the criterion argument is not an object, add listeners to all elements\n  if (criterion == null || typeof criterion !== 'object' || Array.isArray(criterion)) {\n    return function () {\n      return true;\n    };\n  }\n\n  const inclusive = Object.prototype.hasOwnProperty.call(criterion, 'allowlist');\n  const specifiedClassesSet = getSpecifiedClassesSet(criterion);\n\n  return getFilter(criterion, function (elt: HTMLElement) {\n    return checkClass(elt, specifiedClassesSet) === inclusive;\n  });\n}\n\n/**\n * Convert a criterion object to a filter function\n *\n * @param object - criterion Either {allowlist: [array of allowable strings]}\n *                             or {denylist: [array of allowable strings]}\n *                             or {filter: function (elt) {return whether to track the element}\n */\nexport function getFilterByName<T extends { name: string }>(criterion?: FilterCriterion<T>): (elt: T) => boolean {\n  // If the criterion argument is not an object, add listeners to all elements\n  if (criterion == null || typeof criterion !== 'object' || Array.isArray(criterion)) {\n    return function () {\n      return true;\n    };\n  }\n\n  const inclusive = criterion.hasOwnProperty('allowlist');\n  const specifiedClassesSet = getSpecifiedClassesSet(criterion);\n\n  return getFilter(criterion, function (elt: T) {\n    return elt.name in specifiedClassesSet === inclusive;\n  });\n}\n\n/**\n * List the classes of a DOM element without using elt.classList (for compatibility with IE 9)\n */\nexport function getCssClasses(elt: Element) {\n  return elt.className.match(/\\S+/g) || [];\n}\n\n/**\n * Check whether an element has at least one class from a given list\n */\nfunction checkClass(elt: Element, classList: Record<string, boolean>) {\n  var classes = getCssClasses(elt);\n\n  for (const className of classes) {\n    if (classList[className]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getFilter<T>(criterion: FilterCriterion<T>, fallbackFilter: (elt: T) => boolean) {\n  if (criterion.hasOwnProperty('filter') && criterion.filter) {\n    return criterion.filter;\n  }\n\n  return fallbackFilter;\n}\n\nfunction getSpecifiedClassesSet<T>(criterion: FilterCriterion<T>) {\n  // Convert the array of classes to an object of the form {class1: true, class2: true, ...}\n  var specifiedClassesSet: Record<string, boolean> = {};\n  var specifiedClasses = criterion.allowlist || criterion.denylist;\n\n  if (specifiedClasses) {\n    if (!Array.isArray(specifiedClasses)) {\n      specifiedClasses = [specifiedClasses];\n    }\n\n    for (var i = 0; i < specifiedClasses.length; i++) {\n      specifiedClassesSet[specifiedClasses[i]] = true;\n    }\n  }\n\n  return specifiedClassesSet;\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*\n * Checks whether sessionStorage is available, in a way that\n * does not throw a SecurityError in Firefox if \"always ask\"\n * is enabled for cookies (https://github.com/snowplow/snowplow/issues/163).\n */\nexport function hasSessionStorage() {\n  try {\n    return !!window.sessionStorage;\n  } catch (e) {\n    return true; // SecurityError when referencing it means it exists\n  }\n}\n\n/*\n * Checks whether localStorage is available, in a way that\n * does not throw a SecurityError in Firefox if \"always ask\"\n * is enabled for cookies (https://github.com/snowplow/snowplow/issues/163).\n */\nexport function hasLocalStorage() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return true; // SecurityError when referencing it means it exists\n  }\n}\n\n/*\n * Checks whether localStorage is accessible\n * sets and removes an item to handle private IOS5 browsing\n * (http://git.io/jFB2Xw)\n */\nexport function localStorageAccessible() {\n  var mod = 'modernizr';\n  if (!hasLocalStorage()) {\n    return false;\n  }\n  try {\n    const ls = window.localStorage;\n    ls.setItem(mod, mod);\n    ls.removeItem(mod);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n","export const WEB_PAGE_SCHEMA = 'iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0';\nexport const BROWSER_CONTEXT_SCHEMA = 'iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/1-0-0';\nexport const CLIENT_SESSION_SCHEMA = 'iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2';\nexport const PAYLOAD_DATA_SCHEMA = 'iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4';\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { attemptWriteLocalStorage, isString } from '../helpers';\nimport { SharedState } from '../state';\nimport { localStorageAccessible } from '../detectors';\nimport { LOG, Payload } from '@snowplow/tracker-core';\nimport { PAYLOAD_DATA_SCHEMA } from './schemata';\n\nexport interface OutQueue {\n  enqueueRequest: (request: Payload, url: string) => void;\n  executeQueue: () => void;\n  setUseLocalStorage: (localStorage: boolean) => void;\n  setAnonymousTracking: (anonymous: boolean) => void;\n  setCollectorUrl: (url: string) => void;\n  setBufferSize: (bufferSize: number) => void;\n}\n\n/**\n * Object handling sending events to a collector.\n * Instantiated once per tracker instance.\n *\n * @param id - The Snowplow function name (used to generate the localStorage key)\n * @param sharedSate - Stores reference to the outbound queue so it can unload the page when all queues are empty\n * @param useLocalStorage - Whether to use localStorage at all\n * @param eventMethod - if null will use 'beacon' otherwise can be set to 'post', 'get', or 'beacon' to force.\n * @param postPath - The path where events are to be posted\n * @param bufferSize - How many events to batch in localStorage before sending them all\n * @param maxPostBytes - Maximum combined size in bytes of the event JSONs in a POST request\n * @param maxGetBytes - Maximum size in bytes of the complete event URL string in a GET request. 0 for no limit.\n * @param useStm - Whether to add timestamp to events\n * @param maxLocalStorageQueueSize - Maximum number of queued events we will attempt to store in local storage\n * @param connectionTimeout - Defines how long to wait before aborting the request\n * @param anonymousTracking - Defines whether to set the SP-Anonymous header for anonymous tracking on GET and POST\n * @param customHeaders - Allows custom headers to be defined and passed on XMLHttpRequest requests\n * @param withCredentials - Sets the value of the withCredentials flag on XMLHttpRequest (GET and POST) requests\n * @param retryStatusCodes  Failure HTTP response status codes from Collector for which sending events should be retried (they can override the `dontRetryStatusCodes`)\n * @param dontRetryStatusCodes  Failure HTTP response status codes from Collector for which sending events should not be retried\n * @param idService - Id service full URL. This URL will be added to the queue and will be called using a GET method.\n * @returns object OutQueueManager instance\n */\nexport function OutQueueManager(\n  id: string,\n  sharedSate: SharedState,\n  useLocalStorage: boolean,\n  eventMethod: string | boolean,\n  postPath: string,\n  bufferSize: number,\n  maxPostBytes: number,\n  maxGetBytes: number,\n  useStm: boolean,\n  maxLocalStorageQueueSize: number,\n  connectionTimeout: number,\n  anonymousTracking: boolean,\n  customHeaders: Record<string, string>,\n  withCredentials: boolean,\n  retryStatusCodes: number[],\n  dontRetryStatusCodes: number[],\n  idService?: string\n): OutQueue {\n  type PostEvent = {\n    evt: Record<string, unknown>;\n    bytes: number;\n  };\n\n  let executingQueue = false,\n    configCollectorUrl: string,\n    outQueue: Array<PostEvent> | Array<string> = [],\n    idServiceCalled = false;\n\n  //Force to lower case if its a string\n  eventMethod = typeof eventMethod === 'string' ? eventMethod.toLowerCase() : eventMethod;\n\n  // Use the Beacon API if eventMethod is set true, 'true', or 'beacon'.\n  const isBeaconRequested = eventMethod === true || eventMethod === 'beacon' || eventMethod === 'true',\n    // Fall back to POST or GET for browsers which don't support Beacon API\n    isBeaconAvailable = Boolean(\n      isBeaconRequested &&\n        window.navigator &&\n        window.navigator.sendBeacon &&\n        !hasWebKitBeaconBug(window.navigator.userAgent)\n    ),\n    useBeacon = isBeaconAvailable && isBeaconRequested,\n    // Use GET if specified\n    isGetRequested = eventMethod === 'get',\n    // Don't use XhrHttpRequest for browsers which don't support CORS XMLHttpRequests (e.g. IE <= 9)\n    useXhr = Boolean(window.XMLHttpRequest && 'withCredentials' in new XMLHttpRequest()),\n    // Use POST if specified\n    usePost = !isGetRequested && useXhr && (eventMethod === 'post' || isBeaconRequested),\n    // Resolve all options and capabilities and decide path\n    path = usePost ? postPath : '/i',\n    // Different queue names for GET and POST since they are stored differently\n    queueName = `snowplowOutQueue_${id}_${usePost ? 'post2' : 'get'}`;\n\n  // Ensure we don't set headers when beacon is the requested eventMethod as we might fallback to POST\n  // and end up sending them in older browsers which don't support beacon leading to inconsistencies\n  if (isBeaconRequested) customHeaders = {};\n\n  // Get buffer size or set 1 if unable to buffer\n  bufferSize = (useLocalStorage && localStorageAccessible() && usePost && bufferSize) || 1;\n\n  if (useLocalStorage) {\n    // Catch any JSON parse errors or localStorage that might be thrown\n    try {\n      const localStorageQueue = window.localStorage.getItem(queueName);\n      outQueue = localStorageQueue ? JSON.parse(localStorageQueue) : [];\n    } catch (e) {}\n  }\n\n  // Initialize to and empty array if we didn't get anything out of localStorage\n  if (!Array.isArray(outQueue)) {\n    outQueue = [];\n  }\n\n  // Used by pageUnloadGuard\n  sharedSate.outQueues.push(outQueue);\n\n  if (useXhr && bufferSize > 1) {\n    sharedSate.bufferFlushers.push(function (sync) {\n      if (!executingQueue) {\n        executeQueue(sync);\n      }\n    });\n  }\n\n  /*\n   * Convert a dictionary to a querystring\n   * The context field is the last in the querystring\n   */\n  function getQuerystring(request: Payload) {\n    let querystring = '?',\n      lowPriorityKeys = { co: true, cx: true },\n      firstPair = true;\n\n    for (const key in request) {\n      if (request.hasOwnProperty(key) && !lowPriorityKeys.hasOwnProperty(key)) {\n        if (!firstPair) {\n          querystring += '&';\n        } else {\n          firstPair = false;\n        }\n        querystring += encodeURIComponent(key) + '=' + encodeURIComponent(request[key] as string | number | boolean);\n      }\n    }\n\n    for (const contextKey in lowPriorityKeys) {\n      if (request.hasOwnProperty(contextKey) && lowPriorityKeys.hasOwnProperty(contextKey)) {\n        querystring += '&' + contextKey + '=' + encodeURIComponent(request[contextKey] as string | number | boolean);\n      }\n    }\n\n    return querystring;\n  }\n\n  /*\n   * Convert numeric fields to strings to match payload_data schema\n   */\n  function getBody(request: Payload): PostEvent {\n    const cleanedRequest = Object.keys(request)\n      .map<[string, unknown]>((k) => [k, request[k]])\n      .reduce((acc, [key, value]) => {\n        acc[key] = (value as Object).toString();\n        return acc;\n      }, {} as Record<string, unknown>);\n    return {\n      evt: cleanedRequest,\n      bytes: getUTF8Length(JSON.stringify(cleanedRequest)),\n    };\n  }\n\n  /**\n   * Count the number of bytes a string will occupy when UTF-8 encoded\n   * Taken from http://stackoverflow.com/questions/2848462/count-bytes-in-textarea-using-javascript/\n   *\n   * @param string - s\n   * @returns number Length of s in bytes when UTF-8 encoded\n   */\n  function getUTF8Length(s: string) {\n    let len = 0;\n    for (let i = 0; i < s.length; i++) {\n      const code = s.charCodeAt(i);\n      if (code <= 0x7f) {\n        len += 1;\n      } else if (code <= 0x7ff) {\n        len += 2;\n      } else if (code >= 0xd800 && code <= 0xdfff) {\n        // Surrogate pair: These take 4 bytes in UTF-8 and 2 chars in UCS-2\n        // (Assume next char is the other [valid] half and just skip it)\n        len += 4;\n        i++;\n      } else if (code < 0xffff) {\n        len += 3;\n      } else {\n        len += 4;\n      }\n    }\n    return len;\n  }\n\n  const postable = (queue: Array<PostEvent> | Array<string>): queue is Array<PostEvent> => {\n    return typeof queue[0] === 'object' && 'evt' in queue[0];\n  };\n\n  /**\n   * Send event as POST request right away without going to queue. Used when the request surpasses maxGetBytes or maxPostBytes\n   * @param body POST request body\n   * @param configCollectorUrl full collector URL with path\n   */\n  function sendPostRequestWithoutQueueing(body: PostEvent, configCollectorUrl: string) {\n    const xhr = initializeXMLHttpRequest(configCollectorUrl, true, false);\n    xhr.send(encloseInPayloadDataEnvelope(attachStmToEvent([body.evt])));\n  }\n\n  /*\n   * Queue for submission to the collector and start processing queue\n   */\n  function enqueueRequest(request: Payload, url: string) {\n    configCollectorUrl = url + path;\n    const eventTooBigWarning = (bytes: number, maxBytes: number) =>\n      LOG.warn('Event (' + bytes + 'B) too big, max is ' + maxBytes);\n\n    if (usePost) {\n      const body = getBody(request);\n      if (body.bytes >= maxPostBytes) {\n        eventTooBigWarning(body.bytes, maxPostBytes);\n        sendPostRequestWithoutQueueing(body, configCollectorUrl);\n        return;\n      } else {\n        (outQueue as Array<PostEvent>).push(body);\n      }\n    } else {\n      const querystring = getQuerystring(request);\n      if (maxGetBytes > 0) {\n        const requestUrl = createGetUrl(querystring);\n        const bytes = getUTF8Length(requestUrl);\n        if (bytes >= maxGetBytes) {\n          eventTooBigWarning(bytes, maxGetBytes);\n          if (useXhr) {\n            const body = getBody(request);\n            const postUrl = url + postPath;\n            sendPostRequestWithoutQueueing(body, postUrl);\n          }\n          return;\n        }\n      }\n      (outQueue as Array<string>).push(querystring);\n    }\n    let savedToLocalStorage = false;\n    if (useLocalStorage) {\n      savedToLocalStorage = attemptWriteLocalStorage(\n        queueName,\n        JSON.stringify(outQueue.slice(0, maxLocalStorageQueueSize))\n      );\n    }\n\n    // If we're not processing the queue, we'll start.\n    if (!executingQueue && (!savedToLocalStorage || outQueue.length >= bufferSize)) {\n      executeQueue();\n    }\n  }\n\n  /*\n   * Run through the queue of requests, sending them one at a time.\n   * Stops processing when we run out of queued requests, or we get an error.\n   */\n  function executeQueue(sync: boolean = false) {\n    // Failsafe in case there is some way for a bad value like \"null\" to end up in the outQueue\n    while (outQueue.length && typeof outQueue[0] !== 'string' && typeof outQueue[0] !== 'object') {\n      outQueue.shift();\n    }\n\n    if (!outQueue.length) {\n      executingQueue = false;\n      return;\n    }\n\n    // Let's check that we have a URL\n    if (!isString(configCollectorUrl)) {\n      throw 'No collector configured';\n    }\n\n    executingQueue = true;\n\n    if (idService && !idServiceCalled) {\n      const xhr = initializeXMLHttpRequest(idService, false, sync);\n      idServiceCalled = true;\n      xhr.timeout = connectionTimeout;\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          executeQueue();\n        }\n      };\n      xhr.send();\n      return;\n    }\n\n    if (useXhr) {\n      // Keep track of number of events to delete from queue\n      const chooseHowManyToSend = (queue: Array<{ bytes: number }>) => {\n        let numberToSend = 0,\n          byteCount = 0;\n        while (numberToSend < queue.length) {\n          byteCount += queue[numberToSend].bytes;\n          if (byteCount >= maxPostBytes) {\n            break;\n          } else {\n            numberToSend += 1;\n          }\n        }\n        return numberToSend;\n      };\n\n      let url: string, xhr: XMLHttpRequest, numberToSend: number;\n      if (postable(outQueue)) {\n        url = configCollectorUrl;\n        xhr = initializeXMLHttpRequest(url, true, sync);\n        numberToSend = chooseHowManyToSend(outQueue);\n      } else {\n        url = createGetUrl(outQueue[0]);\n        xhr = initializeXMLHttpRequest(url, false, sync);\n        numberToSend = 1;\n      }\n\n      // Time out POST requests after connectionTimeout\n      const xhrTimeout = setTimeout(function () {\n        xhr.abort();\n        executingQueue = false;\n      }, connectionTimeout);\n\n      const removeEventsFromQueue = (numberToSend: number): void => {\n        for (let deleteCount = 0; deleteCount < numberToSend; deleteCount++) {\n          outQueue.shift();\n        }\n        if (useLocalStorage) {\n          attemptWriteLocalStorage(queueName, JSON.stringify(outQueue.slice(0, maxLocalStorageQueueSize)));\n        }\n      };\n\n      // The events (`numberToSend` of them), have been sent, so we remove them from the outQueue\n      // We also call executeQueue() again, to let executeQueue() check if we should keep running through the queue\n      const onPostSuccess = (numberToSend: number): void => {\n        removeEventsFromQueue(numberToSend);\n        executeQueue();\n      };\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4 && xhr.status >= 200) {\n          clearTimeout(xhrTimeout);\n          if (xhr.status < 300) {\n            onPostSuccess(numberToSend);\n          } else {\n            if (!shouldRetryForStatusCode(xhr.status)) {\n              LOG.error(`Status ${xhr.status}, will not retry.`);\n              removeEventsFromQueue(numberToSend);\n            }\n            executingQueue = false;\n          }\n        }\n      };\n\n      if (!postable(outQueue)) {\n        // If not postable then it's a GET so just send it\n        xhr.send();\n      } else {\n        let batch = outQueue.slice(0, numberToSend);\n\n        if (batch.length > 0) {\n          let beaconStatus = false;\n\n          const eventBatch = batch.map(function (x) {\n            return x.evt;\n          });\n\n          if (useBeacon) {\n            const blob = new Blob([encloseInPayloadDataEnvelope(attachStmToEvent(eventBatch))], {\n              type: 'application/json',\n            });\n            try {\n              beaconStatus = navigator.sendBeacon(url, blob);\n            } catch (error) {\n              beaconStatus = false;\n            }\n          }\n\n          // When beaconStatus is true, we can't _guarantee_ that it was successful (beacon queues asynchronously)\n          // but the browser has taken it out of our hands, so we want to flush the queue assuming it will do its job\n          if (beaconStatus === true) {\n            onPostSuccess(numberToSend);\n          } else {\n            xhr.send(encloseInPayloadDataEnvelope(attachStmToEvent(eventBatch)));\n          }\n        }\n      }\n    } else if (!anonymousTracking && !postable(outQueue)) {\n      // We can't send with this technique if anonymous tracking is on as we can't attach the header\n      let image = new Image(1, 1),\n        loading = true;\n\n      image.onload = function () {\n        if (!loading) return;\n        loading = false;\n        outQueue.shift();\n        if (useLocalStorage) {\n          attemptWriteLocalStorage(queueName, JSON.stringify(outQueue.slice(0, maxLocalStorageQueueSize)));\n        }\n        executeQueue();\n      };\n\n      image.onerror = function () {\n        if (!loading) return;\n        loading = false;\n        executingQueue = false;\n      };\n\n      image.src = createGetUrl(outQueue[0]);\n\n      setTimeout(function () {\n        if (loading && executingQueue) {\n          loading = false;\n          executeQueue();\n        }\n      }, connectionTimeout);\n    } else {\n      executingQueue = false;\n    }\n  }\n\n  function shouldRetryForStatusCode(statusCode: number) {\n    // success, don't retry\n    if (statusCode >= 200 && statusCode < 300) {\n      return false;\n    }\n\n    // retry if status code among custom user-supplied retry codes\n    if (retryStatusCodes.includes(statusCode)) {\n      return true;\n    }\n\n    // retry if status code *not* among the don't retry codes\n    return !dontRetryStatusCodes.includes(statusCode);\n  }\n\n  /**\n   * Open an XMLHttpRequest for a given endpoint with the correct credentials and header\n   *\n   * @param string - url The destination URL\n   * @returns object The XMLHttpRequest\n   */\n  function initializeXMLHttpRequest(url: string, post: boolean, sync: boolean) {\n    const xhr = new XMLHttpRequest();\n    if (post) {\n      xhr.open('POST', url, !sync);\n      xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');\n    } else {\n      xhr.open('GET', url, !sync);\n    }\n    xhr.withCredentials = withCredentials;\n    if (anonymousTracking) {\n      xhr.setRequestHeader('SP-Anonymous', '*');\n    }\n    for (const header in customHeaders) {\n      if (Object.prototype.hasOwnProperty.call(customHeaders, header)) {\n        xhr.setRequestHeader(header, customHeaders[header]);\n      }\n    }\n    return xhr;\n  }\n\n  /**\n   * Enclose an array of events in a self-describing payload_data JSON string\n   *\n   * @param array - events Batch of events\n   * @returns string payload_data self-describing JSON\n   */\n  function encloseInPayloadDataEnvelope(events: Array<Record<string, unknown>>) {\n    return JSON.stringify({\n      schema: PAYLOAD_DATA_SCHEMA,\n      data: events,\n    });\n  }\n\n  /**\n   * Attaches the STM field to outbound POST events.\n   *\n   * @param events - the events to attach the STM to\n   */\n  function attachStmToEvent(events: Array<Record<string, unknown>>) {\n    const stm = new Date().getTime().toString();\n    for (let i = 0; i < events.length; i++) {\n      events[i]['stm'] = stm;\n    }\n    return events;\n  }\n\n  /**\n   * Creates the full URL for sending the GET request. Will append `stm` if enabled\n   *\n   * @param nextRequest - the query string of the next request\n   */\n  function createGetUrl(nextRequest: string) {\n    if (useStm) {\n      return configCollectorUrl + nextRequest.replace('?', '?stm=' + new Date().getTime() + '&');\n    }\n\n    return configCollectorUrl + nextRequest;\n  }\n\n  return {\n    enqueueRequest: enqueueRequest,\n    executeQueue: () => {\n      if (!executingQueue) {\n        executeQueue();\n      }\n    },\n    setUseLocalStorage: (localStorage: boolean) => {\n      useLocalStorage = localStorage;\n    },\n    setAnonymousTracking: (anonymous: boolean) => {\n      anonymousTracking = anonymous;\n    },\n    setCollectorUrl: (url: string) => {\n      configCollectorUrl = url + path;\n    },\n    setBufferSize: (newBufferSize: number) => {\n      bufferSize = newBufferSize;\n    },\n  };\n\n  function hasWebKitBeaconBug(useragent: string) {\n    return (\n      isIosVersionLessThanOrEqualTo(13, useragent) ||\n      (isMacosxVersionLessThanOrEqualTo(10, 15, useragent) && isSafari(useragent))\n    );\n\n    function isIosVersionLessThanOrEqualTo(major: number, useragent: string) {\n      const match = useragent.match('(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/');\n      if (match && match.length) {\n        return parseInt(match[0]) <= major;\n      }\n      return false;\n    }\n\n    function isMacosxVersionLessThanOrEqualTo(major: number, minor: number, useragent: string) {\n      const match = useragent.match('(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/');\n      if (match && match.length) {\n        return parseInt(match[0]) <= major || (parseInt(match[0]) === major && parseInt(match[1]) <= minor);\n      }\n      return false;\n    }\n\n    function isSafari(useragent: string) {\n      return useragent.match('Version/.* Safari/') && !isChromiumBased(useragent);\n    }\n\n    function isChromiumBased(useragent: string) {\n      return useragent.match('Chrom(e|ium)');\n    }\n  }\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { fromQuerystring, getHostName } from './helpers';\n\n/*\n * Extract parameter from URL\n */\nfunction getParameter(url: string, name: string) {\n  // scheme : // [username [: password] @] hostname [: port] [/ [path] [? query] [# fragment]]\n  var e = new RegExp('^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)'),\n    matches = e.exec(url);\n\n  if (matches && matches?.length > 1) {\n    return fromQuerystring(name, matches[1]);\n  }\n  return null;\n}\n\n/*\n * Fix-up URL when page rendered from search engine cache or translated page.\n */\nexport function fixupUrl(hostName: string, href: string, referrer: string) {\n  if (hostName === 'translate.googleusercontent.com') {\n    // Google\n    if (referrer === '') {\n      referrer = href;\n    }\n    href = getParameter(href, 'u') ?? '';\n    hostName = getHostName(href);\n  } else if (\n    hostName === 'cc.bingj.com' || // Bing & Yahoo\n    hostName === 'webcache.googleusercontent.com' // Google\n  ) {\n    href = document.links[0].href;\n    hostName = getHostName(href);\n  }\n  return [hostName, href, referrer];\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { PayloadBuilder } from '@snowplow/tracker-core';\nimport { v4 as uuid } from 'uuid';\nimport { ClientSession } from './types';\n\n/**\n * Indices of cookie values\n */\nconst cookieDisabledIndex = 0,\n  domainUserIdIndex = 1,\n  createTsIndex = 2,\n  visitCountIndex = 3,\n  nowTsIndex = 4,\n  lastVisitTsIndex = 5,\n  sessionIdIndex = 6,\n  previousSessionIdIndex = 7,\n  firstEventIdIndex = 8,\n  firstEventTsInMsIndex = 9,\n  eventIndexIndex = 10;\n\nexport type ParsedIdCookie = [\n  string, // cookieDisabled\n  string, // domainUserId\n  number, // cookieCreateTs\n  number, // visitCount\n  number, // nowTs\n  number | undefined, // lastVisitTs\n  string, // sessionId\n  string, // previousSessionId\n  string, // firstEventId\n  number | undefined, // firstEventTs\n  number // eventIndex\n];\n\nexport function emptyIdCookie() {\n  const idCookie: ParsedIdCookie = ['1', '', 0, 0, 0, undefined, '', '', '', undefined, 0];\n  return idCookie;\n}\n\n/**\n * Parses the cookie values from its string representation.\n *\n * @param id Cookie value as string\n * @param domainUserId Domain user ID to be used in case of empty cookie string\n * @returns Parsed ID cookie tuple\n */\nexport function parseIdCookie(\n  id: string | undefined,\n  domainUserId: string,\n  memorizedSessionId: string,\n  memorizedVisitCount: number\n) {\n  let now = new Date(),\n    nowTs = Math.round(now.getTime() / 1000),\n    tmpContainer;\n\n  if (id) {\n    tmpContainer = id.split('.');\n    // cookies enabled\n    tmpContainer.unshift('0');\n  } else {\n    tmpContainer = [\n      // cookies disabled\n      '1',\n      // Domain user ID\n      domainUserId,\n      // Creation timestamp - seconds since Unix epoch\n      nowTs,\n      // visitCount - 0 = no previous visit\n      memorizedVisitCount,\n      // Current visit timestamp\n      nowTs,\n      // Last visit timestamp - blank meaning no previous visit\n      '',\n      // Session ID\n      memorizedSessionId,\n    ];\n  }\n\n  if (!tmpContainer[sessionIdIndex] || tmpContainer[sessionIdIndex] === 'undefined') {\n    // session id\n    tmpContainer[sessionIdIndex] = uuid();\n  }\n  if (!tmpContainer[previousSessionIdIndex] || tmpContainer[previousSessionIdIndex] === 'undefined') {\n    // previous session id\n    tmpContainer[previousSessionIdIndex] = '';\n  }\n  if (!tmpContainer[firstEventIdIndex] || tmpContainer[firstEventIdIndex] === 'undefined') {\n    // firstEventId - blank meaning no previous event\n    tmpContainer[firstEventIdIndex] = '';\n  }\n  if (!tmpContainer[firstEventTsInMsIndex] || tmpContainer[firstEventTsInMsIndex] === 'undefined') {\n    // firstEventTs - blank meaning no previous event\n    tmpContainer[firstEventTsInMsIndex] = '';\n  }\n  if (!tmpContainer[eventIndexIndex] || tmpContainer[eventIndexIndex] === 'undefined') {\n    // eventIndex  0 = no previous event\n    tmpContainer[eventIndexIndex] = 0;\n  }\n\n  const parseIntOr = (value: any, defaultValue: any) => {\n    let parsed = parseInt(value as string);\n    return isNaN(parsed) ? defaultValue : parsed;\n  };\n  const parseIntOrUndefined = (value: any) => (value ? parseIntOr(value, undefined) : undefined);\n\n  const parsed: ParsedIdCookie = [\n    tmpContainer[cookieDisabledIndex] as string,\n    tmpContainer[domainUserIdIndex] as string,\n    parseIntOr(tmpContainer[createTsIndex], nowTs),\n    parseIntOr(tmpContainer[visitCountIndex], memorizedVisitCount),\n    parseIntOr(tmpContainer[nowTsIndex], nowTs),\n    parseIntOrUndefined(tmpContainer[lastVisitTsIndex]),\n    tmpContainer[sessionIdIndex] as string,\n    tmpContainer[previousSessionIdIndex] as string,\n    tmpContainer[firstEventIdIndex] as string,\n    parseIntOrUndefined(tmpContainer[firstEventTsInMsIndex]),\n    parseIntOr(tmpContainer[eventIndexIndex], 0),\n  ];\n  return parsed;\n}\n\n/**\n * Initializes the domain user ID if not already present in the cookie. Sets an empty string if anonymous tracking.\n *\n * @param idCookie Parsed cookie\n * @param configAnonymousTracking Whether anonymous tracking is enabled\n * @returns Domain user ID\n */\nexport function initializeDomainUserId(idCookie: ParsedIdCookie, configAnonymousTracking: boolean) {\n  let domainUserId;\n  if (idCookie[domainUserIdIndex]) {\n    domainUserId = idCookie[domainUserIdIndex];\n  } else if (!configAnonymousTracking) {\n    domainUserId = uuid();\n    idCookie[domainUserIdIndex] = domainUserId;\n  } else {\n    domainUserId = '';\n    idCookie[domainUserIdIndex] = domainUserId;\n  }\n  return domainUserId;\n}\n\ntype NewSessionOptions = {\n  memorizedVisitCount: number;\n};\n\n/**\n * Starts a new session with a new ID.\n * Sets the previous session, last visit timestamp, and increments visit count if cookies enabled.\n * First event references are reset and will be updated in `updateFirstEventInIdCookie`.\n *\n * @param idCookie Parsed cookie\n * @param options.configStateStorageStrategy Cookie storage strategy\n * @param options.configAnonymousTracking If anonymous tracking is enabled\n * @param options.memorizedVisitCount Visit count to be used if cookies not enabled\n * @param options.onSessionUpdateCallback Session callback triggered on every session update\n * @returns New session ID\n */\nexport function startNewIdCookieSession(\n  idCookie: ParsedIdCookie,\n  options: NewSessionOptions = { memorizedVisitCount: 1 }\n) {\n  const { memorizedVisitCount } = options;\n\n  // If cookies are enabled, base visit count and session ID on the cookies\n  if (cookiesEnabledInIdCookie(idCookie)) {\n    // Store the previous session ID\n    idCookie[previousSessionIdIndex] = idCookie[sessionIdIndex];\n    // Set lastVisitTs to currentVisitTs\n    idCookie[lastVisitTsIndex] = idCookie[nowTsIndex];\n    // Increment the session ID\n    idCookie[visitCountIndex]++;\n  } else {\n    idCookie[visitCountIndex] = memorizedVisitCount;\n  }\n\n  // Create a new sessionId\n  const sessionId = uuid();\n  idCookie[sessionIdIndex] = sessionId;\n\n  // Reset event index and first event references\n  idCookie[eventIndexIndex] = 0;\n  idCookie[firstEventIdIndex] = '';\n  idCookie[firstEventTsInMsIndex] = undefined;\n\n  return sessionId;\n}\n\n/**\n * Update now timestamp in cookie.\n *\n * @param idCookie Parsed cookie\n */\nexport function updateNowTsInIdCookie(idCookie: ParsedIdCookie) {\n  idCookie[nowTsIndex] = Math.round(new Date().getTime() / 1000);\n}\n\n/**\n * Updates the first event references according to the event payload if first event in session.\n *\n * @param idCookie Parsed cookie\n * @param payloadBuilder Event payload builder\n */\nexport function updateFirstEventInIdCookie(idCookie: ParsedIdCookie, payloadBuilder: PayloadBuilder) {\n  // Update first event references if new session or not present\n  if (idCookie[eventIndexIndex] === 0) {\n    const payload = payloadBuilder.build();\n    idCookie[firstEventIdIndex] = payload['eid'] as string;\n    const ts = (payload['dtm'] || payload['ttm']) as string;\n    idCookie[firstEventTsInMsIndex] = ts ? parseInt(ts) : undefined;\n  }\n}\n\n/**\n * Increments event index counter.\n *\n * @param idCookie Parsed cookie\n */\nexport function incrementEventIndexInIdCookie(idCookie: ParsedIdCookie) {\n  idCookie[eventIndexIndex] += 1;\n}\n\n/**\n * Serializes parsed cookie to string representation.\n *\n * @param idCookie Parsed cookie\n * @returns String cookie value\n */\nexport function serializeIdCookie(idCookie: ParsedIdCookie) {\n  idCookie.shift();\n  return idCookie.join('.');\n}\n\n/**\n * Transforms the parsed cookie into a client session context entity.\n *\n * @param idCookie Parsed cookie\n * @param configStateStorageStrategy Cookie storage strategy\n * @param configAnonymousTracking If anonymous tracking is enabled\n * @returns Client session context entity\n */\nexport function clientSessionFromIdCookie(\n  idCookie: ParsedIdCookie,\n  configStateStorageStrategy: string,\n  configAnonymousTracking: boolean\n) {\n  const firstEventTsInMs = idCookie[firstEventTsInMsIndex];\n  const clientSession: ClientSession = {\n    userId: configAnonymousTracking\n      ? '00000000-0000-0000-0000-000000000000' // TODO: use uuid.NIL when we upgrade to uuid v8.3\n      : idCookie[domainUserIdIndex],\n    sessionId: idCookie[sessionIdIndex],\n    eventIndex: idCookie[eventIndexIndex],\n    sessionIndex: idCookie[visitCountIndex],\n    previousSessionId: configAnonymousTracking ? null : idCookie[previousSessionIdIndex] || null,\n    storageMechanism: configStateStorageStrategy == 'localStorage' ? 'LOCAL_STORAGE' : 'COOKIE_1',\n    firstEventId: idCookie[firstEventIdIndex] || null,\n    firstEventTimestamp: firstEventTsInMs ? new Date(firstEventTsInMs).toISOString() : null,\n  };\n\n  return clientSession;\n}\n\nexport function sessionIdFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[sessionIdIndex];\n}\n\nexport function domainUserIdFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[domainUserIdIndex];\n}\n\nexport function visitCountFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[visitCountIndex];\n}\n\nexport function cookiesEnabledInIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[cookieDisabledIndex] === '0';\n}\n\nexport function createTsFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[createTsIndex];\n}\n\nexport function nowTsFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[nowTsIndex];\n}\n\nexport function lastVisitTsFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[lastVisitTsIndex];\n}\n\nexport function previousSessionIdFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[previousSessionIdIndex];\n}\n\nexport function firstEventIdFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[firstEventIdIndex];\n}\n\nexport function firstEventTsInMsFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[firstEventTsInMsIndex];\n}\n\nexport function eventIndexFromIdCookie(idCookie: ParsedIdCookie) {\n  return idCookie[eventIndexIndex];\n}\n","/* Separator used for dimension values e.g. widthxheight */\nconst DIMENSION_SEPARATOR = 'x';\n\nexport function getBrowserProperties() {\n  return {\n    viewport: floorDimensionFields(detectViewport()),\n    documentSize: floorDimensionFields(detectDocumentSize()),\n    resolution: floorDimensionFields(detectScreenResolution()),\n    colorDepth: screen.colorDepth,\n    devicePixelRatio: window.devicePixelRatio,\n    cookiesEnabled: window.navigator.cookieEnabled,\n    online: window.navigator.onLine,\n    browserLanguage: navigator.language || (navigator as any).userLanguage,\n    documentLanguage: document.documentElement.lang,\n    webdriver: window.navigator.webdriver,\n    deviceMemory: (window.navigator as any).deviceMemory,\n    hardwareConcurrency: (window.navigator as any).hardwareConcurrency,\n  };\n}\n\n/**\n * Gets the current viewport.\n *\n * Code based on:\n * - http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/\n * - http://responsejs.com/labs/dimensions/\n */\nfunction detectViewport() {\n  var width, height;\n\n  if ('innerWidth' in window) {\n    width = window['innerWidth'];\n    height = window['innerHeight'];\n  } else {\n    const e = document.documentElement || document.body;\n    width = e['clientWidth'];\n    height = e['clientHeight'];\n  }\n\n  if (width >= 0 && height >= 0) {\n    return width + DIMENSION_SEPARATOR + height;\n  } else {\n    return null;\n  }\n}\n\n/**\n * Gets the dimensions of the current\n * document.\n *\n * Code based on:\n * - http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/\n */\nfunction detectDocumentSize() {\n  var de = document.documentElement, // Alias\n    be = document.body,\n    // document.body may not have rendered, so check whether be.offsetHeight is null\n    bodyHeight = be ? Math.max(be.offsetHeight, be.scrollHeight) : 0;\n  var w = Math.max(de.clientWidth, de.offsetWidth, de.scrollWidth);\n  var h = Math.max(de.clientHeight, de.offsetHeight, de.scrollHeight, bodyHeight);\n  return isNaN(w) || isNaN(h) ? '' : w + DIMENSION_SEPARATOR + h;\n}\n\nfunction detectScreenResolution() {\n  return screen.width + DIMENSION_SEPARATOR + screen.height;\n}\n\nexport function floorDimensionFields(field?: string | null) {\n  return (\n    field &&\n    field\n      .split(DIMENSION_SEPARATOR)\n      .map((dimension) => Math.floor(Number(dimension)))\n      .join(DIMENSION_SEPARATOR)\n  );\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport {\n  trackerCore,\n  buildPagePing,\n  buildPageView,\n  CommonEventProperties,\n  PayloadBuilder,\n  SelfDescribingJson,\n  LOG,\n} from '@snowplow/tracker-core';\nimport hash from 'sha1';\nimport { v4 as uuid } from 'uuid';\nimport {\n  decorateQuerystring,\n  findRootDomain,\n  fixupDomain,\n  getReferrer,\n  addEventListener,\n  getHostName,\n  cookie,\n  attemptGetLocalStorage,\n  attemptWriteLocalStorage,\n  attemptDeleteLocalStorage,\n  deleteCookie,\n  fixupTitle,\n  fromQuerystring,\n  isInteger,\n  attemptGetSessionStorage,\n  attemptWriteSessionStorage,\n} from '../helpers';\nimport { BrowserPlugin } from '../plugins';\nimport { OutQueueManager } from './out_queue';\nimport { fixupUrl } from '../proxies';\nimport { SharedState } from '../state';\nimport {\n  PageViewEvent,\n  ActivityCallback,\n  ActivityCallbackData,\n  TrackerConfiguration,\n  BrowserTracker,\n  ActivityTrackingConfiguration,\n  ActivityTrackingConfigurationCallback,\n  DisableAnonymousTrackingConfiguration,\n  EnableAnonymousTrackingConfiguration,\n  FlushBufferConfiguration,\n  BrowserPluginConfiguration,\n  ClearUserDataConfiguration,\n  ClientSession,\n} from './types';\nimport {\n  parseIdCookie,\n  initializeDomainUserId,\n  startNewIdCookieSession,\n  updateNowTsInIdCookie,\n  serializeIdCookie,\n  sessionIdFromIdCookie,\n  domainUserIdFromIdCookie,\n  updateFirstEventInIdCookie,\n  visitCountFromIdCookie,\n  cookiesEnabledInIdCookie,\n  ParsedIdCookie,\n  clientSessionFromIdCookie,\n  incrementEventIndexInIdCookie,\n  emptyIdCookie,\n  eventIndexFromIdCookie,\n} from './id_cookie';\nimport { CLIENT_SESSION_SCHEMA, WEB_PAGE_SCHEMA, BROWSER_CONTEXT_SCHEMA } from './schemata';\nimport { getBrowserProperties } from '../helpers/browser_props';\n\ndeclare global {\n  interface Navigator {\n    msDoNotTrack: boolean;\n  }\n  interface Window {\n    doNotTrack: boolean;\n  }\n}\n\n/** Represents an instance of an activity tracking configuration */\ntype ActivityConfig = {\n  /** The callback to fire based on heart beat */\n  callback: ActivityCallback;\n  /** The minimum time that must have elapsed before first heartbeat */\n  configMinimumVisitLength: number;\n  /** The interval at which the callback will be fired */\n  configHeartBeatTimer: number;\n  /** The setInterval identifier */\n  activityInterval?: number;\n};\n\n/** The configurations for the two types of Activity Tracking */\ntype ActivityConfigurations = {\n  /** The configuration for enableActivityTrackingCallback */\n  callback?: ActivityConfig;\n  /** The configuration for enableActivityTracking */\n  pagePing?: ActivityConfig;\n};\n\n/** The configuration for if either activity tracking system is enable */\ntype ActivityTrackingConfig = {\n  /** Tracks if activity tracking is enabled */\n  enabled: boolean;\n  /** Tracks if activity tracking hooks have been installed */\n  installed: boolean;\n  /** Stores the configuration for each type of activity tracking */\n  configurations: ActivityConfigurations;\n};\n\n/**\n * The Snowplow Tracker\n *\n * @param trackerId - The unique identifier of the tracker\n * @param namespace - The namespace of the tracker object\n * @param version - The current version of the JavaScript Tracker\n * @param endpoint - The collector endpoint to send events to, with or without protocol\n * @param sharedState - An object containing state which is shared across tracker instances\n * @param trackerConfiguration - Dictionary of configuration options\n */\nexport function Tracker(\n  trackerId: string,\n  namespace: string,\n  version: string,\n  endpoint: string,\n  sharedState: SharedState,\n  trackerConfiguration: TrackerConfiguration = {}\n): BrowserTracker {\n  const browserPlugins: Array<BrowserPlugin> = [];\n\n  const newTracker = (\n    trackerId: string,\n    namespace: string,\n    version: string,\n    endpoint: string,\n    state: SharedState,\n    trackerConfiguration: TrackerConfiguration\n  ) => {\n    /************************************************************\n     * Private members\n     ************************************************************/\n\n    //use POST if eventMethod isn't present on the newTrackerConfiguration\n    trackerConfiguration.eventMethod = trackerConfiguration.eventMethod ?? 'post';\n\n    const getStateStorageStrategy = (config: TrackerConfiguration) =>\n        config.stateStorageStrategy ?? 'cookieAndLocalStorage',\n      getAnonymousSessionTracking = (config: TrackerConfiguration) => {\n        if (typeof config.anonymousTracking === 'boolean') {\n          return false;\n        }\n        return config.anonymousTracking?.withSessionTracking === true ?? false;\n      },\n      getAnonymousServerTracking = (config: TrackerConfiguration) => {\n        if (typeof config.anonymousTracking === 'boolean') {\n          return false;\n        }\n        return config.anonymousTracking?.withServerAnonymisation === true ?? false;\n      },\n      getAnonymousTracking = (config: TrackerConfiguration) => !!config.anonymousTracking,\n      isBrowserContextAvailable = trackerConfiguration?.contexts?.browser ?? false,\n      isWebPageContextAvailable = trackerConfiguration?.contexts?.webPage ?? true;\n\n    // Get all injected plugins\n    browserPlugins.push(getBrowserDataPlugin());\n    /* When including the Web Page context, we add the relevant internal plugins */\n    if (isWebPageContextAvailable) {\n      browserPlugins.push(getWebPagePlugin());\n    }\n    if (isBrowserContextAvailable) {\n      browserPlugins.push(getBrowserContextPlugin());\n    }\n    browserPlugins.push(...(trackerConfiguration.plugins ?? []));\n\n    let // Tracker core\n      core = trackerCore({\n        base64: trackerConfiguration.encodeBase64,\n        corePlugins: browserPlugins,\n        callback: sendRequest,\n      }),\n      // Aliases\n      documentCharset = document.characterSet || document.charset,\n      // Current URL and Referrer URL\n      locationArray = fixupUrl(window.location.hostname, window.location.href, getReferrer()),\n      domainAlias = fixupDomain(locationArray[0]),\n      locationHrefAlias = locationArray[1],\n      configReferrerUrl = locationArray[2],\n      customReferrer: string,\n      // Platform defaults to web for this tracker\n      configPlatform = trackerConfiguration.platform ?? 'web',\n      // Snowplow collector URL\n      configCollectorUrl = asCollectorUrl(endpoint),\n      // Custom path for post requests (to get around adblockers)\n      configPostPath = trackerConfiguration.postPath ?? '/com.snowplowanalytics.snowplow/tp2',\n      // Site ID\n      configTrackerSiteId = trackerConfiguration.appId ?? '',\n      // Document URL\n      configCustomUrl: string,\n      // Document title\n      lastDocumentTitle = document.title,\n      // Custom title\n      lastConfigTitle: string | null | undefined,\n      // Controls whether activity tracking page ping event timers are reset on page view events\n      resetActivityTrackingOnPageView = trackerConfiguration.resetActivityTrackingOnPageView ?? true,\n      // Disallow hash tags in URL. TODO: Should this be set to true by default?\n      configDiscardHashTag: boolean,\n      // Disallow brace in URL.\n      configDiscardBrace: boolean,\n      // First-party cookie name prefix\n      configCookieNamePrefix = trackerConfiguration.cookieName ?? '_sp_',\n      // First-party cookie domain\n      // User agent defaults to origin hostname\n      configCookieDomain = trackerConfiguration.cookieDomain ?? undefined,\n      // First-party cookie path\n      // Default is user agent defined.\n      configCookiePath = '/',\n      // First-party cookie samesite attribute\n      configCookieSameSite = trackerConfiguration.cookieSameSite ?? 'None',\n      // First-party cookie secure attribute\n      configCookieSecure = trackerConfiguration.cookieSecure ?? true,\n      // Do Not Track browser feature\n      dnt = navigator.doNotTrack || navigator.msDoNotTrack || window.doNotTrack,\n      // Do Not Track\n      configDoNotTrack =\n        typeof trackerConfiguration.respectDoNotTrack !== 'undefined'\n          ? trackerConfiguration.respectDoNotTrack && (dnt === 'yes' || dnt === '1')\n          : false,\n      // Opt out of cookie tracking\n      configOptOutCookie: string | null | undefined,\n      // Life of the visitor cookie (in seconds)\n      configVisitorCookieTimeout = trackerConfiguration.cookieLifetime ?? 63072000, // 2 years\n      // Life of the session cookie (in seconds)\n      configSessionCookieTimeout = trackerConfiguration.sessionCookieTimeout ?? 1800, // 30 minutes\n      // Allows tracking user session (using cookies or local storage), can only be used with anonymousTracking\n      configAnonymousSessionTracking = getAnonymousSessionTracking(trackerConfiguration),\n      // Will send a header to server to prevent returning cookie and capturing IP\n      configAnonymousServerTracking = getAnonymousServerTracking(trackerConfiguration),\n      // Sets tracker to work in anonymous mode without accessing client storage\n      configAnonymousTracking = getAnonymousTracking(trackerConfiguration),\n      // Strategy defining how to store the state: cookie, localStorage, cookieAndLocalStorage or none\n      configStateStorageStrategy = getStateStorageStrategy(trackerConfiguration),\n      // Last activity timestamp\n      lastActivityTime: number,\n      // The last time an event was fired on the page - used to invalidate session if cookies are disabled\n      lastEventTime = new Date().getTime(),\n      // How are we scrolling?\n      minXOffset: number,\n      maxXOffset: number,\n      minYOffset: number,\n      maxYOffset: number,\n      // Domain hash value\n      domainHash: string,\n      // Domain unique user ID\n      domainUserId: string,\n      // ID for the current session\n      memorizedSessionId: string,\n      // Index for the current session - kept in memory in case cookies are disabled\n      memorizedVisitCount = 1,\n      // Business-defined unique user ID\n      businessUserId: string | null | undefined,\n      // Manager for local storage queue\n      outQueue = OutQueueManager(\n        trackerId,\n        state,\n        configStateStorageStrategy == 'localStorage' || configStateStorageStrategy == 'cookieAndLocalStorage',\n        trackerConfiguration.eventMethod,\n        configPostPath,\n        trackerConfiguration.bufferSize ?? 1,\n        trackerConfiguration.maxPostBytes ?? 40000,\n        trackerConfiguration.maxGetBytes ?? 0,\n        trackerConfiguration.useStm ?? true,\n        trackerConfiguration.maxLocalStorageQueueSize ?? 1000,\n        trackerConfiguration.connectionTimeout ?? 5000,\n        configAnonymousServerTracking,\n        trackerConfiguration.customHeaders ?? {},\n        trackerConfiguration.withCredentials ?? true,\n        trackerConfiguration.retryStatusCodes ?? [],\n        (trackerConfiguration.dontRetryStatusCodes ?? []).concat([400, 401, 403, 410, 422]),\n        trackerConfiguration.idService\n      ),\n      // Whether pageViewId should be regenerated after each trackPageView. Affect web_page context\n      preservePageViewId = false,\n      // Whether first trackPageView was fired and pageViewId should not be changed anymore until reload\n      pageViewSent = false,\n      // Activity tracking config for callback and page ping variants\n      activityTrackingConfig: ActivityTrackingConfig = {\n        enabled: false,\n        installed: false, // Guard against installing the activity tracker more than once per Tracker instance\n        configurations: {},\n      },\n      configSessionContext = trackerConfiguration.contexts?.session ?? false,\n      toOptoutByCookie: string | boolean,\n      onSessionUpdateCallback = trackerConfiguration.onSessionUpdateCallback,\n      manualSessionUpdateCalled = false;\n\n    if (trackerConfiguration.hasOwnProperty('discoverRootDomain') && trackerConfiguration.discoverRootDomain) {\n      configCookieDomain = findRootDomain(configCookieSameSite, configCookieSecure);\n    }\n\n    const { browserLanguage, resolution, colorDepth, cookiesEnabled } = getBrowserProperties();\n\n    // Set up unchanging name-value pairs\n    core.setTrackerVersion(version);\n    core.setTrackerNamespace(namespace);\n    core.setAppId(configTrackerSiteId);\n    core.setPlatform(configPlatform);\n    core.addPayloadPair('cookie', cookiesEnabled ? '1' : '0');\n    core.addPayloadPair('cs', documentCharset);\n    core.addPayloadPair('lang', browserLanguage);\n    core.addPayloadPair('res', resolution);\n    core.addPayloadPair('cd', colorDepth);\n\n    /*\n     * Initialize tracker\n     */\n    updateDomainHash();\n\n    initializeIdsAndCookies();\n\n    if (trackerConfiguration.crossDomainLinker) {\n      decorateLinks(trackerConfiguration.crossDomainLinker);\n    }\n\n    /**\n     * Recalculate the domain, URL, and referrer\n     */\n    function refreshUrl() {\n      locationArray = fixupUrl(window.location.hostname, window.location.href, getReferrer());\n\n      // If this is a single-page app and the page URL has changed, then:\n      //   - if the new URL's querystring contains a \"refer(r)er\" parameter, use it as the referrer\n      //   - otherwise use the old URL as the referer\n      if (locationArray[1] !== locationHrefAlias) {\n        configReferrerUrl = getReferrer(locationHrefAlias);\n      }\n\n      domainAlias = fixupDomain(locationArray[0]);\n      locationHrefAlias = locationArray[1];\n    }\n\n    /**\n     * Decorate the querystring of a single link\n     *\n     * @param event - e The event targeting the link\n     */\n    function linkDecorationHandler(evt: Event) {\n      const timestamp = new Date().getTime();\n      const elt = evt.currentTarget as HTMLAnchorElement | HTMLAreaElement | null;\n      if (elt?.href) {\n        elt.href = decorateQuerystring(elt.href, '_sp', domainUserId + '.' + timestamp);\n      }\n    }\n\n    /**\n     * Enable querystring decoration for links pasing a filter\n     * Whenever such a link is clicked on or navigated to via the keyboard,\n     * add \"_sp={{duid}}.{{timestamp}}\" to its querystring\n     *\n     * @param crossDomainLinker - Function used to determine which links to decorate\n     */\n    function decorateLinks(crossDomainLinker: (elt: HTMLAnchorElement | HTMLAreaElement) => boolean) {\n      for (let i = 0; i < document.links.length; i++) {\n        const elt = document.links[i];\n        if (!(elt as any).spDecorationEnabled && crossDomainLinker(elt)) {\n          addEventListener(elt, 'click', linkDecorationHandler, true);\n          addEventListener(elt, 'mousedown', linkDecorationHandler, true);\n\n          // Don't add event listeners more than once\n          (elt as any).spDecorationEnabled = true;\n        }\n      }\n    }\n\n    /*\n     * Removes hash tag from the URL\n     *\n     * URLs are purified before being recorded in the cookie,\n     * or before being sent as GET parameters\n     */\n    function purify(url: string) {\n      let targetPattern;\n\n      if (configDiscardHashTag) {\n        targetPattern = new RegExp('#.*');\n        url = url.replace(targetPattern, '');\n      }\n\n      if (configDiscardBrace) {\n        targetPattern = new RegExp('[{}]', 'g');\n        url = url.replace(targetPattern, '');\n      }\n      return url;\n    }\n\n    /*\n     * Extract scheme/protocol from URL\n     */\n    function getProtocolScheme(url: string) {\n      const e = new RegExp('^([a-z]+):'),\n        matches = e.exec(url);\n\n      return matches ? matches[1] : null;\n    }\n\n    /*\n     * Resolve relative reference\n     *\n     * Note: not as described in rfc3986 section 5.2\n     */\n    function resolveRelativeReference(baseUrl: string, url: string) {\n      let protocol = getProtocolScheme(url),\n        i;\n\n      if (protocol) {\n        return url;\n      }\n\n      if (url.slice(0, 1) === '/') {\n        return getProtocolScheme(baseUrl) + '://' + getHostName(baseUrl) + url;\n      }\n\n      baseUrl = purify(baseUrl);\n      if ((i = baseUrl.indexOf('?')) >= 0) {\n        baseUrl = baseUrl.slice(0, i);\n      }\n      if ((i = baseUrl.lastIndexOf('/')) !== baseUrl.length - 1) {\n        baseUrl = baseUrl.slice(0, i + 1);\n      }\n\n      return baseUrl + url;\n    }\n\n    /*\n     * Send request\n     */\n    function sendRequest(request: PayloadBuilder) {\n      if (!(configDoNotTrack || toOptoutByCookie)) {\n        outQueue.enqueueRequest(request.build(), configCollectorUrl);\n      }\n    }\n\n    /*\n     * Get cookie name with prefix and domain hash\n     */\n    function getSnowplowCookieName(baseName: string) {\n      return configCookieNamePrefix + baseName + '.' + domainHash;\n    }\n\n    /*\n     * Cookie getter.\n     */\n    function getSnowplowCookieValue(cookieName: string) {\n      const fullName = getSnowplowCookieName(cookieName);\n      if (configStateStorageStrategy == 'localStorage') {\n        return attemptGetLocalStorage(fullName);\n      } else if (configStateStorageStrategy == 'cookie' || configStateStorageStrategy == 'cookieAndLocalStorage') {\n        return cookie(fullName);\n      }\n      return undefined;\n    }\n\n    /*\n     * Update domain hash\n     */\n    function updateDomainHash() {\n      refreshUrl();\n      domainHash = hash((configCookieDomain || domainAlias) + (configCookiePath || '/')).slice(0, 4); // 4 hexits = 16 bits\n    }\n\n    /*\n     * Process all \"activity\" events.\n     * For performance, this function must have low overhead.\n     */\n    function activityHandler() {\n      const now = new Date();\n      lastActivityTime = now.getTime();\n    }\n\n    /*\n     * Process all \"scroll\" events.\n     */\n    function scrollHandler() {\n      updateMaxScrolls();\n      activityHandler();\n    }\n\n    /*\n     * Returns [pageXOffset, pageYOffset]\n     */\n    function getPageOffsets() {\n      const documentElement = document.documentElement;\n      if (documentElement) {\n        return [documentElement.scrollLeft || window.pageXOffset, documentElement.scrollTop || window.pageYOffset];\n      }\n\n      return [0, 0];\n    }\n\n    /*\n     * Quick initialization/reset of max scroll levels\n     */\n    function resetMaxScrolls() {\n      const offsets = getPageOffsets();\n\n      const x = offsets[0];\n      minXOffset = x;\n      maxXOffset = x;\n\n      const y = offsets[1];\n      minYOffset = y;\n      maxYOffset = y;\n    }\n\n    /*\n     * Check the max scroll levels, updating as necessary\n     */\n    function updateMaxScrolls() {\n      const offsets = getPageOffsets();\n\n      const x = offsets[0];\n      if (x < minXOffset) {\n        minXOffset = x;\n      } else if (x > maxXOffset) {\n        maxXOffset = x;\n      }\n\n      const y = offsets[1];\n      if (y < minYOffset) {\n        minYOffset = y;\n      } else if (y > maxYOffset) {\n        maxYOffset = y;\n      }\n    }\n\n    /*\n     * Prevents offsets from being decimal or NaN\n     * See https://github.com/snowplow/snowplow-javascript-tracker/issues/324\n     */\n    function cleanOffset(offset: number) {\n      return Math.round(offset);\n    }\n\n    /**\n     * Sets or renews the session cookie.\n     * Responsible for calling the `onSessionUpdateCallback` callback.\n     * @returns {boolean} If the value persisted in cookies or LocalStorage\n     */\n    function setSessionCookie() {\n      const cookieName = getSnowplowCookieName('ses');\n      const cookieValue = '*';\n      return persistValue(cookieName, cookieValue, configSessionCookieTimeout);\n    }\n\n    /**\n     * @mutates idCookie\n     * @param {ParsedIdCookie} idCookie\n     * @returns {boolean} If the value persisted in cookies or LocalStorage\n     */\n    function setDomainUserIdCookie(idCookie: ParsedIdCookie) {\n      const cookieName = getSnowplowCookieName('id');\n      const cookieValue = serializeIdCookie(idCookie);\n      return persistValue(cookieName, cookieValue, configVisitorCookieTimeout);\n    }\n\n    /**\n     * no-op if anonymousTracking enabled, will still set cookies if anonymousSessionTracking is enabled\n     * Sets a cookie based on the storage strategy:\n     * - if 'localStorage': attempts to write to local storage\n     * - if 'cookie' or 'cookieAndLocalStorage': writes to cookies\n     * - otherwise: no-op\n     * @param {string} name Name/key of the value to persist\n     * @param {string} value\n     * @param {number} timeout Used as the expiration date for cookies or as a TTL to be checked on LocalStorage\n     * @returns {boolean} If the operation was successful or not\n     */\n    function persistValue(name: string, value: string, timeout: number): boolean {\n      if (configAnonymousTracking && !configAnonymousSessionTracking) {\n        return false;\n      }\n\n      if (configStateStorageStrategy == 'localStorage') {\n        return attemptWriteLocalStorage(name, value, timeout);\n      } else if (configStateStorageStrategy == 'cookie' || configStateStorageStrategy == 'cookieAndLocalStorage') {\n        cookie(name, value, timeout, configCookiePath, configCookieDomain, configCookieSameSite, configCookieSecure);\n        return document.cookie.indexOf(`${name}=`) !== -1 ? true : false;\n      }\n      return false;\n    }\n\n    /**\n     * Clears all cookie and local storage for id and ses values\n     */\n    function clearUserDataAndCookies(configuration?: ClearUserDataConfiguration) {\n      const idname = getSnowplowCookieName('id');\n      const sesname = getSnowplowCookieName('ses');\n      attemptDeleteLocalStorage(idname);\n      attemptDeleteLocalStorage(sesname);\n      deleteCookie(idname, configCookieDomain, configCookieSameSite, configCookieSecure);\n      deleteCookie(sesname, configCookieDomain, configCookieSameSite, configCookieSecure);\n      if (!configuration?.preserveSession) {\n        memorizedSessionId = uuid();\n        memorizedVisitCount = 1;\n      }\n      if (!configuration?.preserveUser) {\n        domainUserId = configAnonymousTracking ? '' : uuid();\n        businessUserId = null;\n      }\n    }\n\n    /**\n     * Toggle Anonymous Tracking\n     */\n    function toggleAnonymousTracking(\n      configuration?: EnableAnonymousTrackingConfiguration | DisableAnonymousTrackingConfiguration\n    ) {\n      if (configuration && configuration.stateStorageStrategy) {\n        trackerConfiguration.stateStorageStrategy = configuration.stateStorageStrategy;\n        configStateStorageStrategy = getStateStorageStrategy(trackerConfiguration);\n      }\n\n      configAnonymousTracking = getAnonymousTracking(trackerConfiguration);\n      configAnonymousSessionTracking = getAnonymousSessionTracking(trackerConfiguration);\n      configAnonymousServerTracking = getAnonymousServerTracking(trackerConfiguration);\n\n      outQueue.setUseLocalStorage(\n        configStateStorageStrategy == 'localStorage' || configStateStorageStrategy == 'cookieAndLocalStorage'\n      );\n      outQueue.setAnonymousTracking(configAnonymousServerTracking);\n    }\n\n    /*\n     * Load the domain user ID and the session ID\n     * Set the cookies (if cookies are enabled)\n     */\n    function initializeIdsAndCookies() {\n      if (configAnonymousTracking && !configAnonymousSessionTracking) {\n        return;\n      }\n\n      const sesCookieSet = configStateStorageStrategy != 'none' && !!getSnowplowCookieValue('ses');\n      const idCookie = loadDomainUserIdCookie();\n\n      domainUserId = initializeDomainUserId(idCookie, configAnonymousTracking);\n\n      if (!sesCookieSet) {\n        memorizedSessionId = startNewIdCookieSession(idCookie);\n      } else {\n        memorizedSessionId = sessionIdFromIdCookie(idCookie);\n      }\n\n      memorizedVisitCount = visitCountFromIdCookie(idCookie);\n\n      if (configStateStorageStrategy != 'none') {\n        setSessionCookie();\n        // Update currentVisitTs\n        updateNowTsInIdCookie(idCookie);\n        setDomainUserIdCookie(idCookie);\n      }\n    }\n\n    /*\n     * Load visitor ID cookie\n     */\n    function loadDomainUserIdCookie() {\n      if (configStateStorageStrategy == 'none') {\n        return emptyIdCookie();\n      }\n      const id = getSnowplowCookieValue('id') || undefined;\n      return parseIdCookie(id, domainUserId, memorizedSessionId, memorizedVisitCount);\n    }\n\n    /**\n     * Adds the protocol in front of our collector URL\n     *\n     * @param string - collectorUrl The collector URL with or without protocol\n     * @returns string collectorUrl The tracker URL with protocol\n     */\n    function asCollectorUrl(collectorUrl: string) {\n      if (collectorUrl.indexOf('http') === 0) {\n        return collectorUrl;\n      }\n\n      return ('https:' === document.location.protocol ? 'https' : 'http') + '://' + collectorUrl;\n    }\n\n    /**\n     * Initialize new `pageViewId` if it shouldn't be preserved.\n     * Should be called when `trackPageView` is invoked\n     */\n    function resetPageView() {\n      if (!preservePageViewId || state.pageViewId == null) {\n        state.pageViewId = uuid();\n      }\n    }\n\n    /**\n     * Safe function to get `pageViewId`.\n     * Generates it if it wasn't initialized by other tracker\n     */\n    function getPageViewId() {\n      if (state.pageViewId == null) {\n        state.pageViewId = uuid();\n      }\n      return state.pageViewId;\n    }\n\n    /**\n     * Safe function to get `tabId`.\n     * Generates it if it is not yet initialized. Shared between trackers.\n     */\n    function getTabId() {\n      if (configStateStorageStrategy === 'none' || configAnonymousTracking || !isWebPageContextAvailable) {\n        return null;\n      }\n      const SESSION_STORAGE_TAB_ID = '_sp_tab_id';\n      let tabId = attemptGetSessionStorage(SESSION_STORAGE_TAB_ID);\n      if (!tabId) {\n        attemptWriteSessionStorage(SESSION_STORAGE_TAB_ID, uuid());\n        tabId = attemptGetSessionStorage(SESSION_STORAGE_TAB_ID);\n      }\n      return tabId || null;\n    }\n\n    /**\n     * Put together a web page context with a unique UUID for the page view\n     *\n     * @returns web_page context\n     */\n    function getWebPagePlugin() {\n      return {\n        contexts: () => {\n          return [\n            {\n              schema: WEB_PAGE_SCHEMA,\n              data: {\n                id: getPageViewId(),\n              },\n            },\n          ];\n        },\n      };\n    }\n\n    function getBrowserContextPlugin() {\n      return {\n        contexts: () => {\n          return [\n            {\n              schema: BROWSER_CONTEXT_SCHEMA,\n              data: {\n                ...getBrowserProperties(),\n                tabId: getTabId(),\n              },\n            },\n          ];\n        },\n      };\n    }\n\n    /*\n     * Attaches common web fields to every request (resolution, url, referrer, etc.)\n     * Also sets the required cookies.\n     */\n    function getBrowserDataPlugin() {\n      const anonymizeOr = (value?: string | number | null) => (configAnonymousTracking ? null : value);\n      const anonymizeSessionOr = (value?: string | number | null) =>\n        configAnonymousSessionTracking ? value : anonymizeOr(value);\n\n      return {\n        beforeTrack: (payloadBuilder: PayloadBuilder) => {\n          const existingSession = getSnowplowCookieValue('ses'),\n            idCookie = loadDomainUserIdCookie();\n\n          const isFirstEventInSession = eventIndexFromIdCookie(idCookie) === 0;\n\n          if (configOptOutCookie) {\n            toOptoutByCookie = !!cookie(configOptOutCookie);\n          } else {\n            toOptoutByCookie = false;\n          }\n\n          if (configDoNotTrack || toOptoutByCookie) {\n            clearUserDataAndCookies();\n            return;\n          }\n\n          // If cookies are enabled, base visit count and session ID on the cookies\n          if (cookiesEnabledInIdCookie(idCookie)) {\n            // New session?\n            if (!existingSession && configStateStorageStrategy != 'none') {\n              memorizedSessionId = startNewIdCookieSession(idCookie);\n            } else {\n              memorizedSessionId = sessionIdFromIdCookie(idCookie);\n            }\n\n            memorizedVisitCount = visitCountFromIdCookie(idCookie);\n          } else if (new Date().getTime() - lastEventTime > configSessionCookieTimeout * 1000) {\n            memorizedVisitCount++;\n            memorizedSessionId = startNewIdCookieSession(idCookie, {\n              memorizedVisitCount,\n            });\n          }\n\n          // Update cookie\n          updateNowTsInIdCookie(idCookie);\n          updateFirstEventInIdCookie(idCookie, payloadBuilder);\n          incrementEventIndexInIdCookie(idCookie);\n\n          const { viewport, documentSize } = getBrowserProperties();\n\n          payloadBuilder.add('vp', viewport);\n          payloadBuilder.add('ds', documentSize);\n          payloadBuilder.add('vid', anonymizeSessionOr(memorizedVisitCount));\n          payloadBuilder.add('sid', anonymizeSessionOr(memorizedSessionId));\n          payloadBuilder.add('duid', anonymizeOr(domainUserIdFromIdCookie(idCookie))); // Always load from cookie as this is better etiquette than in-memory values\n          payloadBuilder.add('uid', anonymizeOr(businessUserId));\n\n          refreshUrl();\n\n          payloadBuilder.add('refr', purify(customReferrer || configReferrerUrl));\n\n          // Add the page URL last as it may take us over the IE limit (and we don't always need it)\n          payloadBuilder.add('url', purify(configCustomUrl || locationHrefAlias));\n\n          const clientSession = clientSessionFromIdCookie(\n            idCookie,\n            configStateStorageStrategy,\n            configAnonymousTracking\n          );\n          if (configSessionContext && (!configAnonymousTracking || configAnonymousSessionTracking)) {\n            addSessionContextToPayload(payloadBuilder, clientSession);\n          }\n\n          // Update cookies\n          if (configStateStorageStrategy != 'none') {\n            setDomainUserIdCookie(idCookie);\n            const sessionIdentifierPersisted = setSessionCookie();\n            if (\n              (!existingSession || isFirstEventInSession) &&\n              sessionIdentifierPersisted &&\n              onSessionUpdateCallback &&\n              !manualSessionUpdateCalled\n            ) {\n              onSessionUpdateCallback(clientSession);\n              manualSessionUpdateCalled = false;\n            }\n          }\n\n          lastEventTime = new Date().getTime();\n        },\n      };\n    }\n\n    function addSessionContextToPayload(payloadBuilder: PayloadBuilder, clientSession: ClientSession) {\n      let sessionContext: SelfDescribingJson<ClientSession> = {\n        schema: CLIENT_SESSION_SCHEMA,\n        data: clientSession,\n      };\n      payloadBuilder.addContextEntity(sessionContext);\n    }\n\n    /**\n     * Expires current session and starts a new session.\n     */\n    function newSession() {\n      // If cookies are enabled, base visit count and session ID on the cookies\n      let idCookie = loadDomainUserIdCookie();\n\n      // When cookies are enabled\n      if (cookiesEnabledInIdCookie(idCookie)) {\n        // When cookie/local storage is enabled - make a new session\n        if (configStateStorageStrategy != 'none') {\n          memorizedSessionId = startNewIdCookieSession(idCookie);\n        } else {\n          memorizedSessionId = sessionIdFromIdCookie(idCookie);\n        }\n\n        memorizedVisitCount = visitCountFromIdCookie(idCookie);\n      } else {\n        memorizedVisitCount++;\n        memorizedSessionId = startNewIdCookieSession(idCookie, {\n          memorizedVisitCount,\n        });\n      }\n\n      updateNowTsInIdCookie(idCookie);\n\n      // Update cookies\n      if (configStateStorageStrategy != 'none') {\n        const clientSession = clientSessionFromIdCookie(idCookie, configStateStorageStrategy, configAnonymousTracking);\n        setDomainUserIdCookie(idCookie);\n        const sessionIdentifierPersisted = setSessionCookie();\n        if (sessionIdentifierPersisted && onSessionUpdateCallback) {\n          manualSessionUpdateCalled = true;\n          onSessionUpdateCallback(clientSession);\n        }\n      }\n\n      lastEventTime = new Date().getTime();\n    }\n\n    /**\n     * Combine an array of unchanging contexts with the result of a context-creating function\n     *\n     * @param staticContexts - Array of custom contexts\n     * @param contextCallback - Function returning an array of contexts\n     */\n    function finalizeContexts(\n      staticContexts?: Array<SelfDescribingJson> | null,\n      contextCallback?: (() => Array<SelfDescribingJson>) | null\n    ) {\n      return (staticContexts || []).concat(contextCallback ? contextCallback() : []);\n    }\n\n    function logPageView({ title, context, timestamp, contextCallback }: PageViewEvent & CommonEventProperties) {\n      refreshUrl();\n      if (pageViewSent) {\n        // Do not reset pageViewId if previous events were not page_view\n        resetPageView();\n      }\n      pageViewSent = true;\n\n      // So we know what document.title was at the time of trackPageView\n      lastDocumentTitle = document.title;\n      lastConfigTitle = title;\n\n      // Fixup page title\n      const pageTitle = fixupTitle(lastConfigTitle || lastDocumentTitle);\n\n      // Log page view\n      core.track(\n        buildPageView({\n          pageUrl: purify(configCustomUrl || locationHrefAlias),\n          pageTitle,\n          referrer: purify(customReferrer || configReferrerUrl),\n        }),\n        finalizeContexts(context, contextCallback),\n        timestamp\n      );\n\n      // Send ping (to log that user has stayed on page)\n      const now = new Date();\n      let installingActivityTracking = false;\n\n      if (activityTrackingConfig.enabled && !activityTrackingConfig.installed) {\n        activityTrackingConfig.installed = true;\n        installingActivityTracking = true;\n\n        // Add mousewheel event handler, detect passive event listeners for performance\n        const detectPassiveEvents: { update: () => void; hasSupport?: boolean } = {\n          update: function update() {\n            if (typeof window !== 'undefined' && typeof window.addEventListener === 'function') {\n              let passive = false;\n              const options = Object.defineProperty({}, 'passive', {\n                get: function get() {\n                  passive = true;\n                },\n                set: function set() {},\n              });\n              // note: have to set and remove a no-op listener instead of null\n              // (which was used previously), because Edge v15 throws an error\n              // when providing a null callback.\n              // https://github.com/rafrex/detect-passive-events/pull/3\n              const noop = function noop() {};\n              window.addEventListener('testPassiveEventSupport', noop, options);\n              window.removeEventListener('testPassiveEventSupport', noop, options);\n              detectPassiveEvents.hasSupport = passive;\n            }\n          },\n        };\n        detectPassiveEvents.update();\n\n        // Detect available wheel event\n        const wheelEvent =\n          'onwheel' in document.createElement('div')\n            ? 'wheel' // Modern browsers support \"wheel\"\n            : (document as any).onmousewheel !== undefined\n            ? 'mousewheel' // Webkit and IE support at least \"mousewheel\"\n            : 'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n\n        if (Object.prototype.hasOwnProperty.call(detectPassiveEvents, 'hasSupport')) {\n          addEventListener(document, wheelEvent, activityHandler, { passive: true });\n        } else {\n          addEventListener(document, wheelEvent, activityHandler);\n        }\n\n        // Capture our initial scroll points\n        resetMaxScrolls();\n\n        // Add event handlers; cross-browser compatibility here varies significantly\n        // @see http://quirksmode.org/dom/events\n        const documentHandlers = [\n          'click',\n          'mouseup',\n          'mousedown',\n          'mousemove',\n          'keypress',\n          'keydown',\n          'keyup',\n          'touchend',\n          'touchstart',\n        ];\n        const windowHandlers = ['resize', 'focus', 'blur'];\n        const listener =\n          (_: Document | Window, handler = activityHandler) =>\n          (ev: string) =>\n            addEventListener(document, ev, handler);\n\n        documentHandlers.forEach(listener(document));\n        windowHandlers.forEach(listener(window));\n        listener(window, scrollHandler)('scroll');\n      }\n\n      if (activityTrackingConfig.enabled && (resetActivityTrackingOnPageView || installingActivityTracking)) {\n        // Periodic check for activity.\n        lastActivityTime = now.getTime();\n\n        let key: keyof ActivityConfigurations;\n        for (key in activityTrackingConfig.configurations) {\n          const config = activityTrackingConfig.configurations[key];\n          if (config) {\n            //Clear page ping heartbeat on new page view\n            window.clearInterval(config.activityInterval);\n\n            scheduleActivityInterval(config, context, contextCallback);\n          }\n        }\n      }\n    }\n\n    function scheduleActivityInterval(\n      config: ActivityConfig,\n      context?: Array<SelfDescribingJson> | null,\n      contextCallback?: (() => Array<SelfDescribingJson>) | null\n    ) {\n      const executePagePing = (cb: ActivityCallback, context: Array<SelfDescribingJson>) => {\n        refreshUrl();\n        cb({ context, pageViewId: getPageViewId(), minXOffset, minYOffset, maxXOffset, maxYOffset });\n        resetMaxScrolls();\n      };\n\n      const timeout = () => {\n        const now = new Date();\n\n        // There was activity during the heart beat period;\n        // on average, this is going to overstate the visitDuration by configHeartBeatTimer/2\n        if (lastActivityTime + config.configMinimumVisitLength > now.getTime()) {\n          executePagePing(config.callback, finalizeContexts(context, contextCallback));\n        }\n\n        config.activityInterval = window.setInterval(heartbeat, config.configHeartBeatTimer);\n      };\n\n      const heartbeat = () => {\n        const now = new Date();\n\n        // There was activity during the heart beat period;\n        // on average, this is going to overstate the visitDuration by configHeartBeatTimer/2\n        if (lastActivityTime + config.configHeartBeatTimer > now.getTime()) {\n          executePagePing(config.callback, finalizeContexts(context, contextCallback));\n        }\n      };\n\n      if (config.configMinimumVisitLength === 0) {\n        config.activityInterval = window.setInterval(heartbeat, config.configHeartBeatTimer);\n      } else {\n        config.activityInterval = window.setTimeout(timeout, config.configMinimumVisitLength);\n      }\n    }\n\n    /**\n     * Configure the activity tracking and ensures integer values for min visit and heartbeat\n     */\n    function configureActivityTracking(\n      configuration: ActivityTrackingConfiguration & ActivityTrackingConfigurationCallback\n    ): ActivityConfig | undefined {\n      const { minimumVisitLength, heartbeatDelay, callback } = configuration;\n      if (isInteger(minimumVisitLength) && isInteger(heartbeatDelay)) {\n        return {\n          configMinimumVisitLength: minimumVisitLength * 1000,\n          configHeartBeatTimer: heartbeatDelay * 1000,\n          callback,\n        };\n      }\n\n      LOG.error('Activity tracking minimumVisitLength & heartbeatDelay must be integers');\n      return undefined;\n    }\n\n    /**\n     * Log that a user is still viewing a given page by sending a page ping.\n     * Not part of the public API - only called from logPageView() above.\n     */\n    function logPagePing({ context, minXOffset, minYOffset, maxXOffset, maxYOffset }: ActivityCallbackData) {\n      const newDocumentTitle = document.title;\n      if (newDocumentTitle !== lastDocumentTitle) {\n        lastDocumentTitle = newDocumentTitle;\n        lastConfigTitle = undefined;\n      }\n      core.track(\n        buildPagePing({\n          pageUrl: purify(configCustomUrl || locationHrefAlias),\n          pageTitle: fixupTitle(lastConfigTitle || lastDocumentTitle),\n          referrer: purify(customReferrer || configReferrerUrl),\n          minXOffset: cleanOffset(minXOffset),\n          maxXOffset: cleanOffset(maxXOffset),\n          minYOffset: cleanOffset(minYOffset),\n          maxYOffset: cleanOffset(maxYOffset),\n        }),\n        context\n      );\n    }\n\n    function disableActivityTrackingAction(actionKey: keyof ActivityConfigurations) {\n      const callbackConfiguration = activityTrackingConfig.configurations[actionKey];\n      if (callbackConfiguration?.configMinimumVisitLength === 0) {\n        window.clearTimeout(callbackConfiguration?.activityInterval);\n      } else {\n        window.clearInterval(callbackConfiguration?.activityInterval);\n      }\n\n      activityTrackingConfig.configurations[actionKey] = undefined;\n    }\n\n    const apiMethods = {\n      getDomainSessionIndex: function () {\n        return memorizedVisitCount;\n      },\n\n      getPageViewId,\n\n      getTabId,\n\n      newSession,\n\n      getCookieName: function (basename: string) {\n        return getSnowplowCookieName(basename);\n      },\n\n      getUserId: function () {\n        return businessUserId;\n      },\n\n      getDomainUserId: function () {\n        return loadDomainUserIdCookie()[1];\n      },\n\n      getDomainUserInfo: function () {\n        return loadDomainUserIdCookie();\n      },\n\n      setReferrerUrl: function (url: string) {\n        customReferrer = url;\n      },\n\n      setCustomUrl: function (url: string) {\n        refreshUrl();\n        configCustomUrl = resolveRelativeReference(locationHrefAlias, url);\n      },\n\n      setDocumentTitle: function (title: string) {\n        // So we know what document.title was at the time of trackPageView\n        lastDocumentTitle = document.title;\n        lastConfigTitle = title;\n      },\n\n      discardHashTag: function (enableFilter: boolean) {\n        configDiscardHashTag = enableFilter;\n      },\n\n      discardBrace: function (enableFilter: boolean) {\n        configDiscardBrace = enableFilter;\n      },\n\n      setCookiePath: function (path: string) {\n        configCookiePath = path;\n        updateDomainHash();\n      },\n\n      setVisitorCookieTimeout: function (timeout: number) {\n        configVisitorCookieTimeout = timeout;\n      },\n\n      crossDomainLinker: function (crossDomainLinkerCriterion: (elt: HTMLAnchorElement | HTMLAreaElement) => boolean) {\n        decorateLinks(crossDomainLinkerCriterion);\n      },\n\n      enableActivityTracking: function (configuration: ActivityTrackingConfiguration) {\n        if (!activityTrackingConfig.configurations.pagePing) {\n          activityTrackingConfig.enabled = true;\n          activityTrackingConfig.configurations.pagePing = configureActivityTracking({\n            ...configuration,\n            callback: logPagePing,\n          });\n        }\n      },\n\n      enableActivityTrackingCallback: function (\n        configuration: ActivityTrackingConfiguration & ActivityTrackingConfigurationCallback\n      ) {\n        if (!activityTrackingConfig.configurations.callback) {\n          activityTrackingConfig.enabled = true;\n          activityTrackingConfig.configurations.callback = configureActivityTracking(configuration);\n        }\n      },\n\n      disableActivityTracking: function () {\n        disableActivityTrackingAction('pagePing');\n      },\n\n      disableActivityTrackingCallback: function () {\n        disableActivityTrackingAction('callback');\n      },\n\n      updatePageActivity: function () {\n        activityHandler();\n      },\n\n      setOptOutCookie: function (name?: string | null) {\n        configOptOutCookie = name;\n      },\n\n      setUserId: function (userId?: string | null) {\n        businessUserId = userId;\n      },\n\n      setUserIdFromLocation: function (querystringField: string) {\n        refreshUrl();\n        businessUserId = fromQuerystring(querystringField, locationHrefAlias);\n      },\n\n      setUserIdFromReferrer: function (querystringField: string) {\n        refreshUrl();\n        businessUserId = fromQuerystring(querystringField, configReferrerUrl);\n      },\n\n      setUserIdFromCookie: function (cookieName: string) {\n        businessUserId = cookie(cookieName);\n      },\n\n      setCollectorUrl: function (collectorUrl: string) {\n        configCollectorUrl = asCollectorUrl(collectorUrl);\n        outQueue.setCollectorUrl(configCollectorUrl);\n      },\n\n      setBufferSize: function (newBufferSize: number) {\n        outQueue.setBufferSize(newBufferSize);\n      },\n\n      flushBuffer: function (configuration: FlushBufferConfiguration = {}) {\n        outQueue.executeQueue();\n        if (configuration.newBufferSize) {\n          outQueue.setBufferSize(configuration.newBufferSize);\n        }\n      },\n\n      trackPageView: function (event: PageViewEvent & CommonEventProperties = {}) {\n        logPageView(event);\n      },\n\n      preservePageViewId: function () {\n        preservePageViewId = true;\n      },\n\n      disableAnonymousTracking: function (configuration?: DisableAnonymousTrackingConfiguration) {\n        trackerConfiguration.anonymousTracking = false;\n\n        toggleAnonymousTracking(configuration);\n\n        initializeIdsAndCookies();\n\n        outQueue.executeQueue(); // There might be some events in the queue we've been unable to send in anonymous mode\n      },\n\n      enableAnonymousTracking: function (configuration?: EnableAnonymousTrackingConfiguration) {\n        trackerConfiguration.anonymousTracking = (configuration && configuration?.options) ?? true;\n\n        toggleAnonymousTracking(configuration);\n\n        // Reset the page view, if not tracking the session, so can't stitch user into new events on the page view id\n        if (!configAnonymousSessionTracking) {\n          resetPageView();\n        }\n      },\n\n      clearUserData: clearUserDataAndCookies,\n    };\n\n    return {\n      ...apiMethods,\n      id: trackerId,\n      namespace,\n      core: core,\n      sharedState: state,\n    };\n  };\n\n  // Initialise the tracker\n  const partialTracker = newTracker(trackerId, namespace, version, endpoint, sharedState, trackerConfiguration),\n    tracker = {\n      ...partialTracker,\n      addPlugin: (configuration: BrowserPluginConfiguration) => {\n        tracker.core.addPlugin(configuration);\n        configuration.plugin.activateBrowserPlugin?.(tracker);\n      },\n    };\n\n  // Initialise each plugin with the tracker\n  browserPlugins.forEach((p) => {\n    p.activateBrowserPlugin?.(tracker);\n  });\n\n  return tracker;\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { LOG } from '@snowplow/tracker-core';\nimport { SharedState } from './state';\nimport { Tracker } from './tracker';\nimport { BrowserTracker, TrackerConfiguration } from './tracker/types';\n\nconst namedTrackers: Record<string, BrowserTracker> = {};\n\n/**\n * Dispatch function to all specified trackers\n *\n * @param trackers - An optional list of trackers to send the event to, or will send to all trackers\n * @param fn - The function which will run against each tracker\n */\nexport function dispatchToTrackers(trackers: Array<string> | undefined, fn: (t: BrowserTracker) => void) {\n  try {\n    getTrackers(trackers ?? allTrackerNames()).forEach(fn);\n  } catch (ex) {\n    LOG.error('Function failed', ex);\n  }\n}\n\n/**\n * Dispatch function to all specified trackers from the supplied collection\n *\n * @param trackers - An optional list of trackers to send the event to, or will send to all trackers\n * @param trackerCollection - The collection which the trackers will be selected from\n * @param fn - The function which will run against each tracker\n */\nexport function dispatchToTrackersInCollection(\n  trackers: Array<string> | undefined,\n  trackerCollection: Record<string, BrowserTracker>,\n  fn: (t: BrowserTracker) => void\n) {\n  try {\n    getTrackersFromCollection(trackers ?? Object.keys(trackerCollection), trackerCollection).forEach(fn);\n  } catch (ex) {\n    LOG.error('Function failed', ex);\n  }\n}\n\n/**\n * Checks if a tracker has been created for a particular identifier\n * @param trackerId - The unique identifier of the tracker\n */\nexport function trackerExists(trackerId: string) {\n  return namedTrackers.hasOwnProperty(trackerId);\n}\n\n/**\n * Creates a Tracker and adds it to the internal collection\n * @param trackerId - The unique identifier of the tracker\n * @param namespace - The namespace of the tracker, tracked with each event as `tna`\n * @param version - The current version of the tracker library\n * @param endpoint - The endpoint to send events to\n * @param sharedState - The instance of shared state to use for this tracker\n * @param configuration - The configuration to use for this tracker instance\n */\nexport function addTracker(\n  trackerId: string,\n  namespace: string,\n  version: string,\n  endpoint: string,\n  sharedState: SharedState,\n  configuration?: TrackerConfiguration\n) {\n  if (!namedTrackers.hasOwnProperty(trackerId)) {\n    namedTrackers[trackerId] = Tracker(trackerId, namespace, version, endpoint, sharedState, configuration);\n    return namedTrackers[trackerId];\n  }\n  return null;\n}\n\n/**\n * Gets a single instance of the internal tracker object\n * @param trackerId - The unique identifier of the tracker\n * @returns The tracker instance, or null if not found\n */\nexport function getTracker(trackerId: string) {\n  if (namedTrackers.hasOwnProperty(trackerId)) {\n    return namedTrackers[trackerId];\n  }\n\n  LOG.warn(trackerId + ' not configured');\n  return null;\n}\n\n/**\n * Gets an array of tracker instances based on the list of identifiers\n * @param trackerIds - An array of unique identifiers of the trackers\n * @returns The tracker instances, or empty list if none found\n */\nexport function getTrackers(trackerIds: Array<string>): Array<BrowserTracker> {\n  return getTrackersFromCollection(trackerIds, namedTrackers);\n}\n\n/**\n * Gets all the trackers as a object, keyed by their unique identifiers\n */\nexport function allTrackers() {\n  return namedTrackers;\n}\n\n/**\n * Returns all the unique tracker identifiers\n */\nexport function allTrackerNames() {\n  return Object.keys(namedTrackers);\n}\n\nfunction getTrackersFromCollection(\n  trackerIds: Array<string>,\n  trackerCollection: Record<string, BrowserTracker>\n): Array<BrowserTracker> {\n  const trackers: Array<BrowserTracker> = [];\n  for (const id of trackerIds) {\n    if (trackerCollection.hasOwnProperty(id)) {\n      trackers.push(trackerCollection[id]);\n    } else {\n      LOG.warn(id + ' not configured');\n    }\n  }\n  return trackers;\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { addEventListener } from './helpers';\n\ndeclare global {\n  interface Document {\n    attachEvent: (type: string, fn: EventListenerOrEventListenerObject) => void;\n    detachEvent: (type: string, fn: EventListenerOrEventListenerObject) => void;\n  }\n}\n\n/**\n * A set of variables which are shared among all initialised trackers\n */\nexport class SharedState {\n  /* List of request queues - one per Tracker instance */\n  outQueues: Array<unknown> = [];\n  bufferFlushers: Array<(sync: boolean) => void> = [];\n\n  /* DOM Ready */\n  hasLoaded: boolean = false;\n  registeredOnLoadHandlers: Array<() => void> = [];\n\n  /* pageViewId, which can changed by other trackers on page;\n   * initialized by tracker sent first event */\n  pageViewId?: string;\n}\n\nexport function createSharedState(): SharedState {\n  const sharedState = new SharedState(),\n    documentAlias = document,\n    windowAlias = window;\n\n  /*\n   * Handle page visibility event\n   * Works everywhere except IE9\n   */\n  function visibilityChangeHandler() {\n    if (documentAlias.visibilityState == 'hidden') {\n      // Flush all POST queues\n      sharedState.bufferFlushers.forEach(function (flusher) {\n        flusher(false);\n      });\n    }\n  }\n\n  function flushBuffers() {\n    // Flush all POST queues\n    sharedState.bufferFlushers.forEach(function (flusher) {\n      flusher(false);\n    });\n  }\n\n  /*\n   * Handler for onload event\n   */\n  function loadHandler() {\n    var i;\n\n    if (!sharedState.hasLoaded) {\n      sharedState.hasLoaded = true;\n      for (i = 0; i < sharedState.registeredOnLoadHandlers.length; i++) {\n        sharedState.registeredOnLoadHandlers[i]();\n      }\n    }\n    return true;\n  }\n\n  /*\n   * Add onload or DOM ready handler\n   */\n  function addReadyListener() {\n    if (documentAlias.addEventListener) {\n      documentAlias.addEventListener('DOMContentLoaded', function ready() {\n        documentAlias.removeEventListener('DOMContentLoaded', ready, false);\n        loadHandler();\n      });\n    } else if (documentAlias.attachEvent) {\n      documentAlias.attachEvent('onreadystatechange', function ready() {\n        if (documentAlias.readyState === 'complete') {\n          documentAlias.detachEvent('onreadystatechange', ready);\n          loadHandler();\n        }\n      });\n    }\n\n    // fallback\n    addEventListener(windowAlias, 'load', loadHandler, false);\n  }\n\n  /************************************************************\n   * Constructor\n   ************************************************************/\n\n  // initialize the Snowplow singleton\n  if (documentAlias.visibilityState) {\n    // Flush for mobile and modern browsers\n    addEventListener(documentAlias, 'visibilitychange', visibilityChangeHandler, false);\n  }\n  // Last attempt at flushing in beforeunload\n  addEventListener(windowAlias, 'beforeunload', flushBuffers, false);\n\n  if (document.readyState === 'loading') {\n    addReadyListener();\n  } else {\n    loadHandler();\n  }\n\n  return sharedState;\n}\n",null,"/*\n * Copyright (c) 2013 Kevin van Zonneveld (http://kvz.io)\n * and Contributors (http://phpjs.org/authors)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n * of the Software, and to permit persons to whom the Software is furnished to do\n * so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n// Deprecated and removed in TypeScript\ndeclare function unescape(s: string): string;\n\n/**\n * Decodes a url safe Base 64 encoded string\n * @remarks See: {@link http://tools.ietf.org/html/rfc4648#page-7}\n * @param data - String to decode\n * @returns The decoded string\n */\nexport function base64urldecode(data: string): string {\n  if (!data) {\n    return data;\n  }\n  const padding = 4 - (data.length % 4);\n  switch (padding) {\n    case 2:\n      data += '==';\n      break;\n    case 3:\n      data += '=';\n      break;\n  }\n  const b64Data = data.replace(/-/g, '+').replace(/_/g, '/');\n  return base64decode(b64Data);\n}\n\n/**\n * Encodes a string into a url safe Base 64 encoded string\n * @remarks See: {@link http://tools.ietf.org/html/rfc4648#page-7}\n * @param data - String to encode\n * @returns The url safe Base 64 string\n */\nexport function base64urlencode(data: string): string {\n  if (!data) {\n    return data;\n  }\n\n  const enc = base64encode(data);\n  return enc.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n\nconst b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n/**\n * Encode string as base64.\n * Any type can be passed, but will be stringified\n *\n * @param data - string to encode\n * @returns base64-encoded string\n */\nexport function base64encode(data: string): string {\n  // discuss at: http://phpjs.org/functions/base64_encode/\n  // original by: Tyler Akins (http://rumkin.com)\n  // improved by: Bayron Guevara\n  // improved by: Thunder.m\n  // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // improved by: Rafa Kukawski (http://kukawski.pl)\n  // bugfixed by: Pellentesque Malesuada\n  // example 1: base64_encode('Kevin van Zonneveld');\n  // returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n  // example 2: base64_encode('a');\n  // returns 2: 'YQ=='\n  // example 3: base64_encode('  la mode');\n  // returns 3: '4pyTIMOgIGxhIG1vZGU='\n\n  let o1,\n    o2,\n    o3,\n    h1,\n    h2,\n    h3,\n    h4,\n    bits,\n    i = 0,\n    ac = 0;\n  const tmp_arr: Array<string> = [];\n\n  if (!data) {\n    return data;\n  }\n\n  data = unescape(encodeURIComponent(data));\n\n  do {\n    // pack three octets into four hexets\n    o1 = data.charCodeAt(i++);\n    o2 = data.charCodeAt(i++);\n    o3 = data.charCodeAt(i++);\n\n    bits = (o1 << 16) | (o2 << 8) | o3;\n\n    h1 = (bits >> 18) & 0x3f;\n    h2 = (bits >> 12) & 0x3f;\n    h3 = (bits >> 6) & 0x3f;\n    h4 = bits & 0x3f;\n\n    // use hexets to index into b64, and append result to encoded string\n    tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n  } while (i < data.length);\n\n  const enc = tmp_arr.join('');\n\n  const r = data.length % 3;\n\n  return (r ? enc.slice(0, r - 3) : enc) + '==='.slice(r || 3);\n}\n\n/**\n * Decode base64 to string\n *\n * @param data - base64 to string\n * @returns decoded string\n */\nexport function base64decode(encodedData: string): string {\n  //  discuss at: http://locutus.io/php/base64_decode/\n  // original by: Tyler Akins (http://rumkin.com)\n  // improved by: Thunder.m\n  // improved by: Kevin van Zonneveld (http://kvz.io)\n  // improved by: Kevin van Zonneveld (http://kvz.io)\n  //    input by: Aman Gupta\n  //    input by: Brett Zamir (http://brett-zamir.me)\n  // bugfixed by: Onno Marsman (https://twitter.com/onnomarsman)\n  // bugfixed by: Pellentesque Malesuada\n  // bugfixed by: Kevin van Zonneveld (http://kvz.io)\n  // improved by: Indigo744\n  //   example 1: base64_decode('S2V2aW4gdmFuIFpvbm5ldmVsZA==')\n  //   returns 1: 'Kevin van Zonneveld'\n  //   example 2: base64_decode('YQ==')\n  //   returns 2: 'a'\n  //   example 3: base64_decode('4pyTIMOgIGxhIG1vZGU=')\n  //   returns 3: '  la mode'\n\n  // decodeUTF8string()\n  // Internal function to decode properly UTF8 string\n  // Adapted from Solution #1 at https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\n  const decodeUTF8string = function (str: string) {\n    // Going backwards: from bytestream, to percent-encoding, to original string.\n    return decodeURIComponent(\n      str\n        .split('')\n        .map(function (c) {\n          return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        })\n        .join('')\n    );\n  };\n\n  let o1,\n    o2,\n    o3,\n    h1,\n    h2,\n    h3,\n    h4,\n    bits,\n    i = 0,\n    ac = 0,\n    dec = '';\n  const tmpArr: Array<string> = [];\n\n  if (!encodedData) {\n    return encodedData;\n  }\n\n  encodedData += '';\n\n  do {\n    // unpack four hexets into three octets using index points in b64\n    h1 = b64.indexOf(encodedData.charAt(i++));\n    h2 = b64.indexOf(encodedData.charAt(i++));\n    h3 = b64.indexOf(encodedData.charAt(i++));\n    h4 = b64.indexOf(encodedData.charAt(i++));\n\n    bits = (h1 << 18) | (h2 << 12) | (h3 << 6) | h4;\n\n    o1 = (bits >> 16) & 0xff;\n    o2 = (bits >> 8) & 0xff;\n    o3 = bits & 0xff;\n\n    if (h3 === 64) {\n      tmpArr[ac++] = String.fromCharCode(o1);\n    } else if (h4 === 64) {\n      tmpArr[ac++] = String.fromCharCode(o1, o2);\n    } else {\n      tmpArr[ac++] = String.fromCharCode(o1, o2, o3);\n    }\n  } while (i < encodedData.length);\n\n  dec = tmpArr.join('');\n\n  return decodeUTF8string(dec.replace(/\\0+$/, ''));\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { base64urlencode, base64urldecode } from './base64';\nimport type { SelfDescribingJson, SelfDescribingJsonArray } from './core';\n\n/**\n * Type for a Payload dictionary\n */\nexport type Payload = Record<string, unknown>;\n\n/**\n * A tuple which represents the unprocessed JSON to be added to the Payload\n */\nexport type EventJsonWithKeys = { keyIfEncoded: string; keyIfNotEncoded: string; json: Record<string, unknown> };\n\n/**\n * An array of tuples which represents the unprocessed JSON to be added to the Payload\n */\nexport type EventJson = Array<EventJsonWithKeys>;\n\n/**\n * A function which will processor the Json onto the injected PayloadBuilder\n */\nexport type JsonProcessor = (\n  payloadBuilder: PayloadBuilder,\n  jsonForProcessing: EventJson,\n  contextEntitiesForProcessing: SelfDescribingJson[]\n) => void;\n\n/**\n * Interface for mutable object encapsulating tracker payload\n */\nexport interface PayloadBuilder {\n  /**\n   * Adds an entry to the Payload\n   * @param key - Key for Payload dictionary entry\n   * @param value - Value for Payload dictionaty entry\n   */\n  add: (key: string, value: unknown) => void;\n\n  /**\n   * Merges a payload into the existing payload\n   * @param dict - The payload to merge\n   */\n  addDict: (dict: Payload) => void;\n\n  /**\n   * Caches a JSON object to be added to payload on build\n   * @param keyIfEncoded - key if base64 encoding is enabled\n   * @param keyIfNotEncoded - key if base64 encoding is disabled\n   * @param json - The json to be stringified and added to the payload\n   */\n  addJson: (keyIfEncoded: string, keyIfNotEncoded: string, json: Record<string, unknown>) => void;\n\n  /**\n   * Caches a context entity to be added to payload on build\n   * @param entity - Context entity to add to the event\n   */\n  addContextEntity: (entity: SelfDescribingJson) => void;\n\n  /**\n   * Gets the current payload, before cached JSON is processed\n   */\n  getPayload: () => Payload;\n\n  /**\n   * Gets all JSON objects added to payload\n   */\n  getJson: () => EventJson;\n\n  /**\n   * Adds a function which will be executed when building\n   * the payload to process the JSON which has been added to this payload\n   * @param jsonProcessor - The JsonProcessor function for this builder\n   */\n  withJsonProcessor: (jsonProcessor: JsonProcessor) => void;\n\n  /**\n   * Builds and returns the Payload\n   * @param base64Encode - configures if unprocessed, cached json should be encoded\n   */\n  build: () => Payload;\n}\n\nexport function payloadBuilder(): PayloadBuilder {\n  const dict: Payload = {},\n    allJson: EventJson = [],\n    jsonForProcessing: EventJson = [],\n    contextEntitiesForProcessing: SelfDescribingJson[] = [];\n  let processor: JsonProcessor | undefined;\n\n  const add = (key: string, value: unknown): void => {\n    if (value != null && value !== '') {\n      // null also checks undefined\n      dict[key] = value;\n    }\n  };\n\n  const addDict = (dict: Payload): void => {\n    for (const key in dict) {\n      if (Object.prototype.hasOwnProperty.call(dict, key)) {\n        add(key, dict[key]);\n      }\n    }\n  };\n\n  const addJson = (keyIfEncoded: string, keyIfNotEncoded: string, json?: Record<string, unknown>): void => {\n    if (json && isNonEmptyJson(json)) {\n      const jsonWithKeys = { keyIfEncoded, keyIfNotEncoded, json };\n      jsonForProcessing.push(jsonWithKeys);\n      allJson.push(jsonWithKeys);\n    }\n  };\n\n  const addContextEntity = (entity: SelfDescribingJson): void => {\n    contextEntitiesForProcessing.push(entity);\n  };\n\n  return {\n    add,\n    addDict,\n    addJson,\n    addContextEntity,\n    getPayload: () => dict,\n    getJson: () => allJson,\n    withJsonProcessor: (jsonProcessor) => {\n      processor = jsonProcessor;\n    },\n    build: function () {\n      processor?.(this, jsonForProcessing, contextEntitiesForProcessing);\n      return dict;\n    },\n  };\n}\n\n/**\n * A helper to build a Snowplow request from a set of name-value pairs, provided using the add methods.\n * Will base64 encode JSON, if desired, on build\n *\n * @returns The request builder, with add and build methods\n */\nexport function payloadJsonProcessor(encodeBase64: boolean): JsonProcessor {\n  return (\n    payloadBuilder: PayloadBuilder,\n    jsonForProcessing: EventJson,\n    contextEntitiesForProcessing: SelfDescribingJson[]\n  ) => {\n    const add = (json: any, keyIfEncoded: string, keyIfNotEncoded: string): void => {\n      const str = JSON.stringify(json);\n      if (encodeBase64) {\n        payloadBuilder.add(keyIfEncoded, base64urlencode(str));\n      } else {\n        payloadBuilder.add(keyIfNotEncoded, str);\n      }\n    };\n\n    const getContextFromPayload = () => {\n      let payload = payloadBuilder.getPayload();\n      if (encodeBase64 ? payload.cx : payload.co) {\n        return JSON.parse(\n          encodeBase64 ? base64urldecode(payload.cx as string) : (payload.co as string)\n        ) as SelfDescribingJsonArray;\n      }\n      return undefined;\n    };\n\n    const combineContexts = (\n      originalContext: SelfDescribingJsonArray | undefined,\n      newContext: SelfDescribingJsonArray\n    ) => {\n      let context = originalContext || getContextFromPayload();\n      if (context) {\n        context.data = context.data.concat(newContext.data);\n      } else {\n        context = newContext;\n      }\n      return context;\n    };\n\n    let context: SelfDescribingJsonArray | undefined = undefined;\n    for (const json of jsonForProcessing) {\n      if (json.keyIfEncoded === 'cx') {\n        context = combineContexts(context, json.json as SelfDescribingJsonArray);\n      } else {\n        add(json.json, json.keyIfEncoded, json.keyIfNotEncoded);\n      }\n    }\n    jsonForProcessing.length = 0;\n\n    if (contextEntitiesForProcessing.length) {\n      let newContext = {\n        schema: 'iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0',\n        data: [...contextEntitiesForProcessing],\n      };\n      context = combineContexts(context, newContext);\n      contextEntitiesForProcessing.length = 0;\n    }\n\n    if (context) {\n      add(context, 'cx', 'co');\n    }\n  };\n}\n\n/**\n * Is property a non-empty JSON?\n * @param property - Checks if object is non-empty json\n */\nexport function isNonEmptyJson(property?: Record<string, unknown>): boolean {\n  if (!isJson(property)) {\n    return false;\n  }\n  for (const key in property) {\n    if (Object.prototype.hasOwnProperty.call(property, key)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Is property a JSON?\n * @param property - Checks if object is json\n */\nexport function isJson(property?: Record<string, unknown>): boolean {\n  return (\n    typeof property !== 'undefined' &&\n    property !== null &&\n    (property.constructor === {}.constructor || property.constructor === [].constructor)\n  );\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst label = 'Snowplow: ';\n\nexport enum LOG_LEVEL {\n  none = 0,\n  error = 1,\n  warn = 2,\n  debug = 3,\n  info = 4,\n}\n\nexport interface Logger {\n  setLogLevel: (level: LOG_LEVEL) => void;\n  info: (message: string, ...extraParams: unknown[]) => void;\n  debug: (message: string, ...extraParams: unknown[]) => void;\n  warn: (message: string, error?: unknown, ...extraParams: unknown[]) => void;\n  error: (message: string, error?: unknown, ...extraParams: unknown[]) => void;\n}\n\nexport const LOG = logger();\n\nfunction logger(logLevel: LOG_LEVEL = LOG_LEVEL.warn): Logger {\n  function setLogLevel(level: LOG_LEVEL) {\n    if (LOG_LEVEL[level]) {\n      logLevel = level;\n    } else {\n      logLevel = LOG_LEVEL.warn;\n    }\n  }\n\n  /**\n   * Log errors, with or without error object\n   */\n  function error(message: string, error?: unknown, ...extraParams: unknown[]) {\n    if (logLevel >= LOG_LEVEL.error && typeof console !== 'undefined') {\n      const logMsg = label + message + '\\n';\n      if (error) {\n        console.error(logMsg + '\\n', error, ...extraParams);\n      } else {\n        console.error(logMsg, ...extraParams);\n      }\n    }\n  }\n\n  /**\n   * Log warnings, with or without error object\n   */\n  function warn(message: string, error?: unknown, ...extraParams: unknown[]) {\n    if (logLevel >= LOG_LEVEL.warn && typeof console !== 'undefined') {\n      const logMsg = label + message;\n      if (error) {\n        console.warn(logMsg + '\\n', error, ...extraParams);\n      } else {\n        console.warn(logMsg, ...extraParams);\n      }\n    }\n  }\n\n  /**\n   * Log debug messages\n   */\n  function debug(message: string, ...extraParams: unknown[]) {\n    if (logLevel >= LOG_LEVEL.debug && typeof console !== 'undefined') {\n      console.debug(label + message, ...extraParams);\n    }\n  }\n\n  /**\n   * Log info messages\n   */\n  function info(message: string, ...extraParams: unknown[]) {\n    if (logLevel >= LOG_LEVEL.info && typeof console !== 'undefined') {\n      console.info(label + message, ...extraParams);\n    }\n  }\n\n  return { setLogLevel, warn, error, debug, info };\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { PayloadBuilder, Payload, isNonEmptyJson } from './payload';\nimport { SelfDescribingJson } from './core';\nimport { CorePlugin } from './plugins';\nimport { LOG } from './logger';\n\n/**\n * Argument for {@link ContextGenerator} and {@link ContextFilter} callback\n */\nexport interface ContextEvent {\n  /** The event payload */\n  event: Payload;\n  /** The event type\n   * @example 'page_view'\n   */\n  eventType: string;\n  /** The event schema where one is available, or empty string\n   * @example 'iglu:com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0'\n   */\n  eventSchema: string;\n}\n\n/**\n * A context generator is a user-supplied callback that is evaluated for each event\n * to allow an additional context to be dynamically attached to the event\n * @param args - - Object which contains the event information to help decide what should be included in the returned Context\n */\nexport type ContextGenerator = (args?: ContextEvent) => SelfDescribingJson | SelfDescribingJson[] | undefined;\n\n/**\n * A context filter is a user-supplied callback that is evaluated for each event\n * to determine if the context associated with the filter should be attached to the event\n * @param args - - Object that contains: event, eventType, eventSchema\n */\nexport type ContextFilter = (args?: ContextEvent) => boolean;\n\n/**\n * A context primitive is either a self-describing JSON or a context generator\n */\nexport type ContextPrimitive = SelfDescribingJson | ContextGenerator;\n\n/**\n * A filter provider is a tuple that has two parts: a context filter and the context primitive(s)\n * If the context filter evaluates to true, the tracker will attach the context primitive(s)\n */\nexport type FilterProvider = [ContextFilter, Array<ContextPrimitive> | ContextPrimitive];\n\n/**\n * A ruleset has accept or reject properties that contain rules for matching Iglu schema URIs\n */\nexport interface RuleSet {\n  accept?: Array<string> | string;\n  reject?: Array<string> | string;\n}\n\n/**\n * A ruleset provider is aa tuple that has two parts: a ruleset and the context primitive(s)\n * If the ruleset allows the current event schema URI, the tracker will attach the context primitive(s)\n */\nexport type RuleSetProvider = [RuleSet, Array<ContextPrimitive> | ContextPrimitive];\n\n/**\n * Conditional context providers are two element arrays used to decide when to attach contexts, where:\n * - the first element is some conditional criterion\n * - the second element is any number of context primitives\n */\nexport type ConditionalContextProvider = FilterProvider | RuleSetProvider;\n\n/**\n * A Dynamic context is an array of Self Describing JSON contexts, or an array of callbacks which return Self Describing JSON contexts\n * The array can be a mix of both contexts and callbacks which generate contexts\n */\nexport type DynamicContext = Array<SelfDescribingJson | ((...params: any[]) => SelfDescribingJson | null)>;\n\nexport interface GlobalContexts {\n  /**\n   * Returns all Context Primitives\n   */\n  getGlobalPrimitives(): Array<ContextPrimitive>;\n\n  /**\n   * Returns all Conditional Contexts\n   */\n  getConditionalProviders(): Array<ConditionalContextProvider>;\n\n  /**\n   * Adds conditional or primitive global contexts\n   * @param contexts - An Array of either Conditional Contexts or Primitive Contexts\n   */\n  addGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive>): void;\n\n  /**\n   * Removes all global contexts\n   */\n  clearGlobalContexts(): void;\n\n  /**\n   * Removes previously added global context, performs a deep comparison of the contexts or conditional contexts\n   * @param contexts - An Array of either Condition Contexts or Primitive Contexts\n   */\n  removeGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive>): void;\n\n  /**\n   * Returns all applicable global contexts for a specified event\n   * @param event - The event to check for applicable global contexts for\n   */\n  getApplicableContexts(event: PayloadBuilder): Array<SelfDescribingJson>;\n}\n\n/**\n * Contains helper functions to aid in the addition and removal of Global Contexts\n */\nexport function globalContexts(): GlobalContexts {\n  let globalPrimitives: Array<ContextPrimitive> = [];\n  let conditionalProviders: Array<ConditionalContextProvider> = [];\n\n  /**\n   * Returns all applicable global contexts for a specified event\n   * @param event - The event to check for applicable global contexts for\n   * @returns An array of contexts\n   */\n  const assembleAllContexts = (event: PayloadBuilder): Array<SelfDescribingJson> => {\n    const eventSchema = getUsefulSchema(event);\n    const eventType = getEventType(event);\n    const contexts: Array<SelfDescribingJson> = [];\n    const generatedPrimitives = generatePrimitives(globalPrimitives, event, eventType, eventSchema);\n    contexts.push(...generatedPrimitives);\n\n    const generatedConditionals = generateConditionals(conditionalProviders, event, eventType, eventSchema);\n    contexts.push(...generatedConditionals);\n\n    return contexts;\n  };\n\n  return {\n    getGlobalPrimitives(): Array<ContextPrimitive> {\n      return globalPrimitives;\n    },\n\n    getConditionalProviders(): Array<ConditionalContextProvider> {\n      return conditionalProviders;\n    },\n\n    addGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive>): void {\n      const acceptedConditionalContexts: ConditionalContextProvider[] = [];\n      const acceptedContextPrimitives: ContextPrimitive[] = [];\n      for (const context of contexts) {\n        if (isConditionalContextProvider(context)) {\n          acceptedConditionalContexts.push(context);\n        } else if (isContextPrimitive(context)) {\n          acceptedContextPrimitives.push(context);\n        }\n      }\n      globalPrimitives = globalPrimitives.concat(acceptedContextPrimitives);\n      conditionalProviders = conditionalProviders.concat(acceptedConditionalContexts);\n    },\n\n    clearGlobalContexts(): void {\n      conditionalProviders = [];\n      globalPrimitives = [];\n    },\n\n    removeGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive>): void {\n      for (const context of contexts) {\n        if (isConditionalContextProvider(context)) {\n          conditionalProviders = conditionalProviders.filter(\n            (item) => JSON.stringify(item) !== JSON.stringify(context)\n          );\n        } else if (isContextPrimitive(context)) {\n          globalPrimitives = globalPrimitives.filter((item) => JSON.stringify(item) !== JSON.stringify(context));\n        }\n      }\n    },\n\n    getApplicableContexts(event: PayloadBuilder): Array<SelfDescribingJson> {\n      return assembleAllContexts(event);\n    },\n  };\n}\n\nexport interface PluginContexts {\n  /**\n   * Returns list of contexts from all active plugins\n   */\n  addPluginContexts: (additionalContexts?: SelfDescribingJson[] | null) => SelfDescribingJson[];\n}\n\nexport function pluginContexts(plugins: Array<CorePlugin>): PluginContexts {\n  /**\n   * Add common contexts to every event\n   *\n   * @param array - additionalContexts List of user-defined contexts\n   * @returns userContexts combined with commonContexts\n   */\n  return {\n    addPluginContexts: (additionalContexts?: SelfDescribingJson[] | null): SelfDescribingJson[] => {\n      const combinedContexts: SelfDescribingJson[] = additionalContexts ? [...additionalContexts] : [];\n\n      plugins.forEach((plugin) => {\n        try {\n          if (plugin.contexts) {\n            combinedContexts.push(...plugin.contexts());\n          }\n        } catch (ex) {\n          LOG.error('Error adding plugin contexts', ex);\n        }\n      });\n\n      return combinedContexts;\n    },\n  };\n}\n\n/**\n * Find dynamic context generating functions and return their results to be merged into the static contexts\n * Combine an array of unchanging contexts with the result of a context-creating function\n *\n * @param dynamicOrStaticContexts - Array of custom context Objects or custom context generating functions\n * @param Parameters - to pass to dynamic context callbacks\n * @returns An array of Self Describing JSON context\n */\nexport function resolveDynamicContext(\n  dynamicOrStaticContexts?: DynamicContext | null,\n  ...extraParams: any[]\n): Array<SelfDescribingJson> {\n  return (\n    (dynamicOrStaticContexts\n      ?.map(function (context) {\n        if (typeof context === 'function') {\n          try {\n            return context(...extraParams);\n          } catch (e) {\n            //TODO: provide warning\n            return undefined;\n          }\n        } else {\n          return context;\n        }\n      })\n      .filter(Boolean) as Array<SelfDescribingJson>) ?? []\n  );\n}\n\n/**\n * Slices a schema into its composite parts. Useful for ruleset filtering.\n * @param input - A schema string\n * @returns The vendor, schema name, major, minor and patch information of a schema string\n */\nexport function getSchemaParts(input: string): Array<string> | undefined {\n  const re = new RegExp(\n    '^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$'\n  );\n  const matches = re.exec(input);\n  if (matches !== null) return matches.slice(1, 6);\n  return undefined;\n}\n\n/**\n * Validates the vendor section of a schema string contains allowed wildcard values\n * @param parts - Array of parts from a schema string\n * @returns Whether the vendor validation parts are a valid combination\n */\nexport function validateVendorParts(parts: Array<string>): boolean {\n  if (parts[0] === '*' || parts[1] === '*') {\n    return false; // no wildcard in first or second part\n  }\n  if (parts.slice(2).length > 0) {\n    let asterisk = false;\n    for (const part of parts.slice(2)) {\n      if (part === '*')\n        // mark when we've found a wildcard\n        asterisk = true;\n      else if (asterisk)\n        // invalid if alpha parts come after wildcard\n        return false;\n    }\n    return true;\n  } else if (parts.length == 2) return true;\n\n  return false;\n}\n\n/**\n * Validates the vendor part of a schema string is valid for a rule set\n * @param input - Vendor part of a schema string\n * @returns Whether the vendor validation string is valid\n */\nexport function validateVendor(input: string): boolean {\n  const parts = input.split('.');\n  if (parts && parts.length > 1) return validateVendorParts(parts);\n  return false;\n}\n\n/**\n * Checks for validity of input and returns all the sections of a schema string that are used to match rules in a ruleset\n * @param input - A Schema string\n * @returns The sections of a schema string that are used to match rules in a ruleset\n */\nexport function getRuleParts(input: string): Array<string> | undefined {\n  const re = new RegExp(\n    '^iglu:((?:(?:[a-zA-Z0-9-_]+|\\\\*).)+(?:[a-zA-Z0-9-_]+|\\\\*))/([a-zA-Z0-9-_.]+|\\\\*)/jsonschema/([1-9][0-9]*|\\\\*)-(0|[1-9][0-9]*|\\\\*)-(0|[1-9][0-9]*|\\\\*)$'\n  );\n  const matches = re.exec(input);\n  if (matches !== null && validateVendor(matches[1])) return matches.slice(1, 6);\n  return undefined;\n}\n\n/**\n * Ensures the rules specified in a schema string of a ruleset are valid\n * @param input - A Schema string\n * @returns if there rule is valid\n */\nexport function isValidRule(input: string): boolean {\n  const ruleParts = getRuleParts(input);\n  if (ruleParts) {\n    const vendor = ruleParts[0];\n    return ruleParts.length === 5 && validateVendor(vendor);\n  }\n  return false;\n}\n\n/**\n * Check if a variable is an Array containing only strings\n * @param input - The variable to validate\n * @returns True if the input is an array containing only strings\n */\nexport function isStringArray(input: unknown): input is Array<string> {\n  return (\n    Array.isArray(input) &&\n    input.every((x) => {\n      return typeof x === 'string';\n    })\n  );\n}\n\n/**\n * Validates whether a rule set is an array of valid ruleset strings\n * @param input - The Array of rule set arguments\n * @returns True is the input is an array of valid rules\n */\nexport function isValidRuleSetArg(input: unknown): boolean {\n  if (isStringArray(input))\n    return input.every((x: string) => {\n      return isValidRule(x);\n    });\n  else if (typeof input === 'string') return isValidRule(input);\n  return false;\n}\n\n/**\n * Check if a variable is a valid, non-empty Self Describing JSON\n * @param input - The variable to validate\n * @returns True if a valid Self Describing JSON\n */\nexport function isSelfDescribingJson(input: unknown): input is SelfDescribingJson {\n  const sdj = input as SelfDescribingJson;\n  if (isNonEmptyJson(sdj))\n    if ('schema' in sdj && 'data' in sdj) return typeof sdj.schema === 'string' && typeof sdj.data === 'object';\n  return false;\n}\n\n/**\n * Validates if the input object contains the expected properties of a ruleset\n * @param input - The object containing a rule set\n * @returns True if a valid rule set\n */\nexport function isRuleSet(input: unknown): input is Record<string, unknown> {\n  const ruleSet = input as Record<string, unknown>;\n  let ruleCount = 0;\n  if (input != null && typeof input === 'object' && !Array.isArray(input)) {\n    if (Object.prototype.hasOwnProperty.call(ruleSet, 'accept')) {\n      if (isValidRuleSetArg(ruleSet['accept'])) {\n        ruleCount += 1;\n      } else {\n        return false;\n      }\n    }\n    if (Object.prototype.hasOwnProperty.call(ruleSet, 'reject')) {\n      if (isValidRuleSetArg(ruleSet['reject'])) {\n        ruleCount += 1;\n      } else {\n        return false;\n      }\n    }\n    // if either 'reject' or 'accept' or both exists,\n    // we have a valid ruleset\n    return ruleCount > 0 && ruleCount <= 2;\n  }\n  return false;\n}\n\n/**\n * Validates if the function can be a valid context generator function\n * @param input - The function to be validated\n */\nexport function isContextCallbackFunction(input: unknown): boolean {\n  return typeof input === 'function' && input.length <= 1;\n}\n\n/**\n * Validates if the function can be a valid context primitive function or self describing json\n * @param input - The function or orbject to be validated\n * @returns True if either a Context Generator or Self Describing JSON\n */\nexport function isContextPrimitive(input: unknown): input is ContextPrimitive {\n  return isContextCallbackFunction(input) || isSelfDescribingJson(input);\n}\n\n/**\n * Validates if an array is a valid shape to be a Filter Provider\n * @param input - The Array of Context filter callbacks\n */\nexport function isFilterProvider(input: unknown): boolean {\n  if (Array.isArray(input)) {\n    if (input.length === 2) {\n      if (Array.isArray(input[1])) {\n        return isContextCallbackFunction(input[0]) && input[1].every(isContextPrimitive);\n      }\n      return isContextCallbackFunction(input[0]) && isContextPrimitive(input[1]);\n    }\n  }\n  return false;\n}\n\n/**\n * Validates if an array is a valid shape to be an array of rule sets\n * @param input - The Array of Rule Sets\n */\nexport function isRuleSetProvider(input: unknown): boolean {\n  if (Array.isArray(input) && input.length === 2) {\n    if (!isRuleSet(input[0])) return false;\n    if (Array.isArray(input[1])) return input[1].every(isContextPrimitive);\n    return isContextPrimitive(input[1]);\n  }\n  return false;\n}\n\n/**\n * Checks if an input array is either a filter provider or a rule set provider\n * @param input - An array of filter providers or rule set providers\n * @returns Whether the array is a valid {@link ConditionalContextProvider}\n */\nexport function isConditionalContextProvider(input: unknown): input is ConditionalContextProvider {\n  return isFilterProvider(input) || isRuleSetProvider(input);\n}\n\n/**\n * Checks if a given schema matches any rules within the provided rule set\n * @param ruleSet - The rule set containing rules to match schema against\n * @param schema - The schema to be matched against the rule set\n */\nexport function matchSchemaAgainstRuleSet(ruleSet: RuleSet, schema: string): boolean {\n  let rejectCount = 0;\n  let acceptCount = 0;\n  const acceptRules = ruleSet['accept'];\n  if (Array.isArray(acceptRules)) {\n    if ((ruleSet.accept as Array<string>).some((rule) => matchSchemaAgainstRule(rule, schema))) {\n      acceptCount++;\n    }\n  } else if (typeof acceptRules === 'string') {\n    if (matchSchemaAgainstRule(acceptRules, schema)) {\n      acceptCount++;\n    }\n  }\n\n  const rejectRules = ruleSet['reject'];\n  if (Array.isArray(rejectRules)) {\n    if ((ruleSet.reject as Array<string>).some((rule) => matchSchemaAgainstRule(rule, schema))) {\n      rejectCount++;\n    }\n  } else if (typeof rejectRules === 'string') {\n    if (matchSchemaAgainstRule(rejectRules, schema)) {\n      rejectCount++;\n    }\n  }\n\n  if (acceptCount > 0 && rejectCount === 0) {\n    return true;\n  } else if (acceptCount === 0 && rejectCount > 0) {\n    return false;\n  }\n\n  return false;\n}\n\n/**\n * Checks if a given schema matches a specific rule from a rule set\n * @param rule - The rule to match schema against\n * @param schema - The schema to be matched against the rule\n */\nexport function matchSchemaAgainstRule(rule: string, schema: string): boolean {\n  if (!isValidRule(rule)) return false;\n  const ruleParts = getRuleParts(rule);\n  const schemaParts = getSchemaParts(schema);\n  if (ruleParts && schemaParts) {\n    if (!matchVendor(ruleParts[0], schemaParts[0])) return false;\n    for (let i = 1; i < 5; i++) {\n      if (!matchPart(ruleParts[i], schemaParts[i])) return false;\n    }\n    return true; // if it hasn't failed, it passes\n  }\n  return false;\n}\n\nfunction matchVendor(rule: string, vendor: string): boolean {\n  // rule and vendor must have same number of elements\n  const vendorParts = vendor.split('.');\n  const ruleParts = rule.split('.');\n  if (vendorParts && ruleParts) {\n    if (vendorParts.length !== ruleParts.length) return false;\n    for (let i = 0; i < ruleParts.length; i++) {\n      if (!matchPart(vendorParts[i], ruleParts[i])) return false;\n    }\n    return true;\n  }\n  return false;\n}\n\nfunction matchPart(rule: string, schema: string): boolean {\n  // parts should be the string nested between slashes in the URI: /example/\n  return (rule && schema && rule === '*') || rule === schema;\n}\n\n// Returns the \"useful\" schema, i.e. what would someone want to use to identify events.\n// For some events this is the 'e' property but for unstructured events, this is the\n// 'schema' from the 'ue_px' field.\nfunction getUsefulSchema(sb: PayloadBuilder): string {\n  let eventJson = sb.getJson();\n  for (const json of eventJson) {\n    if (json.keyIfEncoded === 'ue_px' && typeof json.json['data'] === 'object') {\n      const schema = (json.json['data'] as Record<string, unknown>)['schema'];\n      if (typeof schema == 'string') {\n        return schema;\n      }\n    }\n  }\n  return '';\n}\n\nfunction getEventType(payloadBuilder: PayloadBuilder): string {\n  const eventType = payloadBuilder.getPayload()['e'];\n  return typeof eventType === 'string' ? eventType : '';\n}\n\nfunction buildGenerator(\n  generator: ContextGenerator,\n  event: PayloadBuilder,\n  eventType: string,\n  eventSchema: string\n): SelfDescribingJson | Array<SelfDescribingJson> | undefined {\n  let contextGeneratorResult: SelfDescribingJson | Array<SelfDescribingJson> | undefined = undefined;\n  try {\n    // try to evaluate context generator\n    const args = {\n      event: event.getPayload(),\n      eventType: eventType,\n      eventSchema: eventSchema,\n    };\n    contextGeneratorResult = generator(args);\n    // determine if the produced result is a valid SDJ\n    if (Array.isArray(contextGeneratorResult) && contextGeneratorResult.every(isSelfDescribingJson)) {\n      return contextGeneratorResult;\n    } else if (isSelfDescribingJson(contextGeneratorResult)) {\n      return contextGeneratorResult;\n    } else {\n      return undefined;\n    }\n  } catch (error) {\n    contextGeneratorResult = undefined;\n  }\n  return contextGeneratorResult;\n}\n\nfunction normalizeToArray<T>(input: Array<T> | T): Array<T> {\n  if (Array.isArray(input)) {\n    return input;\n  }\n  return Array.of(input);\n}\n\nfunction generatePrimitives(\n  contextPrimitives: Array<ContextPrimitive> | ContextPrimitive,\n  event: PayloadBuilder,\n  eventType: string,\n  eventSchema: string\n): Array<SelfDescribingJson> {\n  const normalizedInputs: Array<ContextPrimitive> = normalizeToArray(contextPrimitives);\n  const partialEvaluate = (primitive: ContextPrimitive) => {\n    const result = evaluatePrimitive(primitive, event, eventType, eventSchema);\n    if (result && result.length !== 0) {\n      return result;\n    }\n    return undefined;\n  };\n  const generatedContexts = normalizedInputs.map(partialEvaluate);\n  return ([] as Array<SelfDescribingJson>).concat(\n    ...(generatedContexts.filter((c) => c != null && c.filter(Boolean)) as Array<Array<SelfDescribingJson>>)\n  );\n}\n\nfunction evaluatePrimitive(\n  contextPrimitive: ContextPrimitive,\n  event: PayloadBuilder,\n  eventType: string,\n  eventSchema: string\n): Array<SelfDescribingJson> | undefined {\n  if (isSelfDescribingJson(contextPrimitive)) {\n    return [contextPrimitive as SelfDescribingJson];\n  } else if (isContextCallbackFunction(contextPrimitive)) {\n    const generatorOutput = buildGenerator(contextPrimitive as ContextGenerator, event, eventType, eventSchema);\n    if (isSelfDescribingJson(generatorOutput)) {\n      return [generatorOutput as SelfDescribingJson];\n    } else if (Array.isArray(generatorOutput)) {\n      return generatorOutput;\n    }\n  }\n  return undefined;\n}\n\nfunction evaluateProvider(\n  provider: ConditionalContextProvider,\n  event: PayloadBuilder,\n  eventType: string,\n  eventSchema: string\n): Array<SelfDescribingJson> {\n  if (isFilterProvider(provider)) {\n    const filter: ContextFilter = (provider as FilterProvider)[0];\n    let filterResult = false;\n    try {\n      const args = {\n        event: event.getPayload(),\n        eventType: eventType,\n        eventSchema: eventSchema,\n      };\n      filterResult = filter(args);\n    } catch (error) {\n      filterResult = false;\n    }\n    if (filterResult === true) {\n      return generatePrimitives((provider as FilterProvider)[1], event, eventType, eventSchema);\n    }\n  } else if (isRuleSetProvider(provider)) {\n    if (matchSchemaAgainstRuleSet((provider as RuleSetProvider)[0], eventSchema)) {\n      return generatePrimitives((provider as RuleSetProvider)[1], event, eventType, eventSchema);\n    }\n  }\n  return [];\n}\n\nfunction generateConditionals(\n  providers: Array<ConditionalContextProvider> | ConditionalContextProvider,\n  event: PayloadBuilder,\n  eventType: string,\n  eventSchema: string\n): Array<SelfDescribingJson> {\n  const normalizedInput: Array<ConditionalContextProvider> = normalizeToArray(providers);\n  const partialEvaluate = (provider: ConditionalContextProvider) => {\n    const result = evaluateProvider(provider, event, eventType, eventSchema);\n    if (result && result.length !== 0) {\n      return result;\n    }\n    return undefined;\n  };\n  const generatedContexts = normalizedInput.map(partialEvaluate);\n  return ([] as Array<SelfDescribingJson>).concat(\n    ...(generatedContexts.filter((c) => c != null && c.filter(Boolean)) as Array<Array<SelfDescribingJson>>)\n  );\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { v4 as uuid } from 'uuid';\nimport { payloadBuilder, PayloadBuilder, Payload, isJson, payloadJsonProcessor } from './payload';\nimport {\n  globalContexts,\n  ConditionalContextProvider,\n  ContextPrimitive,\n  GlobalContexts,\n  PluginContexts,\n  pluginContexts,\n} from './contexts';\nimport { CorePlugin } from './plugins';\nimport { LOG } from './logger';\n\n/**\n * export interface for any Self-Describing JSON such as context or Self Describing events\n * @typeParam T - The type of the data object within a SelfDescribingJson\n */\nexport type SelfDescribingJson<T extends Record<keyof T, unknown> = Record<string, unknown>> = {\n  /**\n   * The schema string\n   * @example 'iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0'\n   */\n  schema: string;\n  /**\n   * The data object which should conform to the supplied schema\n   */\n  data: T;\n};\n\n/**\n * export interface for any Self-Describing JSON which has the data attribute as an array\n * @typeParam T - The type of the data object within the SelfDescribingJson data array\n */\nexport type SelfDescribingJsonArray<T extends Record<keyof T, unknown> = Record<string, unknown>> = {\n  /**\n   * The schema string\n   * @example 'iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-1'\n   */\n  schema: string;\n  /**\n   * The data array which should conform to the supplied schema\n   */\n  data: Array<T>;\n};\n\n/**\n * Algebraic datatype representing possible timestamp type choice\n */\nexport type Timestamp = TrueTimestamp | DeviceTimestamp | number;\n\n/**\n * A representation of a True Timestamp (ttm)\n */\nexport interface TrueTimestamp {\n  readonly type: 'ttm';\n  readonly value: number;\n}\n\n/**\n * A representation of a Device Timestamp (dtm)\n */\nexport interface DeviceTimestamp {\n  readonly type: 'dtm';\n  readonly value: number;\n}\n\n/**\n * Pair of timestamp type ready to be included to payload\n */\ntype TimestampPayload = TrueTimestamp | DeviceTimestamp;\n\n/**\n * Transform optional/old-behavior number timestamp into`Timestamp` ADT\n *\n * @param timestamp - optional number or timestamp object\n * @returns correct timestamp object\n */\nfunction getTimestamp(timestamp?: Timestamp | null): TimestampPayload {\n  if (timestamp == null) {\n    return { type: 'dtm', value: new Date().getTime() };\n  } else if (typeof timestamp === 'number') {\n    return { type: 'dtm', value: timestamp };\n  } else if (timestamp.type === 'ttm') {\n    // We can return timestamp here, but this is safer fallback\n    return { type: 'ttm', value: timestamp.value };\n  } else {\n    return { type: 'dtm', value: timestamp.value || new Date().getTime() };\n  }\n}\n\n/** Additional data points to set when tracking an event */\nexport interface CommonEventProperties {\n  /** Add context to an event by setting an Array of Self Describing JSON */\n  context?: Array<SelfDescribingJson> | null;\n  /** Set the true timestamp or overwrite the device sent timestamp on an event */\n  timestamp?: Timestamp | null;\n}\n\n/**\n * export interface containing all Core functions\n */\nexport interface TrackerCore {\n  /**\n   * Call with a payload from a buildX function\n   * Adds context and payloadPairs name-value pairs to the payload\n   * Applies the callback to the built payload\n   *\n   * @param pb - Payload\n   * @param context - Custom contexts relating to the event\n   * @param timestamp - Timestamp of the event\n   * @returns Payload after the callback is applied\n   */\n  track: (\n    /** A PayloadBuilder created by one of the `buildX` functions */\n    pb: PayloadBuilder,\n    /** The additional contextual information related to the event */\n    context?: Array<SelfDescribingJson> | null,\n    /** Timestamp override */\n    timestamp?: Timestamp | null\n  ) => Payload;\n\n  /**\n   * Set a persistent key-value pair to be added to every payload\n   *\n   * @param key - Field name\n   * @param value - Field value\n   */\n  addPayloadPair: (key: string, value: unknown) => void;\n\n  /**\n   * Get current base64 encoding state\n   */\n  getBase64Encoding(): boolean;\n\n  /**\n   * Turn base 64 encoding on or off\n   *\n   * @param encode - Whether to encode payload\n   */\n  setBase64Encoding(encode: boolean): void;\n\n  /**\n   * Merges a dictionary into payloadPairs\n   *\n   * @param dict - Adds a new payload dictionary to the existing one\n   */\n  addPayloadDict(dict: Payload): void;\n\n  /**\n   * Replace payloadPairs with a new dictionary\n   *\n   * @param dict - Resets all current payload pairs with a new dictionary of pairs\n   */\n  resetPayloadPairs(dict: Payload): void;\n\n  /**\n   * Set the tracker version\n   *\n   * @param version - The version of the current tracker\n   */\n  setTrackerVersion(version: string): void;\n\n  /**\n   * Set the tracker namespace\n   *\n   * @param name - The trackers namespace\n   */\n  setTrackerNamespace(name: string): void;\n\n  /**\n   * Set the application ID\n   *\n   * @param appId - An application ID which identifies the current application\n   */\n  setAppId(appId: string): void;\n\n  /**\n   * Set the platform\n   *\n   * @param value - A valid Snowplow platform value\n   */\n  setPlatform(value: string): void;\n\n  /**\n   * Set the user ID\n   *\n   * @param userId - The custom user id\n   */\n  setUserId(userId: string): void;\n\n  /**\n   * Set the screen resolution\n   *\n   * @param width - screen resolution width\n   * @param height - screen resolution height\n   */\n  setScreenResolution(width: string, height: string): void;\n\n  /**\n   * Set the viewport dimensions\n   *\n   * @param width - viewport width\n   * @param height - viewport height\n   */\n  setViewport(width: string, height: string): void;\n\n  /**\n   * Set the color depth\n   *\n   * @param depth - A color depth value as string\n   */\n  setColorDepth(depth: string): void;\n\n  /**\n   * Set the timezone\n   *\n   * @param timezone - A timezone string\n   */\n  setTimezone(timezone: string): void;\n\n  /**\n   * Set the language\n   *\n   * @param lang - A language string e.g. 'en-UK'\n   */\n  setLang(lang: string): void;\n\n  /**\n   * Set the IP address\n   *\n   * @param ip - An IP Address string\n   */\n  setIpAddress(ip: string): void;\n\n  /**\n   * Set the Useragent\n   *\n   * @param useragent - A useragent string\n   */\n  setUseragent(useragent: string): void;\n\n  /**\n   * Adds contexts globally, contexts added here will be attached to all applicable events\n   * @param contexts - An array containing either contexts or a conditional contexts\n   */\n  addGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive>): void;\n\n  /**\n   * Removes all global contexts\n   */\n  clearGlobalContexts(): void;\n\n  /**\n   * Removes previously added global context, performs a deep comparison of the contexts or conditional contexts\n   * @param contexts - An array containing either contexts or a conditional contexts\n   */\n  removeGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive>): void;\n\n  /**\n   * Add a plugin into the plugin collection after Core has already been initialised\n   * @param configuration - The plugin to add\n   */\n  addPlugin(configuration: CorePluginConfiguration): void;\n}\n\n/**\n * The configuration object for the tracker core library\n */\nexport interface CoreConfiguration {\n  /* Should payloads be base64 encoded when built */\n  base64?: boolean;\n  /* A list of all the plugins to include at load */\n  corePlugins?: Array<CorePlugin>;\n  /* The callback which will fire each time `track()` is called */\n  callback?: (PayloadData: PayloadBuilder) => void;\n}\n\n/**\n * The configuration of the plugin to add\n */\nexport interface CorePluginConfiguration {\n  /* The plugin to add */\n  plugin: CorePlugin;\n}\n\n/**\n * Create a tracker core object\n *\n * @param base64 - Whether to base 64 encode contexts and self describing event JSONs\n * @param corePlugins - The core plugins to be processed with each event\n * @param callback - Function applied to every payload dictionary object\n * @returns Tracker core\n */\nexport function trackerCore(configuration: CoreConfiguration = {}): TrackerCore {\n  function newCore(base64: boolean, corePlugins: Array<CorePlugin>, callback?: (PayloadData: PayloadBuilder) => void) {\n    const pluginContextsHelper: PluginContexts = pluginContexts(corePlugins),\n      globalContextsHelper: GlobalContexts = globalContexts();\n\n    let encodeBase64 = base64,\n      payloadPairs: Payload = {}; // Dictionary of key-value pairs which get added to every payload, e.g. tracker version\n\n    /**\n     * Wraps an array of custom contexts in a self-describing JSON\n     *\n     * @param contexts - Array of custom context self-describing JSONs\n     * @returns Outer JSON\n     */\n    function completeContexts(\n      contexts?: Array<SelfDescribingJson>\n    ): SelfDescribingJsonArray<SelfDescribingJson> | undefined {\n      if (contexts && contexts.length) {\n        return {\n          schema: 'iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0',\n          data: contexts,\n        };\n      }\n      return undefined;\n    }\n\n    /**\n     * Adds all global contexts to a contexts array\n     *\n     * @param pb - PayloadData\n     * @param contexts - Custom contexts relating to the event\n     */\n    function attachGlobalContexts(\n      pb: PayloadBuilder,\n      contexts?: Array<SelfDescribingJson> | null\n    ): Array<SelfDescribingJson> {\n      const applicableContexts: Array<SelfDescribingJson> = globalContextsHelper.getApplicableContexts(pb);\n      const returnedContexts: Array<SelfDescribingJson> = [];\n      if (contexts && contexts.length) {\n        returnedContexts.push(...contexts);\n      }\n      if (applicableContexts && applicableContexts.length) {\n        returnedContexts.push(...applicableContexts);\n      }\n      return returnedContexts;\n    }\n\n    /**\n     * Gets called by every trackXXX method\n     * Adds context and payloadPairs name-value pairs to the payload\n     * Applies the callback to the built payload\n     *\n     * @param pb - Payload\n     * @param context - Custom contexts relating to the event\n     * @param timestamp - Timestamp of the event\n     * @returns Payload after the callback is applied\n     */\n    function track(\n      pb: PayloadBuilder,\n      context?: Array<SelfDescribingJson> | null,\n      timestamp?: Timestamp | null\n    ): Payload {\n      pb.withJsonProcessor(payloadJsonProcessor(encodeBase64));\n      pb.add('eid', uuid());\n      pb.addDict(payloadPairs);\n      const tstamp = getTimestamp(timestamp);\n      pb.add(tstamp.type, tstamp.value.toString());\n      const allContexts = attachGlobalContexts(pb, pluginContextsHelper.addPluginContexts(context));\n      const wrappedContexts = completeContexts(allContexts);\n      if (wrappedContexts !== undefined) {\n        pb.addJson('cx', 'co', wrappedContexts);\n      }\n\n      corePlugins.forEach((plugin) => {\n        try {\n          if (plugin.beforeTrack) {\n            plugin.beforeTrack(pb);\n          }\n        } catch (ex) {\n          LOG.error('Plugin beforeTrack', ex);\n        }\n      });\n\n      if (typeof callback === 'function') {\n        callback(pb);\n      }\n\n      const finalPayload = pb.build();\n\n      corePlugins.forEach((plugin) => {\n        try {\n          if (plugin.afterTrack) {\n            plugin.afterTrack(finalPayload);\n          }\n        } catch (ex) {\n          LOG.error('Plugin afterTrack', ex);\n        }\n      });\n\n      return finalPayload;\n    }\n\n    /**\n     * Set a persistent key-value pair to be added to every payload\n     *\n     * @param key - Field name\n     * @param value - Field value\n     */\n    function addPayloadPair(key: string, value: unknown): void {\n      payloadPairs[key] = value;\n    }\n\n    const core = {\n      track,\n\n      addPayloadPair,\n\n      getBase64Encoding() {\n        return encodeBase64;\n      },\n\n      setBase64Encoding(encode: boolean) {\n        encodeBase64 = encode;\n      },\n\n      addPayloadDict(dict: Payload) {\n        for (const key in dict) {\n          if (Object.prototype.hasOwnProperty.call(dict, key)) {\n            payloadPairs[key] = dict[key];\n          }\n        }\n      },\n\n      resetPayloadPairs(dict: Payload) {\n        payloadPairs = isJson(dict) ? dict : {};\n      },\n\n      setTrackerVersion(version: string) {\n        addPayloadPair('tv', version);\n      },\n\n      setTrackerNamespace(name: string) {\n        addPayloadPair('tna', name);\n      },\n\n      setAppId(appId: string) {\n        addPayloadPair('aid', appId);\n      },\n\n      setPlatform(value: string) {\n        addPayloadPair('p', value);\n      },\n\n      setUserId(userId: string) {\n        addPayloadPair('uid', userId);\n      },\n\n      setScreenResolution(width: string, height: string) {\n        addPayloadPair('res', width + 'x' + height);\n      },\n\n      setViewport(width: string, height: string) {\n        addPayloadPair('vp', width + 'x' + height);\n      },\n\n      setColorDepth(depth: string) {\n        addPayloadPair('cd', depth);\n      },\n\n      setTimezone(timezone: string) {\n        addPayloadPair('tz', timezone);\n      },\n\n      setLang(lang: string) {\n        addPayloadPair('lang', lang);\n      },\n\n      setIpAddress(ip: string) {\n        addPayloadPair('ip', ip);\n      },\n\n      setUseragent(useragent: string) {\n        addPayloadPair('ua', useragent);\n      },\n\n      addGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive>) {\n        globalContextsHelper.addGlobalContexts(contexts);\n      },\n\n      clearGlobalContexts(): void {\n        globalContextsHelper.clearGlobalContexts();\n      },\n\n      removeGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive>) {\n        globalContextsHelper.removeGlobalContexts(contexts);\n      },\n    };\n\n    return core;\n  }\n\n  const { base64, corePlugins, callback } = configuration,\n    plugins = corePlugins ?? [],\n    partialCore = newCore(base64 ?? true, plugins, callback),\n    core = {\n      ...partialCore,\n      addPlugin: (configuration: CorePluginConfiguration) => {\n        const { plugin } = configuration;\n        plugins.push(plugin);\n        plugin.logger?.(LOG);\n        plugin.activateCorePlugin?.(core);\n      },\n    };\n\n  plugins?.forEach((plugin) => {\n    plugin.logger?.(LOG);\n    plugin.activateCorePlugin?.(core);\n  });\n\n  return core;\n}\n\n/**\n * A Self Describing Event\n * A custom event type, allowing for an event to be tracked using your own custom schema\n * and a data object which conforms to the supplied schema\n */\nexport interface SelfDescribingEvent {\n  /** The Self Describing JSON which describes the event */\n  event: SelfDescribingJson;\n}\n\n/**\n * Build a self-describing event\n * A custom event type, allowing for an event to be tracked using your own custom schema\n * and a data object which conforms to the supplied schema\n *\n * @param event - Contains the properties and schema location for the event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildSelfDescribingEvent(event: SelfDescribingEvent): PayloadBuilder {\n  const {\n      event: { schema, data },\n    } = event,\n    pb = payloadBuilder();\n  const ueJson = {\n    schema: 'iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0',\n    data: { schema, data },\n  };\n\n  pb.add('e', 'ue');\n  pb.addJson('ue_px', 'ue_pr', ueJson);\n\n  return pb;\n}\n\n/**\n * A Page View Event\n * Represents a Page View, which is typically fired as soon as possible when a web page\n * is loaded within the users browser. Often also fired on \"virtual page views\" within\n * Single Page Applications (SPA).\n */\nexport interface PageViewEvent {\n  /** The current URL visible in the users browser */\n  pageUrl?: string | null;\n  /** The current page title in the users browser */\n  pageTitle?: string | null;\n  /** The URL of the referring page */\n  referrer?: string | null;\n}\n\n/**\n * Build a Page View Event\n * Represents a Page View, which is typically fired as soon as possible when a web page\n * is loaded within the users browser. Often also fired on \"virtual page views\" within\n * Single Page Applications (SPA).\n *\n * @param event - Contains the properties for the Page View event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildPageView(event: PageViewEvent): PayloadBuilder {\n  const { pageUrl, pageTitle, referrer } = event,\n    pb = payloadBuilder();\n  pb.add('e', 'pv'); // 'pv' for Page View\n  pb.add('url', pageUrl);\n  pb.add('page', pageTitle);\n  pb.add('refr', referrer);\n\n  return pb;\n}\n\n/**\n * A Page Ping Event\n * Fires when activity tracking is enabled in the browser.\n * Tracks same information as the last tracked Page View and includes scroll\n * information from the current page view\n */\nexport interface PagePingEvent extends PageViewEvent {\n  /** The minimum X scroll position for the current page view */\n  minXOffset?: number;\n  /** The maximum X scroll position for the current page view */\n  maxXOffset?: number;\n  /** The minimum Y scroll position for the current page view */\n  minYOffset?: number;\n  /** The maximum Y scroll position for the current page view */\n  maxYOffset?: number;\n}\n\n/**\n * Build a Page Ping Event\n * Fires when activity tracking is enabled in the browser.\n * Tracks same information as the last tracked Page View and includes scroll\n * information from the current page view\n *\n * @param event - Contains the properties for the Page Ping event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildPagePing(event: PagePingEvent): PayloadBuilder {\n  const { pageUrl, pageTitle, referrer, minXOffset, maxXOffset, minYOffset, maxYOffset } = event,\n    pb = payloadBuilder();\n  pb.add('e', 'pp'); // 'pp' for Page Ping\n  pb.add('url', pageUrl);\n  pb.add('page', pageTitle);\n  pb.add('refr', referrer);\n  if (minXOffset && !isNaN(Number(minXOffset))) pb.add('pp_mix', minXOffset.toString());\n  if (maxXOffset && !isNaN(Number(maxXOffset))) pb.add('pp_max', maxXOffset.toString());\n  if (minYOffset && !isNaN(Number(minYOffset))) pb.add('pp_miy', minYOffset.toString());\n  if (maxYOffset && !isNaN(Number(maxYOffset))) pb.add('pp_may', maxYOffset.toString());\n\n  return pb;\n}\n\n/**\n * A Structured Event\n * A classic style of event tracking, allows for easier movement between analytics\n * systems. A loosely typed event, creating a Self Describing event is preferred, but\n * useful for interoperability.\n */\nexport interface StructuredEvent {\n  category: string;\n  action: string;\n  label?: string;\n  property?: string;\n  value?: number;\n}\n\n/**\n * Build a Structured Event\n * A classic style of event tracking, allows for easier movement between analytics\n * systems. A loosely typed event, creating a Self Describing event is preferred, but\n * useful for interoperability.\n *\n * @param event - Contains the properties for the Structured event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildStructEvent(event: StructuredEvent): PayloadBuilder {\n  const { category, action, label, property, value } = event,\n    pb = payloadBuilder();\n  pb.add('e', 'se'); // 'se' for Structured Event\n  pb.add('se_ca', category);\n  pb.add('se_ac', action);\n  pb.add('se_la', label);\n  pb.add('se_pr', property);\n  pb.add('se_va', value == null ? undefined : value.toString());\n\n  return pb;\n}\n\n/**\n * An Ecommerce Transaction Event\n * Allows for tracking common ecommerce events, this event is usually used when\n * a customer completes a transaction.\n */\nexport interface EcommerceTransactionEvent {\n  /** An identifier for the order */\n  orderId: string;\n  /** The total value of the order  */\n  total: number;\n  /** Transaction affiliation (e.g. store where sale took place) */\n  affiliation?: string;\n  /** The amount of tax on the transaction */\n  tax?: number;\n  /** The amount of shipping costs for this transaction */\n  shipping?: number;\n  /** Delivery address, city */\n  city?: string;\n  /** Delivery address, state */\n  state?: string;\n  /** Delivery address, country */\n  country?: string;\n  /** Currency of the transaction */\n  currency?: string;\n}\n\n/**\n * Build an Ecommerce Transaction Event\n * Allows for tracking common ecommerce events, this event is usually used when\n * a consumer completes a transaction.\n *\n * @param event - Contains the properties for the Ecommerce Transactoion event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildEcommerceTransaction(event: EcommerceTransactionEvent): PayloadBuilder {\n  const { orderId, total, affiliation, tax, shipping, city, state, country, currency } = event,\n    pb = payloadBuilder();\n  pb.add('e', 'tr'); // 'tr' for Transaction\n  pb.add('tr_id', orderId);\n  pb.add('tr_af', affiliation);\n  pb.add('tr_tt', total);\n  pb.add('tr_tx', tax);\n  pb.add('tr_sh', shipping);\n  pb.add('tr_ci', city);\n  pb.add('tr_st', state);\n  pb.add('tr_co', country);\n  pb.add('tr_cu', currency);\n\n  return pb;\n}\n\n/**\n * An Ecommerce Transaction Item\n * Related to the {@link EcommerceTransactionEvent}\n * Each Ecommerce Transaction may contain one or more EcommerceTransactionItem events\n */\nexport interface EcommerceTransactionItemEvent {\n  /** An identifier for the order */\n  orderId: string;\n  /** A Product Stock Keeping Unit (SKU) */\n  sku: string;\n  /** The price of the product */\n  price: number;\n  /** The name of the product */\n  name?: string;\n  /** The category the product belongs to */\n  category?: string;\n  /** The quanity of this product within the transaction */\n  quantity?: number;\n  /** The currency of the product for the transaction */\n  currency?: string;\n}\n\n/**\n * Build an Ecommerce Transaction Item Event\n * Related to the {@link buildEcommerceTransaction}\n * Each Ecommerce Transaction may contain one or more EcommerceTransactionItem events\n *\n * @param event - Contains the properties for the Ecommerce Transaction Item event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildEcommerceTransactionItem(event: EcommerceTransactionItemEvent): PayloadBuilder {\n  const { orderId, sku, price, name, category, quantity, currency } = event,\n    pb = payloadBuilder();\n  pb.add('e', 'ti'); // 'tr' for Transaction Item\n  pb.add('ti_id', orderId);\n  pb.add('ti_sk', sku);\n  pb.add('ti_nm', name);\n  pb.add('ti_ca', category);\n  pb.add('ti_pr', price);\n  pb.add('ti_qu', quantity);\n  pb.add('ti_cu', currency);\n\n  return pb;\n}\n\n/**\n * A Screen View Event\n * Similar to a Page View but less focused on typical web properties\n * Often used for mobile applications as the user is presented with\n * new views as they performance navigation events\n */\nexport interface ScreenViewEvent {\n  /** The name of the screen */\n  name?: string;\n  /** The identifier of the screen */\n  id?: string;\n}\n\n/**\n * Build a Scren View Event\n * Similar to a Page View but less focused on typical web properties\n * Often used for mobile applications as the user is presented with\n * new views as they performance navigation events\n *\n * @param event - Contains the properties for the Screen View event. One or more properties must be included.\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildScreenView(event: ScreenViewEvent): PayloadBuilder {\n  const { name, id } = event;\n  return buildSelfDescribingEvent({\n    event: {\n      schema: 'iglu:com.snowplowanalytics.snowplow/screen_view/jsonschema/1-0-0',\n      data: removeEmptyProperties({ name, id }),\n    },\n  });\n}\n\n/**\n * A Link Click Event\n * Used when a user clicks on a link on a webpage, typically an anchor tag <a>\n */\nexport interface LinkClickEvent {\n  /** The target URL of the link */\n  targetUrl: string;\n  /** The ID of the element clicked if present */\n  elementId?: string;\n  /** An array of class names from the element clicked */\n  elementClasses?: Array<string>;\n  /** The target value of the element if present */\n  elementTarget?: string;\n  /** The content of the element if present and enabled */\n  elementContent?: string;\n}\n\n/**\n * Build a Link Click Event\n * Used when a user clicks on a link on a webpage, typically an anchor tag <a>\n *\n * @param event - Contains the properties for the Link Click event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildLinkClick(event: LinkClickEvent): PayloadBuilder {\n  const { targetUrl, elementId, elementClasses, elementTarget, elementContent } = event;\n  const eventJson = {\n    schema: 'iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1',\n    data: removeEmptyProperties({ targetUrl, elementId, elementClasses, elementTarget, elementContent }),\n  };\n\n  return buildSelfDescribingEvent({ event: eventJson });\n}\n\n/**\n * An Ad Impression Event\n * Used to track an advertisement impression\n *\n * @remarks\n * If you provide the cost field, you must also provide one of 'cpa', 'cpc', and 'cpm' for the costModel field.\n */\nexport interface AdImpressionEvent {\n  /** Identifier for the particular impression instance */\n  impressionId?: string;\n  /** The cost model for the campaign */\n  costModel?: 'cpa' | 'cpc' | 'cpm';\n  /** Advertisement cost */\n  cost?: number;\n  /** The destination URL of the advertisement */\n  targetUrl?: string;\n  /** Identifier for the ad banner being displayed */\n  bannerId?: string;\n  /** Identifier for the zone where the ad banner is located */\n  zoneId?: string;\n  /** Identifier for the advertiser which the campaign belongs to */\n  advertiserId?: string;\n  /** Identifier for the advertiser which the campaign belongs to */\n  campaignId?: string;\n}\n\n/**\n * Build a Ad Impression Event\n * Used to track an advertisement impression\n *\n * @remarks\n * If you provide the cost field, you must also provide one of 'cpa', 'cpc', and 'cpm' for the costModel field.\n *\n * @param event - Contains the properties for the Ad Impression event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildAdImpression(event: AdImpressionEvent): PayloadBuilder {\n  const { impressionId, costModel, cost, targetUrl, bannerId, zoneId, advertiserId, campaignId } = event;\n  const eventJson = {\n    schema: 'iglu:com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0',\n    data: removeEmptyProperties({\n      impressionId,\n      costModel,\n      cost,\n      targetUrl,\n      bannerId,\n      zoneId,\n      advertiserId,\n      campaignId,\n    }),\n  };\n\n  return buildSelfDescribingEvent({ event: eventJson });\n}\n\n/**\n * An Ad Click Event\n * Used to track an advertisement click\n *\n * @remarks\n * If you provide the cost field, you must also provide one of 'cpa', 'cpc', and 'cpm' for the costModel field.\n */\nexport interface AdClickEvent {\n  /** The destination URL of the advertisement */\n  targetUrl: string;\n  /**\tIdentifier for the particular click instance */\n  clickId?: string;\n  /** The cost model for the campaign */\n  costModel?: 'cpa' | 'cpc' | 'cpm';\n  /** Advertisement cost */\n  cost?: number;\n  /** Identifier for the ad banner being displayed */\n  bannerId?: string;\n  /** Identifier for the zone where the ad banner is located */\n  zoneId?: string;\n  /** Identifier for the particular impression instance */\n  impressionId?: string;\n  /** Identifier for the advertiser which the campaign belongs to */\n  advertiserId?: string;\n  /** Identifier for the advertiser which the campaign belongs to */\n  campaignId?: string;\n}\n\n/**\n * Build a Ad Click Event\n * Used to track an advertisement click\n *\n * @remarks\n * If you provide the cost field, you must also provide one of 'cpa', 'cpc', and 'cpm' for the costModel field.\n *\n * @param event - Contains the properties for the Ad Click event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildAdClick(event: AdClickEvent): PayloadBuilder {\n  const { targetUrl, clickId, costModel, cost, bannerId, zoneId, impressionId, advertiserId, campaignId } = event;\n  const eventJson = {\n    schema: 'iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0',\n    data: removeEmptyProperties({\n      targetUrl,\n      clickId,\n      costModel,\n      cost,\n      bannerId,\n      zoneId,\n      impressionId,\n      advertiserId,\n      campaignId,\n    }),\n  };\n\n  return buildSelfDescribingEvent({ event: eventJson });\n}\n\n/**\n * An Ad Conversion Event\n * Used to track an advertisement click\n *\n * @remarks\n * If you provide the cost field, you must also provide one of 'cpa', 'cpc', and 'cpm' for the costModel field.\n */\nexport interface AdConversionEvent {\n  /** Identifier for the particular conversion instance */\n  conversionId?: string;\n  /** The cost model for the campaign */\n  costModel?: 'cpa' | 'cpc' | 'cpm';\n  /** Advertisement cost */\n  cost?: number;\n  /**\tConversion category */\n  category?: string;\n  /** The type of user interaction e.g. 'purchase' */\n  action?: string;\n  /** Describes the object of the conversion */\n  property?: string;\n  /** How much the conversion is initially worth */\n  initialValue?: number;\n  /** Identifier for the advertiser which the campaign belongs to */\n  advertiserId?: string;\n  /** Identifier for the advertiser which the campaign belongs to */\n  campaignId?: string;\n}\n\n/**\n * Build a Ad Conversion Event\n * Used to track an advertisement click\n *\n * @remarks\n * If you provide the cost field, you must also provide one of 'cpa', 'cpc', and 'cpm' for the costModel field.\n *\n * @param event - Contains the properties for the Ad Conversion event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildAdConversion(event: AdConversionEvent): PayloadBuilder {\n  const { conversionId, costModel, cost, category, action, property, initialValue, advertiserId, campaignId } = event;\n  const eventJson = {\n    schema: 'iglu:com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0',\n    data: removeEmptyProperties({\n      conversionId,\n      costModel,\n      cost,\n      category,\n      action,\n      property,\n      initialValue,\n      advertiserId,\n      campaignId,\n    }),\n  };\n\n  return buildSelfDescribingEvent({ event: eventJson });\n}\n\n/**\n * A Social Interaction Event\n * Social tracking will be used to track the way users interact\n * with Facebook, Twitter and Google + widgets\n * e.g. to capture like this or tweet this events.\n */\nexport interface SocialInteractionEvent {\n  /** Social action performed */\n  action: string;\n  /** Social network */\n  network: string;\n  /** Object social action is performed on */\n  target?: string;\n}\n\n/**\n * Build a Social Interaction Event\n * Social tracking will be used to track the way users interact\n * with Facebook, Twitter and Google + widgets\n * e.g. to capture like this or tweet this events.\n *\n * @param event - Contains the properties for the Social Interaction event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildSocialInteraction(event: SocialInteractionEvent): PayloadBuilder {\n  const { action, network, target } = event;\n  const eventJson = {\n    schema: 'iglu:com.snowplowanalytics.snowplow/social_interaction/jsonschema/1-0-0',\n    data: removeEmptyProperties({ action, network, target }),\n  };\n\n  return buildSelfDescribingEvent({ event: eventJson });\n}\n\n/**\n * An Add To Cart Event\n * For tracking users adding items from a cart\n * on an ecommerce site.\n */\nexport interface AddToCartEvent {\n  /** A Product Stock Keeping Unit (SKU) */\n  sku: string;\n  /** The number added to the cart */\n  quantity: number;\n  /** The name of the product */\n  name?: string;\n  /** The category of the product */\n  category?: string;\n  /** The price of the product */\n  unitPrice?: number;\n  /** The currency of the product */\n  currency?: string;\n}\n\n/**\n * Build a Add To Cart Event\n * For tracking users adding items from a cart\n * on an ecommerce site.\n *\n * @param event - Contains the properties for the Add To Cart event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildAddToCart(event: AddToCartEvent): PayloadBuilder {\n  const { sku, quantity, name, category, unitPrice, currency } = event;\n  return buildSelfDescribingEvent({\n    event: {\n      schema: 'iglu:com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0',\n      data: removeEmptyProperties({\n        sku,\n        quantity,\n        name,\n        category,\n        unitPrice,\n        currency,\n      }),\n    },\n  });\n}\n\n/**\n * An Remove To Cart Event\n * For tracking users removing items from a cart\n * on an ecommerce site.\n */\nexport interface RemoveFromCartEvent {\n  /** A Product Stock Keeping Unit (SKU) */\n  sku: string;\n  /** The number removed from the cart */\n  quantity: number;\n  /** The name of the product */\n  name?: string;\n  /** The category of the product */\n  category?: string;\n  /** The price of the product */\n  unitPrice?: number;\n  /** The currency of the product */\n  currency?: string;\n}\n\n/**\n * Build a Remove From Cart Event\n * For tracking users removing items from a cart\n * on an ecommerce site.\n *\n * @param event - Contains the properties for the Remove From Cart event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildRemoveFromCart(event: RemoveFromCartEvent): PayloadBuilder {\n  const { sku, quantity, name, category, unitPrice, currency } = event;\n  return buildSelfDescribingEvent({\n    event: {\n      schema: 'iglu:com.snowplowanalytics.snowplow/remove_from_cart/jsonschema/1-0-0',\n      data: removeEmptyProperties({\n        sku,\n        quantity,\n        name,\n        category,\n        unitPrice,\n        currency,\n      }),\n    },\n  });\n}\n\n/**\n * Represents either a Form Focus or Form Change event\n * When a user focuses on a form element or when a user makes a\n * change to a form element.\n */\nexport interface FormFocusOrChangeEvent {\n  /** The schema which will be used for the event */\n  schema: 'change_form' | 'focus_form';\n  /** The ID of the form which the element belongs to */\n  formId: string;\n  /** The element ID which the user is interacting with */\n  elementId: string;\n  /** The name of the node (\"INPUT\", \"TEXTAREA\", \"SELECT\") */\n  nodeName: string;\n  /** The value of the element at the time of the event firing */\n  value: string | null;\n  /** The type of element (e.g. \"datetime\", \"text\", \"radio\", etc.) */\n  type?: string | null;\n  /** The class names on the element */\n  elementClasses?: Array<string> | null;\n}\n\n/**\n * Build a Form Focus or Change Form Event based on schema property\n * When a user focuses on a form element or when a user makes a\n * change to a form element.\n *\n * @param event - Contains the properties for the Form Focus or Change Form event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildFormFocusOrChange(event: FormFocusOrChangeEvent): PayloadBuilder {\n  let event_schema = '';\n  const { schema, formId, elementId, nodeName, elementClasses, value, type } = event;\n  const event_data: Record<string, unknown> = { formId, elementId, nodeName, elementClasses, value };\n  if (schema === 'change_form') {\n    event_schema = 'iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0';\n    event_data.type = type;\n  } else if (schema === 'focus_form') {\n    event_schema = 'iglu:com.snowplowanalytics.snowplow/focus_form/jsonschema/1-0-0';\n    event_data.elementType = type;\n  }\n  return buildSelfDescribingEvent({\n    event: {\n      schema: event_schema,\n      data: removeEmptyProperties(event_data, { value: true }),\n    },\n  });\n}\n\n/**\n * A representation of an element within a form\n */\nexport type FormElement = {\n  /** The name of the element */\n  name: string;\n  /** The current value of the element */\n  value: string | null;\n  /** The name of the node (\"INPUT\", \"TEXTAREA\", \"SELECT\") */\n  nodeName: string;\n  /** The type of element (e.g. \"datetime\", \"text\", \"radio\", etc.) */\n  type?: string | null;\n};\n\n/**\n * A Form Submission Event\n * Used to track when a user submits a form\n */\nexport interface FormSubmissionEvent {\n  /** The ID of the form */\n  formId: string;\n  /** The class names on the form */\n  formClasses?: Array<string>;\n  /** The elements contained within the form */\n  elements?: Array<FormElement>;\n}\n\n/**\n * Build a Form Submission Event\n * Used to track when a user submits a form\n *\n * @param event - Contains the properties for the Form Submission event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildFormSubmission(event: FormSubmissionEvent): PayloadBuilder {\n  const { formId, formClasses, elements } = event;\n  return buildSelfDescribingEvent({\n    event: {\n      schema: 'iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0',\n      data: removeEmptyProperties({ formId, formClasses, elements }),\n    },\n  });\n}\n\n/**\n * A Site Search Event\n * Used when a user performs a search action on a page\n */\nexport interface SiteSearchEvent {\n  /** The terms of the search */\n  terms: Array<string>;\n  /** Any filters which have been applied to the search */\n  filters?: Record<string, string | boolean>;\n  /** The total number of results for this search */\n  totalResults?: number;\n  /** The number of visible results on the page */\n  pageResults?: number;\n}\n\n/**\n * Build a Site Search Event\n * Used when a user performs a search action on a page\n *\n * @param event - Contains the properties for the Site Search event\n * @returns PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track}\n */\nexport function buildSiteSearch(event: SiteSearchEvent): PayloadBuilder {\n  const { terms, filters, totalResults, pageResults } = event;\n  return buildSelfDescribingEvent({\n    event: {\n      schema: 'iglu:com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0',\n      data: removeEmptyProperties({ terms, filters, totalResults, pageResults }),\n    },\n  });\n}\n\n/**\n * A Consent Withdrawn Event\n * Used for tracking when a user withdraws their consent\n */\nexport interface ConsentWithdrawnEvent {\n  /** Specifies whether all consent should be withdrawn */\n  all: boolean;\n  /** Identifier for the document withdrawing consent */\n  id?: string;\n  /** Version of the document withdrawing consent */\n  version?: string;\n  /** Name of the document withdrawing consent */\n  name?: string;\n  /** Description of the document withdrawing consent */\n  description?: string;\n}\n\n/**\n * Build a Consent Withdrawn Event\n * Used for tracking when a user withdraws their consent\n *\n * @param event - Contains the properties for the Consent Withdrawn event\n * @returns An object containing the PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track} and a 'consent_document' context\n */\nexport function buildConsentWithdrawn(event: ConsentWithdrawnEvent) {\n  const { all, id, version, name, description } = event;\n  const documentJson = {\n    schema: 'iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0',\n    data: removeEmptyProperties({ id, version, name, description }),\n  };\n\n  return {\n    event: buildSelfDescribingEvent({\n      event: {\n        schema: 'iglu:com.snowplowanalytics.snowplow/consent_withdrawn/jsonschema/1-0-0',\n        data: removeEmptyProperties({\n          all: all,\n        }),\n      },\n    }),\n    context: [documentJson],\n  };\n}\n\n/**\n * A Consent Granted Event\n * Used for tracking when a user grants their consent\n */\nexport interface ConsentGrantedEvent {\n  /** Identifier for the document granting consent */\n  id: string;\n  /** Version of the document granting consent */\n  version: string;\n  /** Name of the document granting consent */\n  name?: string;\n  /** Description of the document granting consent */\n  description?: string;\n  /** When the consent expires */\n  expiry?: string;\n}\n\n/**\n * Build a Consent Granted Event\n * Used for tracking when a user grants their consent\n *\n * @param event - Contains the properties for the Consent Granted event\n * @returns An object containing the PayloadBuilder to be sent to {@link @snowplow/tracker-core#TrackerCore.track} and a 'consent_document' context\n */\nexport function buildConsentGranted(event: ConsentGrantedEvent) {\n  const { expiry, id, version, name, description } = event;\n  const documentJson = {\n    schema: 'iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0',\n    data: removeEmptyProperties({ id, version, name, description }),\n  };\n\n  return {\n    event: buildSelfDescribingEvent({\n      event: {\n        schema: 'iglu:com.snowplowanalytics.snowplow/consent_granted/jsonschema/1-0-0',\n        data: removeEmptyProperties({\n          expiry: expiry,\n        }),\n      },\n    }),\n    context: [documentJson],\n  };\n}\n\n/**\n * Returns a copy of a JSON with undefined and null properties removed\n *\n * @param event - JSON object to clean\n * @param exemptFields - Set of fields which should not be removed even if empty\n * @returns A cleaned copy of eventJson\n */\nfunction removeEmptyProperties(\n  event: Record<string, unknown>,\n  exemptFields: Record<string, boolean> = {}\n): Record<string, unknown> {\n  const ret: Record<string, unknown> = {};\n  for (const k in event) {\n    if (exemptFields[k] || (event[k] !== null && typeof event[k] !== 'undefined')) {\n      ret[k] = event[k];\n    }\n  }\n  return ret;\n}\n","/*\n * Copyright (c) 2022 Snowplow Analytics Ltd, 2010 Anthon Pang\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived from\n *    this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n * A library of helpful methods for Snowplow JavaScript Trackers\n * Contains Context Generation, Event Payload Builders, and Core Plugins.\n *\n * @packageDocumentation\n */\n\nimport { version as v } from '../package.json';\nexport const version = v;\n\nexport * from './contexts';\nexport * from './plugins';\nexport * from './payload';\nexport * from './core';\nexport * from './logger';\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","(function() {\n  var crypt = require('crypt'),\n      utf8 = require('charenc').utf8,\n      bin = require('charenc').bin,\n\n  // The core\n  sha1 = function (message) {\n    // Convert to byte array\n    if (message.constructor == String)\n      message = utf8.stringToBytes(message);\n    else if (typeof Buffer !== 'undefined' && typeof Buffer.isBuffer == 'function' && Buffer.isBuffer(message))\n      message = Array.prototype.slice.call(message, 0);\n    else if (!Array.isArray(message))\n      message = message.toString();\n\n    // otherwise assume byte array\n\n    var m  = crypt.bytesToWords(message),\n        l  = message.length * 8,\n        w  = [],\n        H0 =  1732584193,\n        H1 = -271733879,\n        H2 = -1732584194,\n        H3 =  271733878,\n        H4 = -1009589776;\n\n    // Padding\n    m[l >> 5] |= 0x80 << (24 - l % 32);\n    m[((l + 64 >>> 9) << 4) + 15] = l;\n\n    for (var i = 0; i < m.length; i += 16) {\n      var a = H0,\n          b = H1,\n          c = H2,\n          d = H3,\n          e = H4;\n\n      for (var j = 0; j < 80; j++) {\n\n        if (j < 16)\n          w[j] = m[i + j];\n        else {\n          var n = w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16];\n          w[j] = (n << 1) | (n >>> 31);\n        }\n\n        var t = ((H0 << 5) | (H0 >>> 27)) + H4 + (w[j] >>> 0) + (\n                j < 20 ? (H1 & H2 | ~H1 & H3) + 1518500249 :\n                j < 40 ? (H1 ^ H2 ^ H3) + 1859775393 :\n                j < 60 ? (H1 & H2 | H1 & H3 | H2 & H3) - 1894007588 :\n                         (H1 ^ H2 ^ H3) - 899497514);\n\n        H4 = H3;\n        H3 = H2;\n        H2 = (H1 << 30) | (H1 >>> 2);\n        H1 = H0;\n        H0 = t;\n      }\n\n      H0 += a;\n      H1 += b;\n      H2 += c;\n      H3 += d;\n      H4 += e;\n    }\n\n    return [H0, H1, H2, H3, H4];\n  },\n\n  // Public API\n  api = function (message, options) {\n    var digestbytes = crypt.wordsToBytes(sha1(message));\n    return options && options.asBytes ? digestbytes :\n        options && options.asString ? bin.bytesToString(digestbytes) :\n        crypt.bytesToHex(digestbytes);\n  };\n\n  api._blocksize = 16;\n  api._digestsize = 20;\n\n  module.exports = api;\n})();\n","\"use strict\";","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","import \"../lib/mux-analytics\";\n\nimport { Store } from \"../helpers/seven-store\";\nimport { Messengers } from \"../helpers/Messengers\";\nimport { PlayerStates } from \"../helpers/utils\";\n\n// custom javascript implementation\n// https://docs-legacy.mux.com/guides/data/custom-javascript-integration\n\nclass MuxClient {\n    envKey = null;\n    playbackData = null;\n    playbackSource = null;\n    playerState = null;\n    muxPlayerId = \"mux-mle\";\n    currentTimeMs = 0;\n    hasPlayed = false;\n    currentAd = null;\n\n    listeners = [];\n\n    init = async () => {\n        if (!window.mux) {\n            console.warn(\"[acc] No mux analytics on window\");\n            return;\n        }\n        const muxEnabled = Store.AppConfig?.config?.mux?.MUX_ENABLED;\n        const muxKey = Store.AppConfig?.config?.mux?.MUX_PROPERTY_KEY;\n        if (muxEnabled && muxKey) {\n            this.envKey = muxKey;\n            this.removeEventListeners(); // in case monitoringTeardown isn't called\n            this.addEventListeners();\n        } else {\n            console.warn(\n                \"[acc] No mux key or enabled flag in config, doing nothing\"\n            );\n        }\n    };\n\n    addEventListeners = () => {\n        this.listeners = [\n            ...this.listeners,\n            Messengers.playbackData$.addReceiver(\n                this.onPlaybackDataReceived,\n                true\n            ),\n            Messengers.playerState$.addReceiver(this.onPlayerStateChange),\n            Messengers.timeUpdate$.addReceiver(this.onTimeUpdate),\n            Messengers.playerError$.addReceiver(this.onPlayerError),\n            Messengers.currentAd$.addReceiver(this.onAdChange),\n            Messengers.appTeardown$.addReceiver(this.onAppTeardown),\n        ];\n    };\n\n    removeEventListeners = () => {\n        this.listeners.forEach((receiver) => receiver.unlisten());\n        this.listeners = [];\n    };\n\n    muxEmit = (eventName, data) => {\n        if (!window.mux) {\n            console.warn(\"[acc] No mux analytics library on window\");\n            return;\n        }\n        window.mux.emit(this.muxPlayerId, eventName, data);\n    };\n\n    onPlaybackDataReceived = (playbackData) => {\n        if (!window.mux || !playbackData) return;\n\n        // start mux once\n        this.playbackData = playbackData.playbackResponse;\n        this.playbackSource = playbackData.matchingSource;\n\n        // reset things\n        this.hasPlayed = false;\n        this.currentTimeMs = 0;\n\n        const initTime = Date.now();\n        const region = Store.RegionData.regionKey;\n\n        const muxOptions = {\n            debug: false,\n            data: {\n                env_key: this.envKey,\n                player_init_time: initTime,\n                viewer_user_id: Store.UserInfo.subject,\n                sub_property_id: \"7mle\",\n                player_name: \"7mle Foxtel\",\n                player_version: `7mle Foxtel ${Store.appVersion}`,\n                video_id: this.playbackData?.media.id,\n                video_stream_type: \"live\",\n                video_content_type: \"linear\",\n                video_title: `${this.playbackData?.media.name}|${region}`,\n\n                page_type: \"watchpage\",\n                experiment_name: \"Connected TV\",\n                video_language_code: \"en\",\n                video_series:\n                    this.playbackData?.media?.custom_fields.content_showname ||\n                    \"\",\n                video_cdn: this.playbackData?.media?.stream_type_cdn || \"\",\n                video_duration: this.playbackData?.media.duration,\n                video_stream_type: \"live\",\n                video_content_type: \"linear\",\n                viewer_device_name: `Foxtel-${Store.devicePlatform}`,\n                viewer_device_category: \"Foxtel\",\n                viewer_device_model: Store.deviceModel || \"\",\n            },\n            getPlayheadTime: () => {\n                return this.currentTimeMs;\n            },\n            getStateData: () => {\n                return {\n                    player_is_paused: this.playerState !== PlayerStates.Playing, // Return whether the player is paused, stopped, or complete (i.e. in any state that is not actively trying to play back the video)\n                    player_width: window.innerWidth, // Return the width, in pixels, of the player on screen\n                    player_height: window.innerHeight, // Return the height, in pixels, of the player on screen\n                    player_is_fullscreen: true, // Return true if the player is fullscreen\n                    player_autoplay_on: true, // Return true if the player is autoplay\n                    video_source_url: this.playbackSource.src, // Return the playback URL (i.e. URL to master manifest or MP4 file)\n                };\n            },\n        };\n\n        console.log(\n            \"[acc] MUX Client: init monitor\",\n            muxOptions.data.player_name\n        );\n        window.mux.init(this.muxPlayerId, muxOptions);\n    };\n\n    onPlayerStateChange = (playerState) => {\n        const prevState = this.playerState;\n        this.playerState = playerState;\n        if (playerState === PlayerStates.Playing) {\n            if (!this.hasPlayed) {\n                this.muxEmit(\"playerready\");\n                if (prevState === PlayerStates.Seeking) {\n                    // simulate seeked event since it is not defined\n                    // but required by mux\n                    this.muxEmit(\"seeked\");\n                }\n                this.muxEmit(\"play\");\n                this.hasPlayed = true;\n            }\n            this.muxEmit(\"playing\");\n        } else if (playerState === PlayerStates.Seeking) {\n            this.muxEmit(\"seeking\");\n        }\n    };\n\n    onTimeUpdate = (time) => {\n        this.currentTimeMs = time * 1000;\n        this.muxEmit(\"timeupdate\", {\n            player_playhead_time: this.currentTimeMs,\n        });\n    };\n\n    onAdChange = (ad) => {\n        const prevAd = this.currentAd;\n        this.currentAd = ad;\n        if (prevAd) {\n            this.muxEmit(\"adended\");\n        }\n        if (this.currentAd) {\n            if (!prevAd) {\n                this.muxEmit(\"adbreakstart\");\n            }\n            this.muxEmit(\"adplay\");\n            this.muxEmit(\"adplaying\");\n        } else {\n            if (prevAd) {\n                this.muxEmit(\"adbreakend\");\n            }\n        }\n    };\n\n    onPlayerError = (error) => {\n        if (error) {\n            this.muxEmit(\"error\", {\n                player_error_code: -1,\n                player_error_message: error.message,\n            });\n        }\n    };\n\n    onAppTeardown = () => {\n        if (this.hasPlayed) {\n            this.muxEmit(\"destroy\");\n        }\n        this.removeEventListeners();\n        this.currentTimeMs = 0;\n        this.hasPlayed = false;\n        this.currentAd = null;\n        this.playbackData = null;\n        this.playbackSource = null;\n        this.playerState = null;\n    };\n}\n\nexport default new MuxClient();\n","/*!\n * mux-embed\n * @version 4.15.0\n * @copyright 2022 Mux, Inc\n */\n!function(){var e,t;e=this,t=function(){return function(){var e={80:function(e,t,r){e.exports=r(728).default},728:function(e,t,r){\"use strict\";r.d(t,{default:function(){return Vt}});var n=r(48),a=r.n(n),i=function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return(\"x\"===e?t:3&t|8).toString(16)}))},o=function(){return(\"000000\"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},s=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||o()),e.muxId):e},u=function(e){var t;e&&void 0!==e.nodeName?e=s(t=e):t=document.querySelector(e);var r=t&&t.nodeName?t.nodeName.toLowerCase():\"\";return[t,e,r]},l=r(640),c=r.n(l),d=c().methodFactory;c().methodFactory=function(e,t,r){var n=d(e,t,r);return function(){for(var e=[\"[mux]\"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},c().setLevel(c().getLevel());var f=c();function p(){return\"1\"===(a().doNotTrack||a().navigator&&a().navigator.doNotTrack)}var h={now:function(){var e=a().performance,t=e&&e.timing,r=t&&t.navigationStart,n=\"number\"==typeof r&&\"function\"==typeof e.now?r+e.now():Date.now();return Math.round(n)}},_=r(678),v=r.n(_),m=function(e){return y(e)[0]},y=function(e){if(\"string\"!=typeof e||\"\"===e)return[\"localhost\"];var t,r=(e.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/)||[])[4];return r&&(t=(r.match(/[^\\.]+\\.[^\\.]+$/)||[])[0]),[r,t]},b={exists:function(){var e=a().performance;return void 0!==(e&&e.timing)},domContentLoadedEventEnd:function(){var e=a().performance,t=e&&e.timing;return t&&t.domContentLoadedEventEnd},navigationStart:function(){var e=a().performance,t=e&&e.timing;return t&&t.navigationStart}};function g(e,t,r){r=void 0===r?1:r,e[t]=e[t]||0,e[t]+=r}var w=[\"x-cdn\",\"content-type\",\"x-request-id\"];function T(e){var t={};return(e=e||\"\").trim().split(/[\\r\\n]+/).forEach((function(e){if(e){var r=e.split(\": \"),n=r.shift();n&&(w.indexOf(n.toLowerCase())>=0||0===n.toLowerCase().indexOf(\"x-litix-\"))&&(t[n]=r.join(\": \"))}})),t}var k=function(e){var t={};for(var r in e){var n=e[r];-1!==n[\"DATA-ID\"].search(\"io.litix.data.\")&&(t[n[\"DATA-ID\"].replace(\"io.litix.data.\",\"\")]=n.VALUE)}return t};function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){if(!e)return{};var t=b.navigationStart(),r=e.loading,n=r?r.start:e.trequest,a=r?r.first:e.tfirst,i=r?r.end:e.tload;return{bytesLoaded:e.total,requestStart:Math.round(t+n),responseStart:Math.round(t+a),responseEnd:Math.round(t+i)}},O=function(e){if(e&&\"function\"==typeof e.getAllResponseHeaders)return T(e.getAllResponseHeaders())},q=function(e,t){if(!e||\"function\"!=typeof e.getRequests)return{};var r=e.getRequests({state:\"executed\"});if(0===r.length)return{};var n,a=r[r.length-1],i=m(a.url),o=a.url,s=a.bytesLoaded,u=new Date(a.requestStartDate).getTime(),l=new Date(a.firstByteDate).getTime(),c=new Date(a.requestEndDate).getTime(),d=isNaN(a.duration)?0:a.duration,f=\"function\"==typeof t.getMetricsFor?t.getMetricsFor(a.mediaType).HttpList:t.getDashMetrics().getHttpRequests(a.mediaType);return f.length>0&&(n=T(f[f.length-1]._responseHeaders||\"\")),{requestStart:u,requestResponseStart:l,requestResponseEnd:c,requestBytesLoaded:s,requestResponseHeaders:n,requestMediaDuration:d,requestHostname:i,requestUrl:o}},P=function(e,t){var r=t.getQualityFor(e),n=t.getCurrentTrackFor(e).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}};function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var R=0,I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,n;return t=e,r=[{key:\"on\",value:function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++R,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t}},{key:\"off\",value:function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach((function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)}))}},{key:\"one\",value:function(e,t,r){var n=this;t._eventEmitterGuid=t._eventEmitterGuid||++R;var a=function a(){n.off(e,a),t.apply(r||this,arguments)};a._eventEmitterGuid=t._eventEmitterGuid,this.on(e,a)}},{key:\"emit\",value:function(e,t){var r=this;if(this._listeners){t=t||{};var n=this._listeners[\"before*\"]||[],a=this._listeners[e]||[],i=this._listeners[\"after\"+e]||[],o=function(t,n){(t=t.slice()).forEach((function(t){t.call(r,{type:e},n)}))};o(n,t),o(a,t),o(i,t)}}}],r&&A(t.prototype,r),n&&A(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}(),L=I;function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var N=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pm=t,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,t.on(\"playing\",(function(){r._playheadShouldBeProgressing=!0})),t.on(\"play\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"playing\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"adbreakstart\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"adplay\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"adplaying\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"seeking\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"devicewake\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"viewstart\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"rebufferstart\",this._startPlaybackHeartbeatInterval.bind(this)),t.on(\"pause\",this._stopPlaybackHeartbeatInterval.bind(this)),t.on(\"ended\",this._stopPlaybackHeartbeatInterval.bind(this)),t.on(\"viewend\",this._stopPlaybackHeartbeatInterval.bind(this)),t.on(\"error\",this._stopPlaybackHeartbeatInterval.bind(this)),t.on(\"aderror\",this._stopPlaybackHeartbeatInterval.bind(this)),t.on(\"adpause\",this._stopPlaybackHeartbeatInterval.bind(this)),t.on(\"adended\",this._stopPlaybackHeartbeatInterval.bind(this)),t.on(\"adbreakend\",this._stopPlaybackHeartbeatInterval.bind(this)),t.on(\"seeked\",(function(){t.data.player_is_paused?r._stopPlaybackHeartbeatInterval():r._startPlaybackHeartbeatInterval()})),t.on(\"timeupdate\",(function(){null!==r._playbackHeartbeatInterval&&t.emit(\"playbackheartbeat\")})),t.on(\"devicesleep\",(function(e,n){null!==r._playbackHeartbeatInterval&&(a().clearInterval(r._playbackHeartbeatInterval),t.emit(\"playbackheartbeatend\",{viewer_time:n.viewer_time}),r._playbackHeartbeatInterval=null)}))}var t,r,n;return t=e,(r=[{key:\"_startPlaybackHeartbeatInterval\",value:function(){var e=this;null===this._playbackHeartbeatInterval&&(this.pm.emit(\"playbackheartbeat\"),this._playbackHeartbeatInterval=a().setInterval((function(){e.pm.emit(\"playbackheartbeat\")}),this.pm.playbackHeartbeatTime))}},{key:\"_stopPlaybackHeartbeatInterval\",value:function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(a().clearInterval(this._playbackHeartbeatInterval),this.pm.emit(\"playbackheartbeatend\"),this._playbackHeartbeatInterval=null)}}])&&j(t.prototype,r),n&&j(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var M=H((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.on(\"viewinit\",(function(){r.viewErrored=!1})),t.on(\"error\",(function(){try{var e=t.errorTranslator({player_error_code:t.data.player_error_code,player_error_message:t.data.player_error_message});e?(t.data.player_error_code=e.player_error_code,t.data.player_error_message=e.player_error_message,r.viewErrored=!0):(delete t.data.player_error_code,delete t.data.player_error_message)}catch(e){t.mux.log.warn(\"Exception in error translator callback.\",e),r.viewErrored=!0}}))}));function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pm=t,this._watchTimeTrackerLastCheckedTime=null,t.on(\"playbackheartbeat\",this._updateWatchTime.bind(this)),t.on(\"playbackheartbeatend\",this._clearWatchTimeState.bind(this))}var t,r,n;return t=e,(r=[{key:\"_updateWatchTime\",value:function(e,t){var r=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=r),g(this.pm.data,\"view_watch_time\",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r}},{key:\"_clearWatchTimeState\",value:function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null}}])&&B(t.prototype,r),n&&B(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pm=t,this._playbackTimeTrackerLastPlayheadPosition=-1,t.on(\"playbackheartbeat\",this._updatePlaybackTime.bind(this)),t.on(\"playbackheartbeatend\",this._clearPlaybackTimeState.bind(this)),t.on(\"seeking\",this._clearPlaybackTimeState.bind(this))}var t,r,n;return t=e,(r=[{key:\"_updatePlaybackTime\",value:function(){var e=this.pm.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&g(this.pm.data,\"view_content_playback_time\",t)}this._playbackTimeTrackerLastPlayheadPosition=e}},{key:\"_clearPlaybackTimeState\",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}])&&F(t.prototype,r),n&&F(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pm=t;var r=this._updatePlayheadTime.bind(this);t.on(\"playbackheartbeat\",r),t.on(\"playbackheartbeatend\",r),t.on(\"timeupdate\",r),t.on(\"destroy\",(function(){t.off(\"timeupdate\",r)}))}var t,r,n;return t=e,(r=[{key:\"_updateMaxPlayheadPosition\",value:function(){this.pm.data.view_max_playhead_position=void 0===this.pm.data.view_max_playhead_position?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:\"_updatePlayheadTime\",value:function(e,t){var r=this,n=function(){r.pm.currentFragmentPDT&&r.pm.currentFragmentStart&&(r.pm.data.player_program_time=r.pm.currentFragmentPDT+r.pm.data.player_playhead_time-r.pm.currentFragmentStart)};if(t&&t.player_playhead_time)this.pm.data.player_playhead_time=t.player_playhead_time,n(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var a=this.pm.getPlayheadTime();void 0!==a&&(this.pm.data.player_playhead_time=a,n(),this._updateMaxPlayheadPosition())}}}])&&W(t.prototype,r),n&&W(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t,r){return t&&V(e.prototype,t),r&&V(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var z=J((function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),!t.disableRebufferTracking){var r,n=function(e,t){a(t),r=void 0},a=function(e){if(r){var n=e.viewer_time-r;g(t.data,\"view_rebuffer_duration\",n),r=e.viewer_time}t.data.view_watch_time>=0&&t.data.view_rebuffer_count>0&&(t.data.view_rebuffer_frequency=t.data.view_rebuffer_count/t.data.view_watch_time,t.data.view_rebuffer_percentage=t.data.view_rebuffer_duration/t.data.view_watch_time)};t.on(\"playbackheartbeat\",(function(e,t){return a(t)})),t.on(\"rebufferstart\",(function(e,a){r||(g(t.data,\"view_rebuffer_count\",1),r=a.viewer_time,t.one(\"rebufferend\",n))})),t.on(\"viewinit\",(function(){r=void 0,t.off(\"rebufferend\",n)}))}}));function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var X=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pm=t,t.disableRebufferTracking||t.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,t.on(\"playbackheartbeat\",this._checkIfRebuffering.bind(this)),t.on(\"playbackheartbeatend\",this._cleanupRebufferTracker.bind(this)),t.on(\"seeking\",(function(){r._cleanupRebufferTracker(null,{viewer_time:h.now()})})))}var t,r,n;return t=e,r=[{key:\"_checkIfRebuffering\",value:function(e,t){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else if(null!==this._lastCheckedTime)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;\"number\"==typeof this.pm.sustainedRebufferThreshold&&r>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit(\"rebufferstart\",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=t.viewer_time}else this._cleanupRebufferTracker(e,t,!0);else this._prepareRebufferTrackerState(t.viewer_time)}},{key:\"_clearRebufferTrackerState\",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:\"_prepareRebufferTrackerState\",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:\"_cleanupRebufferTracker\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit(\"rebufferend\",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return;var n=this.pm.data.player_playhead_time-this._lastPlayheadTime,a=t.viewer_time-this._lastPlayheadTimeUpdatedTime;\"number\"==typeof this.pm.minimumRebufferDuration&&n>0&&a-n>this.pm.minimumRebufferDuration&&(this.pm.emit(\"rebufferstart\",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit(\"rebufferend\",{viewer_time:this._lastPlayheadTimeUpdatedTime+a-n}))}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()}}],r&&K(t.prototype,r),n&&K(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}(),Y=X;function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Z=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pm=t,t.on(\"viewinit\",(function(){var e=t.data,n=e.view_id;if(!e.view_program_changed){var a=function(e,a){var i=a.viewer_time;\"playing\"===e.type&&void 0===t.data.view_time_to_first_frame?r.calculateTimeToFirstFrame(i||h.now(),n):\"adplaying\"!==e.type||void 0!==t.data.view_time_to_first_frame&&!r._inPrerollPosition()||r.calculateTimeToFirstFrame(i||h.now(),n)};t.one(\"playing\",a),t.one(\"adplaying\",a),t.one(\"viewend\",(function(){t.off(\"playing\",a),t.off(\"adplaying\",a)}))}}))}var t,r,n;return t=e,(r=[{key:\"_inPrerollPosition\",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:\"calculateTimeToFirstFrame\",value:function(e,t){t===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&$(t.prototype,r),n&&$(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e,t,r){return t&&ee(e.prototype,t),r&&ee(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var re=te((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.on(\"viewinit\",(function(){r._lastPlayheadPosition=-1})),[\"pause\",\"rebufferstart\",\"seeking\",\"error\",\"adbreakstart\",\"hb\"].forEach((function(e){t.on(e,(function(){if(r._lastPlayheadPosition>=0&&t.data.player_playhead_time>=0&&r._lastPlayerWidth>=0&&r._lastSourceWidth>0&&r._lastPlayerHeight>=0&&r._lastSourceHeight>0){var e=t.data.player_playhead_time-r._lastPlayheadPosition;if(e<0)return void(r._lastPlayheadPosition=-1);var n=Math.min(r._lastPlayerWidth/r._lastSourceWidth,r._lastPlayerHeight/r._lastSourceHeight),a=Math.max(0,n-1),i=Math.max(0,1-n);t.data.view_max_upscale_percentage=Math.max(t.data.view_max_upscale_percentage||0,a),t.data.view_max_downscale_percentage=Math.max(t.data.view_max_downscale_percentage||0,i),g(t.data,\"view_total_content_playback_time\",e),g(t.data,\"view_total_upscaling\",a*e),g(t.data,\"view_total_downscaling\",i*e)}r._lastPlayheadPosition=-1}))})),[\"playing\",\"hb\"].forEach((function(e){t.on(e,(function(){r._lastPlayheadPosition=t.data.player_playhead_time,r._lastPlayerWidth=t.data.player_width,r._lastPlayerHeight=t.data.player_height,r._lastSourceWidth=t.data.video_source_width,r._lastSourceHeight=t.data.video_source_height}))}))}));function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t,r){return t&&ne(e.prototype,t),r&&ne(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var ie=ae((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.isSeeking=!1,t.on(\"seeking\",(function(e,n){v()(t.data,n),r._lastSeekingTime=h.now(),!1===r.isSeeking&&(r.isSeeking=!0,t.send(\"seeking\"))})),t.on(\"seeked\",(function(){r.isSeeking=!1;var e=r._lastSeekingTime||h.now(),n=h.now()-e;g(t.data,\"view_seek_count\",1),g(t.data,\"view_seek_duration\",n);var a=t.data.view_max_seek_time||0;t.data.view_max_seek_time=Math.max(a,n)})),t.on(\"viewend\",(function(){r.isSeeking=!1}))}));function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var le=function(e,t){e.push(t),e.sort((function(e,t){return e.viewer_time-t.viewer_time}))},ce=[\"adbreakstart\",\"adrequest\",\"adresponse\",\"adplay\",\"adplaying\",\"adpause\",\"adended\",\"adbreakend\",\"aderror\"],de=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pm=t,t.on(\"viewinit\",(function(){r.isAdBreak=!1,r._currentAdRequestNumber=0,r._currentAdResponseNumber=0,r._adRequests=[],r._adResponses=[],r._adHasPlayed=!1,r._wouldBeNewAdPlay=!0,r._prerollPlayTime=void 0})),ce.forEach((function(e){return t.on(e,r._updateAdData.bind(r))}));var n=function(){r.isAdBreak=!1};t.on(\"adbreakstart\",(function(){r.isAdBreak=!0})),t.on(\"play\",n),t.on(\"playing\",n),t.on(\"viewend\",n),t.on(\"adrequest\",(function(e,n){n=v()({ad_request_id:\"generatedAdRequestId\"+r._currentAdRequestNumber++},n),le(r._adRequests,n),g(t.data,\"view_ad_request_count\"),r.inPrerollPosition()&&(t.data.view_preroll_requested=!0,r._adHasPlayed||g(t.data,\"view_preroll_request_count\"))})),t.on(\"adresponse\",(function(e,n){n=v()({ad_request_id:\"generatedAdRequestId\"+r._currentAdResponseNumber++},n),le(r._adResponses,n);var a=r.findAdRequest(n.ad_request_id);a&&g(t.data,\"view_ad_request_time\",Math.max(0,n.viewer_time-a.viewer_time))})),t.on(\"adplay\",(function(e,n){r._adHasPlayed=!0,r._wouldBeNewAdPlay&&(r._wouldBeNewAdPlay=!1,g(t.data,\"view_ad_played_count\")),r.inPrerollPosition()&&!t.data.view_preroll_played&&(t.data.view_preroll_played=!0,r._adRequests.length>0&&(t.data.view_preroll_request_time=Math.max(0,n.viewer_time-r._adRequests[0].viewer_time)),t.data.view_start&&(t.data.view_startup_preroll_request_time=Math.max(0,n.viewer_time-t.data.view_start)),r._prerollPlayTime=n.viewer_time)})),t.on(\"adplaying\",(function(e,n){r.inPrerollPosition()&&void 0===t.data.view_preroll_load_time&&void 0!==r._prerollPlayTime&&(t.data.view_preroll_load_time=n.viewer_time-r._prerollPlayTime,t.data.view_startup_preroll_load_time=n.viewer_time-r._prerollPlayTime)})),t.on(\"adended\",(function(){r._wouldBeNewAdPlay=!0})),t.on(\"aderror\",(function(){r._wouldBeNewAdPlay=!0}))}var t,r,n;return t=e,(r=[{key:\"inPrerollPosition\",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:\"findAdRequest\",value:function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]}},{key:\"_updateAdData\",value:function(e,t){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=oe(y(t.ad_tag_url),2),n=r[0],a=r[1];this.pm.data.view_preroll_ad_tag_domain=a,this.pm.data.view_preroll_ad_tag_hostname=n}if(!this.pm.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var i=oe(y(t.ad_asset_url),2),o=i[0],s=i[1];this.pm.data.view_preroll_ad_asset_domain=s,this.pm.data.view_preroll_ad_asset_hostname=o}}}}])&&ue(t.prototype,r),n&&ue(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t,r){return t&&fe(e.prototype,t),r&&fe(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var he=pe((function e(t){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(){t.disableRebufferTracking||r&&(g(t.data,\"view_waiting_rebuffer_duration\",h.now()-r),r=!1,a().clearInterval(n))},o=!1,s=function(){o=!1,i()};t.on(\"waiting\",(function(){o&&(t.disableRebufferTracking||(g(t.data,\"view_waiting_rebuffer_count\",1),r=h.now(),n=a().setInterval((function(){if(r){var e=h.now();g(t.data,\"view_waiting_rebuffer_duration\",e-r),r=e}}),250)))})),t.on(\"playing\",(function(){i(),o=!0})),t.on(\"pause\",s),t.on(\"seeking\",s)}));function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ve(e,t,r){return t&&_e(e.prototype,t),r&&_e(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var me=ve((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(){r.lastWallClockTime=h.now(),t.on(\"before*\",a)},a=function(e){var n=h.now(),a=r.lastWallClockTime;r.lastWallClockTime=n,n-a>3e4&&(t.emit(\"devicesleep\",{viewer_time:a}),v()(t.data,{viewer_time:a}),t.send(\"devicesleep\"),t.emit(\"devicewake\",{viewer_time:n}),v()(t.data,{viewer_time:n}),t.send(\"devicewake\"))};t.one(\"playbackheartbeat\",n),t.on(\"playbackheartbeatend\",(function(){t.off(\"before*\",a),t.one(\"playbackheartbeat\",n)}))})),ye=r(375),be=r(655),ge=r.n(be),we=\"muxData\",Te=function(){var e;try{e=ye.parse(ge().get(we)||\"\")}catch(t){e={}}return e},ke=function(e){try{ge().set(we,ye.stringify(e),{expires:7300})}catch(e){}},Ee=function(){var e=Te();return e.mux_viewer_id=e.mux_viewer_id||i(),e.msn=e.msn||Math.random(),ke(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}};function xe(e,t){var r=t.beaconCollectionDomain,n=t.beaconDomain;if(r)return\"https://\"+r;var a=n||\"litix.io\";return(e=e||\"inferred\").match(/^[a-z0-9]+$/)?\"https://\"+e+\".\"+a:\"https://img.litix.io/a.gif\"}var De=function(){var e;switch(Se()){case\"cellular\":e=\"cellular\";break;case\"ethernet\":e=\"wired\";break;case\"wifi\":e=\"wifi\";break;case void 0:break;default:e=\"other\"}return e},Se=function(){var e=a().navigator,t=e&&(e.connection||e.mozConnection||e.webkitConnection);return t&&t.type};De.getConnectionFromAPI=Se;var Oe=De,qe=Ae({a:\"env\",b:\"beacon\",c:\"custom\",d:\"ad\",e:\"event\",f:\"experiment\",i:\"internal\",m:\"mux\",n:\"response\",p:\"player\",q:\"request\",r:\"retry\",s:\"session\",t:\"timestamp\",u:\"viewer\",v:\"video\",w:\"page\",x:\"view\",y:\"sub\"}),Pe=Ae({ad:\"ad\",ag:\"aggregate\",ap:\"api\",al:\"application\",ar:\"architecture\",as:\"asset\",au:\"autoplay\",av:\"average\",bi:\"bitrate\",br:\"break\",bw:\"browser\",by:\"bytes\",ca:\"cached\",cb:\"cancel\",cd:\"code\",cg:\"category\",ch:\"changed\",cn:\"config\",co:\"count\",ce:\"counter\",cp:\"complete\",cr:\"creative\",ct:\"content\",cu:\"current\",cx:\"connection\",dg:\"downscaling\",dm:\"domain\",dn:\"cdn\",do:\"downscale\",du:\"duration\",dv:\"device\",ec:\"encoding\",ed:\"edge\",en:\"end\",eg:\"engine\",em:\"embed\",er:\"error\",es:\"errorcode\",et:\"errortext\",ee:\"event\",ev:\"events\",ex:\"expires\",ep:\"experiments\",fi:\"first\",fm:\"family\",ft:\"format\",fp:\"fps\",fq:\"frequency\",fr:\"frame\",fs:\"fullscreen\",hb:\"holdback\",he:\"headers\",ho:\"host\",hn:\"hostname\",ht:\"height\",id:\"id\",ii:\"init\",in:\"instance\",ip:\"ip\",is:\"is\",ke:\"key\",la:\"language\",lb:\"labeled\",le:\"level\",li:\"live\",ld:\"loaded\",lo:\"load\",ls:\"lists\",lt:\"latency\",ma:\"max\",md:\"media\",me:\"message\",mf:\"manifest\",mi:\"mime\",ml:\"midroll\",mm:\"min\",mn:\"manufacturer\",mo:\"model\",mx:\"mux\",ne:\"newest\",nm:\"name\",no:\"number\",on:\"on\",os:\"os\",pa:\"paused\",pb:\"playback\",pd:\"producer\",pe:\"percentage\",pf:\"played\",pg:\"program\",ph:\"playhead\",pi:\"plugin\",pl:\"preroll\",pn:\"playing\",po:\"poster\",pr:\"preload\",ps:\"position\",pt:\"part\",py:\"property\",ra:\"rate\",rd:\"requested\",re:\"rebuffer\",rf:\"rendition\",rm:\"remote\",ro:\"ratio\",rp:\"response\",rq:\"request\",rs:\"requests\",sa:\"sample\",se:\"session\",sk:\"seek\",sm:\"stream\",so:\"source\",sq:\"sequence\",sr:\"series\",st:\"start\",su:\"startup\",sv:\"server\",sw:\"software\",ta:\"tag\",tc:\"tech\",te:\"text\",tg:\"target\",th:\"throughput\",ti:\"time\",tl:\"total\",to:\"to\",tt:\"title\",ty:\"type\",ug:\"upscaling\",up:\"upscale\",ur:\"url\",us:\"user\",va:\"variant\",vd:\"viewed\",vi:\"video\",ve:\"version\",vw:\"view\",vr:\"viewer\",wd:\"width\",wa:\"watch\",wt:\"waiting\"});function Ae(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Re(e){var t={},r={};return Object.keys(e).forEach((function(n){var a=!1;if(e.hasOwnProperty(n)&&void 0!==e[n]){var i=n.split(\"_\"),o=i[0],s=qe[o];s||(f.info(\"Data key word `\"+i[0]+\"` not expected in \"+n),s=o+\"_\"),i.splice(1).forEach((function(e){\"url\"===e&&(a=!0),Pe[e]?s+=Pe[e]:Number(e)&&Math.floor(Number(e))===Number(e)?s+=e:(f.info(\"Data key word `\"+e+\"` not expected in \"+n),s+=\"_\"+e+\"_\")})),a?r[s]=e[n]:t[s]=e[n]}})),v()(t,r)}var Ie={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},Le=[\"hb\",\"requestcompleted\",\"requestfailed\",\"requestcanceled\"],je=\"https://img.litix.io\",Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._beaconUrl=e||je,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=v()({},Ie,t)};Ne.prototype.queueEvent=function(e,t){var r=v()({},t);return(this._eventQueue.length<=this._options.maxQueueLength||\"eventrateexceeded\"===e)&&(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},Ne.prototype.flushEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&1===this._eventQueue.length?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},Ne.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),a().clearTimeout(this._sendTimeout)},Ne.prototype._clearBeaconQueue=function(){var e=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,t=this._eventQueue.slice(e);e>0&&v()(t[t.length-1],Re({mux_view_message:\"event queue truncated\"}));var r=this._createPayload(t);Ce(this._beaconUrl,r,!0,(function(){}))},Ne.prototype._sendBeaconQueue=function(){var e=this;if(!this._postInFlight){var t=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var r=this._createPayload(t),n=h.now();Ce(this._beaconUrl,r,!1,(function(r,a){a?(e._eventQueue=t.concat(e._eventQueue),e._failureCount+=1,f.info(\"Error sending beacon: \"+a)):e._failureCount=0,e._roundTripTime=h.now()-n,e._postInFlight=!1}))}},Ne.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},Ne.prototype._startBeaconSending=function(){var e=this;a().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=a().setTimeout((function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()}),this._getNextBeaconTime()))},Ne.prototype._createPayload=function(e){var t,r,n,a=this,i={transmission_timestamp:Math.round(h.now())};this._roundTripTime&&(i.rtt_ms=Math.round(this._roundTripTime));var o=function(){t=JSON.stringify({metadata:i,events:r||e}),n=t.length/1024},s=function(){return n<=a._options.maxPayloadKBSize};return o(),s()||(f.info(\"Payload size is too big (\"+n+\" kb). Removing unnecessary events.\"),r=e.filter((function(e){return-1===Le.indexOf(e.e)})),o()),s()||(f.info(\"Payload size still too big (\"+n+\" kb). Cropping fields..\"),r.forEach((function(e){for(var t in e){var r=e[t];\"string\"==typeof r&&r.length>51200&&(e[t]=r.substring(0,51200))}})),o()),t};var Ce=function(e,t,r,n){if(r&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(e,t))n();else if(a().fetch)a().fetch(e,{method:\"POST\",body:t,headers:{\"Content-Type\":\"text/plain\"},keepalive:!0}).then((function(e){return n(null,e.ok?null:\"Error\")})).catch((function(e){return n(null,e)}));else{if(a().XMLHttpRequest){var i=new(a().XMLHttpRequest);return i.onreadystatechange=function(){if(4===i.readyState)return n(null,200!==i.status?\"error\":void 0)},i.open(\"POST\",e),i.setRequestHeader(\"Content-Type\",\"text/plain\"),void i.send(t)}n()}},He=Ne;function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Be(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ge(e){return Ge=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ge(e)}function We(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Je=[\"env_key\",\"view_id\",\"view_sequence_number\",\"player_sequence_number\",\"beacon_domain\",\"player_playhead_time\",\"viewer_time\",\"mux_api_version\",\"event\",\"video_id\",\"player_instance_id\"],ze=[\"viewstart\",\"error\",\"ended\",\"viewend\"],Ke=function(){function e(t,r){var n,i,o,s,u,l,c,d,f,p,h,_,v,m,y,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};We(this,e),Ve(this,\"previousBeaconData\",null),Ve(this,\"lastEventTime\",0),Ve(this,\"rateLimited\",!1),this.mux=t,this.envKey=r,this.options=b,this.eventQueue=new He(xe(this.envKey,this.options)),this.sampleRate=null!==(n=this.options.sampleRate)&&void 0!==n?n:1,this.disableCookies=null!==(i=this.options.disableCookies)&&void 0!==i&&i,this.respectDoNotTrack=null!==(o=this.options.respectDoNotTrack)&&void 0!==o&&o,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:null===(s=this.options.platform)||void 0===s?void 0:s.name,viewer_application_version:null===(u=this.options.platform)||void 0===u?void 0:u.version,viewer_application_engine:null===(l=this.options.platform)||void 0===l?void 0:l.layout,viewer_device_name:null===(c=this.options.platform)||void 0===c?void 0:c.product,viewer_device_category:\"\",viewer_device_manufacturer:null===(d=this.options.platform)||void 0===d?void 0:d.manufacturer,viewer_os_family:null===(f=this.options.platform)||void 0===f||null===(p=f.os)||void 0===p?void 0:p.family,viewer_os_architecture:null===(h=this.options.platform)||void 0===h||null===(_=h.os)||void 0===_?void 0:_.architecture,viewer_os_version:null===(v=this.options.platform)||void 0===v||null===(m=v.os)||void 0===m?void 0:m.version,viewer_connection_type:Oe(),page_url:null===a()||void 0===a()||null===(y=a().location)||void 0===y?void 0:y.href},this.viewerData=this.disableCookies?{}:Ee()}var t,r,n;return t=e,(r=[{key:\"send\",value:function(e,t){var r;if(e){if(this.respectDoNotTrack&&p())return f.info(\"Not sending `\"+e+\"` because Do Not Track is enabled\");if(!t||\"object\"!==Ge(t))return f.error(\"A data object was expected in send() but was not provided\");var n,a,o=this.disableCookies?{}:(n=Te(),a=h.now(),n.session_start&&(n.sst=n.session_start,delete n.session_start),n.session_id&&(n.sid=n.session_id,delete n.session_id),n.session_expires&&(n.sex=n.session_expires,delete n.session_expires),(!n.sex||n.sex<a)&&(n.sid=i(),n.sst=a),n.sex=a+15e5,ke(n),{session_id:n.sid,session_start:n.sst,session_expires:n.sex}),s=Fe(Fe(Fe(Fe(Fe({},this.pageLevelData),t),o),this.viewerData),{},{event:e,env_key:this.envKey});s.user_id&&(s.viewer_user_id=s.user_id,delete s.user_id);var u=(null!==(r=s.mux_sample_number)&&void 0!==r?r:0)>=this.sampleRate,l=Re(this._deduplicateBeaconData(e,s));if(this.lastEventTime=this.mux.utils.now(),u)return f.info(\"Not sending event due to sample rate restriction\",e,s,l);if(this.envKey||f.info(\"Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL\",e,s,l),!this.rateLimited)if(f.info(\"Sending event\",e,s,l),this.rateLimited=!this.eventQueue.queueEvent(e,l),this.mux.WINDOW_UNLOADING&&\"viewend\"===e)this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&\"hb\"===e?this.eventQueue.flushEvents(!0):ze.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return s.event=\"eventrateexceeded\",l=Re(s),this.eventQueue.queueEvent(s.event,l),f.error(\"Beaconing disabled due to rate limit.\")}}},{key:\"destroy\",value:function(){this.eventQueue.destroy(!1)}},{key:\"_deduplicateBeaconData\",value:function(e,t){var r=this,n={},a=t.view_id;if(!a||\"viewstart\"===e||\"viewend\"===e||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)n=Fe({},t),a&&(this.previousBeaconData=n),a&&\"viewend\"===e&&(this.previousBeaconData=null);else{var i=0===e.indexOf(\"request\");Object.entries(t).forEach((function(t){var a=Me(t,2),o=a[0],s=a[1];r.previousBeaconData&&(s!==r.previousBeaconData[o]||Je.indexOf(o)>-1||r.objectHasChanged(i,o,s,r.previousBeaconData[o])||r.eventRequiresKey(e,o))&&(n[o]=s,r.previousBeaconData[o]=s)}))}return n}},{key:\"objectHasChanged\",value:function(e,t,r,n){return!(!e||0!==t.indexOf(\"request_\")||\"request_response_headers\"!==t&&\"object\"===Ge(r)&&\"object\"===Ge(n)&&Object.keys(r||{}).length===Object.keys(n||{}).length)}},{key:\"eventRequiresKey\",value:function(e,t){return\"renditionchange\"===e&&0===t.indexOf(\"video_source_\")}}])&&Qe(t.prototype,r),n&&Qe(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ye(e,t,r){return t&&Xe(e.prototype,t),r&&Xe(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var $e=Ye((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=0,n=0,a=0,i=0,o=0,s=0,u=0;t.on(\"requestcompleted\",(function(e,s){var u,l,c=s.request_start,d=s.request_response_start,f=s.request_response_end,p=s.request_bytes_loaded;if(i++,d?(u=d-c,l=f-d):l=f-c,l>0&&p>0){var h=p/l*8e3;o++,n+=p,a+=l,t.data.view_min_request_throughput=Math.min(t.data.view_min_request_throughput||1/0,h),t.data.view_average_request_throughput=n/a*8e3,t.data.view_request_count=i,u>0&&(r+=u,t.data.view_max_request_latency=Math.max(t.data.view_max_request_latency||0,u),t.data.view_average_request_latency=r/o)}})),t.on(\"requestfailed\",(function(e,r){i++,s++,t.data.view_request_count=i,t.data.view_request_failed_count=s})),t.on(\"requestcanceled\",(function(e,r){i++,u++,t.data.view_request_count=i,t.data.view_request_canceled_count=u}))}));function Ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function et(e,t,r){return t&&Ze(e.prototype,t),r&&Ze(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var tt=et((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.on(\"before*\",(function(e,n){var a=n.viewer_time,i=h.now(),o=r._lastEventTime;if(r._lastEventTime=i,o&&i-o>36e5){var s=Object.keys(t.data).reduce((function(e,r){return 0===r.indexOf(\"video_\")?v()(e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,t.data[r])):e}),{});t.mux.log.info(\"Received event after at least an hour inactivity, creating a new view\"),t.emit(\"viewinit\",v()({viewer_time:a},s)),t.playbackHeartbeat._playheadShouldBeProgressing&&\"play\"!==e.type&&\"adbreakstart\"!==e.type&&(t.emit(\"play\",{viewer_time:a}),\"playing\"!==e.type&&t.emit(\"playing\",{viewer_time:a}))}}))}));function rt(e){return rt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},rt(e)}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?at(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function it(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function st(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ct(e);if(t){var a=ct(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ut(this,r)}}function ut(e,t){if(t&&(\"object\"===rt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return lt(e)}function lt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}var dt=[\"viewstart\",\"ended\",\"loadstart\",\"pause\",\"play\",\"playing\",\"ratechange\",\"waiting\",\"adplay\",\"adpause\",\"adended\",\"aderror\",\"adplaying\",\"adrequest\",\"adresponse\",\"adbreakstart\",\"adbreakend\",\"adfirstquartile\",\"admidpoint\",\"adthirdquartile\",\"rebufferstart\",\"rebufferend\",\"seeked\",\"error\",\"hb\",\"requestcompleted\",\"requestfailed\",\"requestcanceled\",\"renditionchange\"],ft=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ot(e,t)}(s,e);var t,r,n,o=st(s);function s(e,t,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),(n=o.call(this)).DOM_CONTENT_LOADED_EVENT_END=b.domContentLoadedEventEnd(),n.NAVIGATION_START=b.navigationStart(),n.mux=e,n.id=t,(r=v()({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:\"litix.io\",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(e){return e}},r)).data=r.data||{},r.data.property_key&&(r.data.env_key=r.data.property_key,delete r.data.property_key),f.setLevel(r.debug?\"debug\":\"warn\"),n.getPlayheadTime=r.getPlayheadTime,n.getStateData=r.getStateData||function(){return{}},n.getAdData=r.getAdData||function(){},n.minimumRebufferDuration=r.minimumRebufferDuration,n.sustainedRebufferThreshold=r.sustainedRebufferThreshold,n.playbackHeartbeatTime=r.playbackHeartbeatTime,n.disableRebufferTracking=r.disableRebufferTracking,n.disableRebufferTracking&&n.mux.log.warn(\"Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering.\"),n.disablePlayheadRebufferTracking=r.disablePlayheadRebufferTracking,n.errorTranslator=r.errorTranslator,n.playbackEventDispatcher=new Ke(e,r.data.env_key,r),n.data={player_instance_id:i(),mux_sample_rate:r.sampleRate,beacon_domain:r.beaconCollectionDomain?r.beaconCollectionDomain:r.beaconDomain},n.data.view_sequence_number=1,n.data.player_sequence_number=1,n.oldEmit=n.emit,n.emit=function(e,t){t=v()({viewer_time:this.mux.utils.now()},t),this.oldEmit(e,t)};var a=function(){void 0===this.data.view_start&&(this.data.view_start=this.mux.utils.now(),this.emit(\"viewstart\"))}.bind(lt(n));n.on(\"viewinit\",(function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),v()(this.data,t),this._initializeViewData(),this.one(\"play\",a),this.one(\"adbreakstart\",a)}));var u=function(e){this.emit(\"viewend\"),this.send(\"viewend\"),this.emit(\"viewinit\",e)}.bind(lt(n));if(n.on(\"videochange\",(function(e,t){u(t)})),n.on(\"programchange\",(function(e,t){this.data.player_is_paused&&this.mux.log.warn(\"The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information.\"),u(v()(t,{view_program_changed:!0})),a(),this.emit(\"play\"),this.emit(\"playing\")})),n.on(\"fragmentchange\",(function(e,t){this.currentFragmentPDT=t.currentFragmentPDT,this.currentFragmentStart=t.currentFragmentStart})),n.on(\"destroy\",n.destroy),\"undefined\"!=typeof window&&\"function\"==typeof window.addEventListener&&\"function\"==typeof window.removeEventListener){var l=function(){var e=void 0!==n.data.view_start;n.mux.WINDOW_HIDDEN=\"hidden\"===document.visibilityState,e&&n.mux.WINDOW_HIDDEN&&(n.data.player_is_paused||n.emit(\"hb\"))};window.addEventListener(\"visibilitychange\",l,!1);var c=function(e){e.persisted||n.destroy()};window.addEventListener(\"pagehide\",c,!1),n.on(\"destroy\",(function(){window.removeEventListener(\"visibilitychange\",l),window.removeEventListener(\"pagehide\",c)}))}return n.on(\"playerready\",(function(e,t){v()(this.data,t)})),dt.forEach((function(e){n.on(e,(function(t,r){0!==e.indexOf(\"ad\")&&this._updateStateData(),v()(this.data,r),this._sanitizeData()})),n.on(\"after\"+e,(function(){(\"error\"!==e||this.errorTracker.viewErrored)&&this.send(e)}))})),n.on(\"viewend\",(function(e,t){v()(n.data,t)})),n.one(\"playerready\",(function(e){var t=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send(\"playerready\"),delete this.data.player_startup_time,delete this.data.page_load_time})),n.longResumeTracker=new tt(lt(n)),n.errorTracker=new M(lt(n)),new me(lt(n)),n.seekingTracker=new ie(lt(n)),n.playheadTime=new Q(lt(n)),n.playbackHeartbeat=new N(lt(n)),new re(lt(n)),n.watchTimeTracker=new U(lt(n)),new G(lt(n)),n.adTracker=new de(lt(n)),new Y(lt(n)),new z(lt(n)),new Z(lt(n)),new he(lt(n)),new $e(lt(n)),r.hlsjs&&n.addHLSJS(r),r.dashjs&&n.addDashJS(r),n.emit(\"viewinit\",r.data),n}return t=s,r=[{key:\"destroy\",value:function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit(\"viewend\"),this.send(\"viewend\")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:\"send\",value:function(e){var t=v()({},this.data);if(void 0===t.video_source_is_live&&(t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1)),t.video_source_is_live||[\"player_program_time\",\"player_manifest_newest_program_time\",\"player_live_edge_program_time\",\"player_program_time\",\"video_holdback\",\"video_part_holdback\",\"video_target_duration\",\"video_part_target_duration\"].forEach((function(e){t[e]=void 0})),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r=nt(y(t.video_source_url),2),n=r[0],a=r[1];t.video_source_domain=a,t.video_source_hostname=n}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()}},{key:\"_updateStateData\",value:function(){v()(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:\"_sanitizeData\",value:function(){var e=this;[\"player_width\",\"player_height\",\"video_source_width\",\"video_source_height\",\"player_playhead_time\",\"video_source_bitrate\"].forEach((function(t){var r=parseInt(e.data[t],10);e.data[t]=isNaN(r)?void 0:r})),[\"player_source_url\",\"video_source_url\"].forEach((function(t){if(e.data[t]){var r=e.data[t].toLowerCase();0!==r.indexOf(\"data:\")&&0!==r.indexOf(\"blob:\")||(e.data[t]=\"MSE style URL\")}}))}},{key:\"_resetVideoData\",value:function(e,t){var r=this;Object.keys(this.data).forEach((function(e){0===e.indexOf(\"video_\")&&delete r.data[e]}))}},{key:\"_resetViewData\",value:function(){var e=this;Object.keys(this.data).forEach((function(t){0===t.indexOf(\"view_\")&&delete e.data[t]})),this.data.view_sequence_number=1}},{key:\"_resetErrorData\",value:function(e,t){delete this.data.player_error_code,delete this.data.player_error_message}},{key:\"_initializeViewData\",value:function(){var e=this,t=this.data.view_id=i(),r=function(){t===e.data.view_id&&g(e.data,\"player_view_count\",1)};this.data.player_is_paused?this.one(\"play\",r):r()}},{key:\"_restartHeartBeat\",value:function(){var e=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout((function(){e.data.player_is_paused||e.emit(\"hb\")}),1e4))}},{key:\"addHLSJS\",value:function(e){e.hlsjs?this.hlsjs?this.mux.log.warn(\"An instance of HLS.js is already being monitored for this player.\"):(this.hlsjs=e.hlsjs,function(e,t,r){var n=arguments.length>4?arguments[4]:void 0,a=e.log,i=e.utils.secondsToMs,o=function(e){var t,r=parseInt(n.version);return 1===r&&null!==e.programDateTime&&(t=e.programDateTime),0===r&&null!==e.pdt&&(t=e.pdt),t};if(b.exists()){var s=function(r,n){return e.emit(t,r,n)},u=function(e,t){var r=t.levels,n=t.audioTracks,a=t.url,i=t.stats,o=t.networkDetails,u=t.sessionData,l={},c={};r.forEach((function(e,t){l[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}})),n.forEach((function(e,t){c[t]={name:e.name,language:e.lang,bitrate:e.bitrate}}));var d=S(i),f=d.bytesLoaded,p=d.requestStart,h=d.responseStart,_=d.responseEnd;s(\"requestcompleted\",x(x({},k(u)),{},{request_event_type:e,request_bytes_loaded:f,request_start:p,request_response_start:h,request_response_end:_,request_type:\"manifest\",request_hostname:m(a),request_response_headers:O(o),request_rendition_lists:{media:l,audio:c,video:{}}}))};r.on(n.Events.MANIFEST_LOADED,u);var l=function(e,t){var r=t.details,n=t.level,a=t.networkDetails,u=t.stats,l=S(u),c=l.bytesLoaded,d=l.requestStart,f=l.responseStart,p=l.responseEnd,h=r.fragments[r.fragments.length-1],_=o(h)+i(h.duration);s(\"requestcompleted\",{request_event_type:e,request_bytes_loaded:c,request_start:d,request_response_start:f,request_response_end:p,request_current_level:n,request_type:\"manifest\",request_hostname:m(r.url),request_response_headers:O(a),video_holdback:r.holdBack&&i(r.holdBack),video_part_holdback:r.partHoldBack&&i(r.partHoldBack),video_part_target_duration:r.partTarget&&i(r.partTarget),video_target_duration:r.targetduration&&i(r.targetduration),video_source_is_live:r.live,player_manifest_newest_program_time:isNaN(_)?void 0:_})};r.on(n.Events.LEVEL_LOADED,l);var c=function(e,t){var r=t.details,n=t.networkDetails,a=t.stats,i=S(a),o=i.bytesLoaded,u=i.requestStart,l=i.responseStart,c=i.responseEnd;s(\"requestcompleted\",{request_event_type:e,request_bytes_loaded:o,request_start:u,request_response_start:l,request_response_end:c,request_type:\"manifest\",request_hostname:m(r.url),request_response_headers:O(n)})};r.on(n.Events.AUDIO_TRACK_LOADED,c);var d=function(e,t){var n=t.stats,a=t.networkDetails,i=t.frag;n=n||i.stats;var o=S(n),u=o.bytesLoaded,l=o.requestStart,c=o.responseStart,d=o.responseEnd,f=O(a),p=null==f?void 0:f[\"x-request-id\"],h={request_event_type:e,request_bytes_loaded:u,request_start:l,request_response_start:c,request_response_end:d,request_hostname:a?m(a.responseURL):void 0,request_id:p,request_response_headers:f,request_media_duration:i.duration,request_url:null==a?void 0:a.responseURL};\"main\"===i.type?(h.request_type=\"media\",h.request_current_level=i.level,h.request_video_width=(r.levels[i.level]||{}).width,h.request_video_height=(r.levels[i.level]||{}).height,h.request_labeled_bitrate=(r.levels[i.level]||{}).bitrate):h.request_type=i.type,s(\"requestcompleted\",h)};r.on(n.Events.FRAG_LOADED,d);var f=function(e,t){var r=t.frag,n=r.start,a={currentFragmentPDT:o(r),currentFragmentStart:i(n)};s(\"fragmentchange\",a)};r.on(n.Events.FRAG_CHANGED,f);var p=function(e,t){var r=t.type,a=t.details,i=t.response,o=t.fatal,u=t.context,l=t.frag;if(a===n.ErrorDetails.MANIFEST_LOAD_ERROR||a===n.ErrorDetails.MANIFEST_LOAD_TIMEOUT||a===n.ErrorDetails.FRAG_LOAD_ERROR||a===n.ErrorDetails.FRAG_LOAD_TIMEOUT||a===n.ErrorDetails.LEVEL_LOAD_ERROR||a===n.ErrorDetails.LEVEL_LOAD_TIMEOUT){var c=l&&l.url||u&&u.url||\"\";s(\"requestfailed\",{request_error:a,request_url:c,request_hostname:m(c),request_type:a===n.ErrorDetails.FRAG_LOAD_ERROR||a===n.ErrorDetails.FRAG_LOAD_TIMEOUT?\"media\":\"manifest\",request_error_code:i&&i.code,request_error_text:i&&i.text})}o&&s(\"error\",{player_error_code:r,player_error_message:a})};r.on(n.Events.ERROR,p);var h=function(e,t){var r=t.frag,n=r&&r._url||\"\";s(\"requestcanceled\",{request_event_type:e,request_url:n,request_type:\"media\",request_hostname:m(n)})};r.on(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,h);var _=function(e,t){var n=t.level,i=r.levels[n];if(i&&i.attrs&&i.attrs.BANDWIDTH){var o,u=i.attrs.BANDWIDTH,l=parseFloat(i.attrs[\"FRAME-RATE\"]);isNaN(l)||(o=l),u?s(\"renditionchange\",{video_source_fps:o,video_source_bitrate:u,video_source_width:i.width,video_source_height:i.height}):a.warn(\"missing BANDWIDTH from HLS manifest parsed by HLS.js\")}};r.on(n.Events.LEVEL_SWITCHED,_),r._stopMuxMonitor=function(){r.off(n.Events.MANIFEST_LOADED,u),r.off(n.Events.LEVEL_LOADED,l),r.off(n.Events.AUDIO_TRACK_LOADED,c),r.off(n.Events.FRAG_LOADED,d),r.off(n.Events.FRAG_CHANGED,f),r.off(n.Events.ERROR,p),r.off(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,h),r.off(n.Events.LEVEL_SWITCHED,_),r.off(n.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(n.Events.DESTROYING,r._stopMuxMonitor)}else a.warn(\"performance timing not supported. Not tracking HLS.js.\")}(this.mux,this.id,e.hlsjs,{},e.Hls||window.Hls)):this.mux.log.warn(\"You must pass a valid hlsjs instance in order to track it.\")}},{key:\"removeHLSJS\",value:function(){var e;this.hlsjs&&((e=this.hlsjs)&&\"function\"==typeof e._stopMuxMonitor&&e._stopMuxMonitor(),this.hlsjs=void 0)}},{key:\"addDashJS\",value:function(e){e.dashjs?this.dashjs?this.mux.log.warn(\"An instance of Dash.js is already being monitored for this player.\"):(this.dashjs=e.dashjs,function(e,t,r){var n=e.log;if(r&&r.on){var i=function(r,n){return e.emit(t,r,n)},o=function(e){var t=e.type,r=(e.data||{}).url;i(\"requestcompleted\",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:\"manifest\",request_hostname:m(r),request_url:r})};r.on(\"manifestLoaded\",o);var s={},u=function(e){var t=e.type,n=e.fragmentModel,a=(e.chunk||{}).mediaInfo||{},o=a.type,u=a.bitrateList,l={};(u=u||[]).forEach((function(e,t){l[t]={},l[t].width=e.width,l[t].height=e.height,l[t].bitrate=e.bandwidth,l[t].attrs={}})),\"video\"===o?s.video=l:\"audio\"===o?s.audio=l:s.media=l;var c=q(n,r),d=c.requestStart,f=c.requestResponseStart,p=c.requestResponseEnd,h=c.requestResponseHeaders,_=c.requestMediaDuration,v=c.requestHostname,m=c.requestUrl;i(\"requestcompleted\",{request_event_type:t,request_start:d,request_response_start:f,request_response_end:p,request_bytes_loaded:-1,request_type:o+\"_init\",request_response_headers:h,request_hostname:v,request_url:m,request_media_duration:_,request_rendition_lists:s})};r.on(\"initFragmentLoaded\",u);var l=function(e){var t=e.type,n=e.fragmentModel,a=e.chunk||{},o=a.mediaInfo,s=a.start,u=(o||{}).type,l=q(n,r),c=l.requestStart,d=l.requestResponseStart,f=l.requestResponseEnd,p=l.requestBytesLoaded,h=l.requestResponseHeaders,_=l.requestMediaDuration,v=l.requestHostname,m=l.requestUrl,y=P(u,r),b=y.currentLevel,g=y.renditionWidth,w=y.renditionHeight,T=y.renditionBitrate;i(\"requestcompleted\",{request_event_type:t,request_start:c,request_response_start:d,request_response_end:f,request_bytes_loaded:p,request_type:u,request_response_headers:h,request_hostname:v,request_url:m,request_media_start_time:s,request_media_duration:_,request_current_level:b,request_labeled_bitrate:T,request_video_width:g,request_video_height:w})};r.on(\"mediaFragmentLoaded\",l);var c={video:void 0,audio:void 0,totalBitrate:void 0},d=function(){if(c.video&&\"number\"==typeof c.video.bitrate){if(c.video.width&&c.video.height){var e=c.video.bitrate;return c.audio&&\"number\"==typeof c.audio.bitrate&&(e+=c.audio.bitrate),e!==c.totalBitrate?(c.totalBitrate=e,{video_source_bitrate:e,video_source_height:c.video.height,video_source_width:c.video.width}):void 0}n.warn(\"have bitrate info for video but missing width/height\")}},f=function(e,t,a){if(\"number\"==typeof e.newQuality){var o=e.mediaType;if(\"audio\"===o||\"video\"===o){var s=r.getBitrateInfoListFor(o).find((function(t){return t.qualityIndex===e.newQuality}));if(s&&\"number\"==typeof s.bitrate){c[o]=s;var u=d();u&&i(\"renditionchange\",u)}else n.warn(\"missing bitrate info for \".concat(o))}}else n.warn(\"missing evt.newQuality in qualityChangeRendered event\",e)};r.on(\"qualityChangeRendered\",f);var p=function(e){var t=e.error,r=e.event,n=(r=r||{}).request||{},o=a().event&&a().event.currentTarget||{};i(\"requestfailed\",{request_error:t+\"_\"+r.id+\"_\"+n.type,request_url:r.url,request_hostname:m(r.url),request_type:n.mediaType,request_error_code:o.status,request_error_type:o.statusText})};r.on(\"error\",p),r._stopMuxMonitor=function(){r.off(\"manifestLoaded\",o),r.off(\"initFragmentLoaded\",u),r.off(\"mediaFragmentLoaded\",l),r.off(\"qualityChangeRendered\",f),r.off(\"error\",p),delete r._stopMuxMonitor}}else n.warn(\"Invalid dash.js player reference. Monitoring blocked.\")}(this.mux,this.id,e.dashjs)):this.mux.log.warn(\"You must pass a valid dashjs instance in order to track it.\")}},{key:\"removeDashJS\",value:function(){var e;this.dashjs&&((e=this.dashjs)&&\"function\"==typeof e._stopMuxMonitor&&e._stopMuxMonitor(),this.dashjs=void 0)}}],r&&it(t.prototype,r),n&&it(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(L),pt=ft,ht=r(153),_t=r.n(ht);function vt(e){return vt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},vt(e)}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bt,gt=[\"loadstart\",\"pause\",\"play\",\"playing\",\"seeking\",\"seeked\",\"timeupdate\",\"ratechange\",\"stalled\",\"waiting\",\"error\",\"ended\"],wt={1:\"MEDIA_ERR_ABORTED\",2:\"MEDIA_ERR_NETWORK\",3:\"MEDIA_ERR_DECODE\",4:\"MEDIA_ERR_SRC_NOT_SUPPORTED\"};a()&&a().WeakMap&&(bt=new WeakMap);var Tt=\"#EXT-X-TARGETDURATION\",kt=\"#EXT-X-PART-INF\",Et=\"#EXT-X-SERVER-CONTROL\",xt=\"#EXTINF\",Dt=\"#EXT-X-PROGRAM-DATE-TIME\",St=\"#EXT-X-VERSION\",Ot=\"#EXT-X-SESSION-DATA\",qt=function(e){return this.buffer=\"\",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(e),this.manifest};qt.prototype.process=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf(\"\\n\");t>-1;t=this.buffer.indexOf(\"\\n\"))this.processLine(this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},qt.prototype.processLine=function(e){var t=e.indexOf(\":\"),r=Nt(e,t),n=r[0],a=2===r.length?Rt(r[1]):void 0;if(\"#\"!==n[0])this.currentUri.uri=n,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!(\"duration\"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(n){case Tt:if(!isFinite(a)||a<0)return;this.manifest.targetDuration=a,this.setHoldBack();break;case kt:Pt(this.manifest,r),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case Et:Pt(this.manifest,r),this.setHoldBack();break;case xt:0===a?this.currentUri.duration=.01:a>0&&(this.currentUri.duration=a);break;case Dt:var i=a,o=new Date(i);this.manifest.dateTimeString||(this.manifest.dateTimeString=i,this.manifest.dateTimeObject=o),this.currentUri.dateTimeString=i,this.currentUri.dateTimeObject=o;break;case St:Pt(this.manifest,r);break;case Ot:var s=Ct(r[1]),u=k(s);v()(this.manifest.sessionData,u)}},qt.prototype.setHoldBack=function(){var e=this.manifest,t=e.serverControl,r=e.targetDuration,n=e.partTargetDuration;if(t){var a=\"holdBack\",i=\"partHoldBack\",o=r&&3*r,s=n&&2*n;r&&!t.hasOwnProperty(a)&&(t[a]=o),o&&t[a]<o&&(t[a]=o),n&&!t.hasOwnProperty(i)&&(t[i]=3*n),n&&t[i]<s&&(t[i]=s)}};var Pt=function(e,t){var r,n=At(t[0].replace(\"#EXT-X-\",\"\"));jt(t[1])?(r={},r=v()(Lt(t[1]),r)):r=Rt(t[1]),e[n]=r},At=function(e){return e.toLowerCase().replace(/-(\\w)/g,(function(e){return e[1].toUpperCase()}))},Rt=function(e){if(\"yes\"===e.toLowerCase()||\"no\"===e.toLowerCase())return\"yes\"===e.toLowerCase();var t=-1!==e.indexOf(\":\")?e:parseFloat(e);return isNaN(t)?e:t},It=function(e){var t={},r=e.split(\"=\");return r.length>1&&(t[At(r[0])]=Rt(r[1])),t},Lt=function(e){for(var t=e.split(\",\"),r={},n=0;t.length>n;n++){var a=t[n],i=It(a);r=v()(i,r)}return r},jt=function(e){return e.indexOf(\"=\")>-1},Nt=function(e,t){return-1===t?[e]:[e.substring(0,t),e.substring(t+1)]},Ct=function(e){var t={};if(e){var r=e.search(\",\");return[e.slice(0,r),e.slice(r+1)].forEach((function(e,r){for(var n=e.replace(/['\"]+/g,\"\").split(\"=\"),a=0;a<n.length;a++)\"DATA-ID\"===n[a]&&(t[\"DATA-ID\"]=n[1-a]),\"VALUE\"===n[a]&&(t.VALUE=n[1-a])})),{data:t}}},Ht=qt,Mt={safeCall:function(e,t,r,n){var a=n;if(e&&\"function\"==typeof e[t])try{a=e[t].apply(e,r)}catch(e){f.info(\"safeCall error\",e)}return a},safeIncrement:g,getComputedStyle:function(e,t){var r;if(e&&t&&a()&&\"function\"==typeof a().getComputedStyle)return bt&&bt.has(e)&&(r=bt.get(e)),r||(r=a().getComputedStyle(e,null),bt&&bt.set(e,r)),r.getPropertyValue(t)},secondsToMs:function(e){return Math.floor(1e3*e)},assign:v(),headersStringToObject:T,extractHostnameAndDomain:y,extractHostname:m,manifestParser:Ht,generateShortID:o,generateUUID:i,now:h.now},Bt={PLAYER_READY:\"playerready\",VIEW_INIT:\"viewinit\",VIDEO_CHANGE:\"videochange\",PLAY:\"play\",PAUSE:\"pause\",PLAYING:\"playing\",TIME_UPDATE:\"timeupdate\",SEEKING:\"seeking\",SEEKED:\"seeked\",REBUFFER_START:\"rebufferstart\",REBUFFER_END:\"rebufferend\",ERROR:\"error\",ENDED:\"ended\",RENDITION_CHANGE:\"renditionchange\",ORIENTATION_CHANGE:\"orientationchange\",AD_REQUEST:\"adrequest\",AD_RESPONSE:\"adresponse\",AD_BREAK_START:\"adbreakstart\",AD_PLAY:\"adplay\",AD_PLAYING:\"adplaying\",AD_PAUSE:\"adpause\",AD_FIRST_QUARTILE:\"adfirstquartile\",AD_MID_POINT:\"admidpoint\",AD_THIRD_QUARTILE:\"adthirdquartile\",AD_ENDED:\"adended\",AD_BREAK_END:\"adbreakend\",AD_ERROR:\"aderror\",REQUEST_COMPLETED:\"requestcompleted\",REQUEST_FAILED:\"requestfailed\",REQUEST_CANCELLED:\"requestcanceled\"};function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gt={},Wt=function e(t){var r=arguments;\"string\"==typeof t?e.hasOwnProperty(t)?a().setTimeout((function(){r=Array.prototype.splice.call(r,1),e[t].apply(null,r)}),0):f.warn(\"`\"+t+\"` is an unknown task\"):\"function\"==typeof t?a().setTimeout((function(){t(e)}),0):f.warn(\"`\"+t+\"` is invalid.\")},Qt={loaded:h.now(),NAME:\"mux-embed\",VERSION:\"4.15.0\",API_VERSION:\"2.1\",PLAYER_TRACKED:!1,monitor:function(e,t){return function(e,t,r){var n=mt(u(t),3),a=n[0],i=n[1],o=n[2],s=e.log,l=e.utils.getComputedStyle,c=e.utils.secondsToMs;if(!a)return s.error(\"No element was found with the `\"+i+\"` query selector.\");if(\"video\"!==o&&\"audio\"!==o)return s.error(\"The element of `\"+i+\"` was not a media element.\");a.mux&&(a.mux.destroy(),delete a.mux,s.warn(\"Already monitoring this video element, replacing existing event listeners\")),(r=v()({automaticErrorTracking:!0},r)).data=v()({player_software:\"HTML5 Video Element\",player_mux_plugin_name:\"VideoElementMonitor\",player_mux_plugin_version:e.VERSION},r.data),r.getPlayheadTime=function(){return c(a.currentTime)},r.getStateData=function(){var e=this.hlsjs&&this.hlsjs.url,t=this.dashjs&&vt(\"function\"===this.dashjs.getSource)&&this.dashjs.getSource(),n={player_is_paused:a.paused,player_playhead_time:c(a.currentTime),player_width:parseInt(l(a,\"width\")),player_height:parseInt(l(a,\"height\")),player_autoplay_on:a.autoplay,player_preload_on:a.preload,player_language_code:a.lang,player_is_fullscreen:_t()&&!!(_t().fullscreenElement||_t().webkitFullscreenElement||_t().mozFullScreenElement||_t().msFullscreenElement),video_poster_url:a.poster,video_source_url:e||t||a.currentSrc,video_source_duration:c(a.duration),video_source_height:a.videoHeight,video_source_width:a.videoWidth},i=r.getPlayheadTime();if(a.getStartDate&&i>0){var o=a.getStartDate();if(o&&\"function\"==typeof o.getTime&&o.getTime()){var s=o.getTime();if(n.player_program_time=s+i,a.seekable.length>0){var u=s+a.seekable.end(a.seekable.length-1);n.player_live_edge_program_time=u}}}return n},a.mux=a.mux||{},a.mux.deleted=!1,a.mux.emit=function(t,r){e.emit(i,t,r)};var d=function(){s.error(\"The monitor for this video element has already been destroyed.\")};a.mux.destroy=function(){Object.keys(a.mux.listeners).forEach((function(e){a.removeEventListener(e,a.mux.listeners[e],!1)})),delete a.mux.listeners,a.mux.destroy=d,a.mux.swapElement=d,a.mux.emit=d,a.mux.addHLSJS=d,a.mux.addDashJS=d,a.mux.removeHLSJS=d,a.mux.removeDashJS=d,a.mux.deleted=!0,e.emit(i,\"destroy\")},a.mux.swapElement=function(t){var r=mt(u(t),3),n=r[0],i=r[1],o=r[2];return n?\"video\"!==o&&\"audio\"!==o?e.log.error(\"The element of `\"+i+\"` was not a media element.\"):(n.muxId=a.muxId,delete a.muxId,n.mux=n.mux||{},n.mux.listeners=v()({},a.mux.listeners),delete a.mux.listeners,Object.keys(n.mux.listeners).forEach((function(e){a.removeEventListener(e,n.mux.listeners[e],!1),n.addEventListener(e,n.mux.listeners[e],!1)})),n.mux.swapElement=a.mux.swapElement,n.mux.destroy=a.mux.destroy,delete a.mux,void(a=n)):e.log.error(\"No element was found with the `\"+i+\"` query selector.\")},a.mux.addHLSJS=function(t){e.addHLSJS(i,t)},a.mux.addDashJS=function(t){e.addDashJS(i,t)},a.mux.removeHLSJS=function(){e.removeHLSJS(i)},a.mux.removeDashJS=function(){e.removeDashJS(i)},e.init(i,r),e.emit(i,\"playerready\"),a.paused||(e.emit(i,\"play\"),a.readyState>2&&e.emit(i,\"playing\")),a.mux.listeners={},gt.forEach((function(t){(\"error\"!==t||r.automaticErrorTracking)&&(a.mux.listeners[t]=function(){var r={};if(\"error\"===t){if(!a.error)return;if(1===a.error.code)return;r.player_error_code=a.error.code,r.player_error_message=wt[a.error.code]||a.error.message}e.emit(i,t,r)},a.addEventListener(t,a.mux.listeners[t],!1))}))}(Wt,e,t)},destroyMonitor:function(e){var t=Ut(u(e),1)[0];t&&t.mux&&\"function\"==typeof t.mux.destroy?t.mux.destroy():f.error(\"A video element monitor for `\"+e+\"` has not been initialized via `mux.monitor`.\")},addHLSJS:function(e,t){var r=s(e);Gt[r]?Gt[r].addHLSJS(t):f.error(\"A monitor for `\"+r+\"` has not been initialized.\")},addDashJS:function(e,t){var r=s(e);Gt[r]?Gt[r].addDashJS(t):f.error(\"A monitor for `\"+r+\"` has not been initialized.\")},removeHLSJS:function(e){var t=s(e);Gt[t]?Gt[t].removeHLSJS():f.error(\"A monitor for `\"+t+\"` has not been initialized.\")},removeDashJS:function(e){var t=s(e);Gt[t]?Gt[t].removeDashJS():f.error(\"A monitor for `\"+t+\"` has not been initialized.\")},init:function(e,t){p()&&t&&t.respectDoNotTrack&&f.info(\"The browser's Do Not Track flag is enabled - Mux beaconing is disabled.\");var r=s(e);Gt[r]=new pt(Wt,r,t)},emit:function(e,t,r){var n=s(e);Gt[n]?(Gt[n].emit(t,r),\"destroy\"===t&&delete Gt[n]):f.error(\"A monitor for `\"+n+\"` has not been initialized.\")},checkDoNotTrack:p,log:f,utils:Mt,events:Bt,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(Wt,Qt),void 0!==a()&&\"function\"==typeof a().addEventListener&&a().addEventListener(\"pagehide\",(function(e){e.persisted||(Wt.WINDOW_UNLOADING=!0)}),!1);var Vt=Wt},655:function(e,t,r){var n,a;function i(e){return i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i(e)\n/*!\n * JavaScript Cookie v2.1.3\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */}!function(o){var s=!1;if(void 0===(a=\"function\"==typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=a),s=!0,\"object\"===i(t)&&(e.exports=o(),s=!0),!s){var u=window.Cookies,l=window.Cookies=o();l.noConflict=function(){return window.Cookies=u,l}}}((function(){var e=function(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t};return function t(r){function n(t,a,i){var o;if(\"undefined\"!=typeof document){if(arguments.length>1){if(\"number\"==typeof(i=e({path:\"/\"},n.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{o=JSON.stringify(a),/^[\\{\\[]/.test(o)&&(a=o)}catch(e){}return a=r.write?r.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\\(\\)]/g,escape),document.cookie=[t,\"=\",a,i.expires?\"; expires=\"+i.expires.toUTCString():\"\",i.path?\"; path=\"+i.path:\"\",i.domain?\"; domain=\"+i.domain:\"\",i.secure?\"; secure\":\"\"].join(\"\")}t||(o={});for(var u=document.cookie?document.cookie.split(\"; \"):[],l=/(%[0-9A-Z]{2})+/g,c=0;c<u.length;c++){var d=u[c].split(\"=\"),f=d.slice(1).join(\"=\");'\"'===f.charAt(0)&&(f=f.slice(1,-1));try{var p=d[0].replace(l,decodeURIComponent);if(f=r.read?r.read(f,p):r(f,p)||f.replace(l,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===p){o=f;break}t||(o[p]=f)}catch(e){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,\"\",e(r,{expires:-1}))},n.withConverter=t,n}((function(){}))}))},153:function(e,t,r){var n,a=void 0!==r.g?r.g:\"undefined\"!=typeof window?window:{},i=r(558);\"undefined\"!=typeof document?n=document:(n=a[\"__GLOBAL_DOCUMENT_CACHE@4\"])||(n=a[\"__GLOBAL_DOCUMENT_CACHE@4\"]=i),e.exports=n},48:function(e,t,r){var n;n=\"undefined\"!=typeof window?window:void 0!==r.g?r.g:\"undefined\"!=typeof self?self:{},e.exports=n},678:function(e){var t=9007199254740991,r=\"[object Arguments]\",n=\"[object Function]\",a=\"[object GeneratorFunction]\",i=/^(?:0|[1-9]\\d*)$/;function o(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var s,u,l=Object.prototype,c=l.hasOwnProperty,d=l.toString,f=l.propertyIsEnumerable,p=(s=Object.keys,u=Object,function(e){return s(u(e))}),h=Math.max,_=!f.call({valueOf:1},\"valueOf\");function v(e,t){var n=w(e)||function(e){return function(e){return function(e){return!!e&&\"object\"==typeof e}(e)&&T(e)}(e)&&c.call(e,\"callee\")&&(!f.call(e,\"callee\")||d.call(e)==r)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],a=n.length,i=!!a;for(var o in e)!t&&!c.call(e,o)||i&&(\"length\"==o||y(o,a))||n.push(o);return n}function m(e,t,r){var n=e[t];c.call(e,t)&&g(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function y(e,r){return!!(r=null==r?t:r)&&(\"number\"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<r}function b(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||l)}function g(e,t){return e===t||e!=e&&t!=t}var w=Array.isArray;function T(e){return null!=e&&function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=t}(e.length)&&!function(e){var t=k(e)?d.call(e):\"\";return t==n||t==a}(e)}function k(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}var E,x=(E=function(e,t){if(_||b(t)||T(t))!function(e,t,r,n){r||(r={});for(var a=-1,i=t.length;++a<i;){var o=t[a],s=n?n(r[o],e[o],o,r,e):void 0;m(r,o,void 0===s?e[o]:s)}}(t,function(e){return T(e)?v(e):function(e){if(!b(e))return p(e);var t=[];for(var r in Object(e))c.call(e,r)&&\"constructor\"!=r&&t.push(r);return t}(e)}(t),e);else for(var r in t)c.call(t,r)&&m(e,r,t[r])},function(e,t){return t=h(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,a=h(r.length-t,0),i=Array(a);++n<a;)i[n]=r[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=r[n];return s[t]=i,o(e,this,s)}}((function(e,t){var r=-1,n=t.length,a=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(a=E.length>3&&\"function\"==typeof a?(n--,a):void 0,i&&function(e,t,r){if(!k(r))return!1;var n=typeof t;return!!(\"number\"==n?T(r)&&y(t,r.length):\"string\"==n&&t in r)&&g(r[t],e)}(t[0],t[1],i)&&(a=n<3?void 0:a,n=1),e=Object(e);++r<n;){var o=t[r];o&&E(e,o,r,a)}return e})));e.exports=x},640:function(e,t,r){var n,a;!function(i,o){\"use strict\";n=function(){var e=function(){},t=\"undefined\",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\\/|MSIE /.test(window.navigator.userAgent),n=[\"trace\",\"debug\",\"info\",\"warn\",\"error\"];function a(e,t){var r=e[t];if(\"function\"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(n){return\"debug\"===n&&(n=\"log\"),typeof console!==t&&(\"trace\"===n&&r?i:void 0!==console[n]?a(console,n):void 0!==console.log?a(console,\"log\"):e)}function s(t,r){for(var a=0;a<n.length;a++){var i=n[a];this[i]=a<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function u(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function l(e,t,r){return o(e)||u.apply(this,arguments)}function c(e,r,a){var i,o=this;r=null==r?\"WARN\":r;var u=\"loglevel\";function c(e){var r=(n[e]||\"silent\").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+\"=\"+r+\";\"}catch(e){}}}function d(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+\"=\");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}function f(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+\"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\"}catch(e){}}}\"string\"==typeof e?u+=\":\"+e:\"symbol\"==typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=a||l,o.getLevel=function(){return i},o.setLevel=function(r,n){if(\"string\"==typeof r&&void 0!==o.levels[r.toUpperCase()]&&(r=o.levels[r.toUpperCase()]),!(\"number\"==typeof r&&r>=0&&r<=o.levels.SILENT))throw\"log.setLevel() called with invalid level: \"+r;if(i=r,!1!==n&&c(r),s.call(o,r,e),typeof console===t&&r<o.levels.SILENT)return\"No console available for logging\"},o.setDefaultLevel=function(e){r=e,d()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(r,!1),f()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var p=d();null==p&&(p=r),o.setLevel(p,!1)}var d=new c,f={};d.getLogger=function(e){if(\"symbol\"!=typeof e&&\"string\"!=typeof e||\"\"===e)throw new TypeError(\"You must supply a name when creating a logger.\");var t=f[e];return t||(t=f[e]=new c(e,d.getLevel(),d.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=p),d},d.getLoggers=function(){return f},d.default=d,d},void 0===(a=\"function\"==typeof n?n.call(t,r,t,e):n)||(e.exports=a)}()},375:function(e,t){\"use strict\";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\\+/g,\" \"))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||\"\";var n,i,o=[];for(i in\"string\"!=typeof t&&(t=\"?\"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=\"\"),i=a(i),n=a(n),null===i||null===n)continue;o.push(i+\"=\"+n)}return o.length?t+o.join(\"&\"):\"\"},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,a={};t=r.exec(e);){var i=n(t[1]),o=n(t[2]);null===i||null===o||i in a||(a[i]=o)}return a}},558:function(){}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}return r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r(80)}()},\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"object\"==typeof exports?exports.mux=t():e.mux=t();window.mux=t()}();"],"names":["uuid","v"],"version":3,"file":"index.js.map","sourceRoot":"/__parcel_source_root/"}